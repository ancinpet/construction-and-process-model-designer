{"version":3,"sources":["webpack:///./src/main/js/apps/portfolio/styles.css","webpack:///./src/main/js/apps/portfolio/styles.css?3a4d","webpack:///./src/main/js/apps/portfolio/components/Summary.tsx","webpack:///./src/main/js/apps/portfolio/components/Subscription.tsx","webpack:///./src/main/js/api/report.ts","webpack:///./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","webpack:///./src/main/js/apps/portfolio/components/Report.tsx","webpack:///./src/main/js/apps/portfolio/components/WorstProjects.tsx","webpack:///./src/main/js/apps/portfolio/components/RatingFreshness.tsx","webpack:///./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Effort.tsx","webpack:///./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/MainRating.tsx","webpack:///./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/SecurityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Activity.tsx","webpack:///./src/main/js/apps/portfolio/utils.ts","webpack:///./src/main/js/apps/portfolio/components/App.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/HelpTooltip.css?42d2","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/icons-components/AlertSuccessIcon.tsx","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/components/ui/Rating.css?115d","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/ui/Level.css?4e69","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/apps/projectActivity/utils.ts","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/icons-components/VisibleIcon.tsx","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/components/icons-components/BubblesIcon.tsx","webpack:///./src/main/js/components/icons-components/ChartLegendIcon.tsx","webpack:///./src/main/js/components/charts/LineChart.css?1665","webpack:///./node_modules/lodash/flatMap.js","webpack:///../sonar-docs/src/tooltips/project/visibility-public-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-private.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public.md","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/charts/BarChart.css?f378","webpack:///./src/main/js/components/charts/Histogram.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./src/main/js/api/time-machine.ts","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/chunk.js","webpack:///./src/main/js/components/charts/AdvancedTimeline.css","webpack:///./src/main/js/components/charts/AdvancedTimeline.css?bebb","webpack:///./src/main/js/components/charts/AdvancedTimeline.tsx","webpack:///./node_modules/lodash/_baseLt.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./src/main/js/components/charts/LineChart.css","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/charts/Histogram.css","webpack:///./src/main/js/components/charts/Histogram.css?9e83","webpack:///./src/main/js/components/icons-components/HistoryIcon.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltips.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraph.tsx","webpack:///./node_modules/lodash/max.js"],"names":["module","exports","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","locals","Summary","_a","component","measures","projects","ncloc","nclocDistribution","index_js_exposed","className","id","description","react_router_es","to","Object","urls","componentKey","key","metric","Measure","metricKey","metricType","value","l10n","LanguageDistributionContainer","distribution","width","_super","Subscription","props","_this","call","this","mounted","stopLoading","setState","loading","handleSubscription","subscribed","handleSubscribe","request","catch","throwGlobalError","then","handleUnsubscribe","getEffectiveFrequencyText","effectiveFrequency","status","componentFrequency","globalFrequency","renderLoading","state","renderWhenSubscribed","AlertSuccessIcon","buttons","onClick","renderWhenNotSubscribed","__extends","prototype","componentDidMount","componentWillReceiveProps","nextProps","componentWillUnmount","render","inner","hasEmail","types","currentUser","email","SubscriptionContainer","es","rootReducer","components_Subscription","Report","apply","arguments","renderHeader","Report_extends","loadStatus","canDownload","download","name","href","window","baseUrl","encodeURIComponent","getReportUrl","target","canSubscribe","WorstProjects","subComponents","total","count","length","maxLoc","max_default","map","Number","projectsPageUrl","pathname","query","refKey","QualifierIcon","qualifier","renderCell","barWidth","Math","max","round","height","x","y","renderNcloc","helpers_measures","type","RatingFreshness","lastChange","rating","index_es","defaultMessage","values","Rating","small","data","JSON","parse","date","DateFromNow","ReleasabilityBox","lastReleasabilityChange","effort","Level","level","Effort","String","MeasuresButtonLink","BubblesIcon","size","HistoryButtonLink","HistoryIcon","MainRating","ReliabilityBox","lastReliabilityChange","rawEffort","SecurityBox","lastSecurityChange","MaintainabilityBox","lastMaintainabilityChange","Activity","fetchHistory","customGraphs","storage","utils","graphMetrics","split","time_machine","metrics","join","timeMachine","history_1","forEach","measure","measureHistory","history","analysis","dates","renderWhenEmpty","Activity_extends","componentDidUpdate","prevProps","PreviewGraph","project","PORTFOLIO_METRICS","SUB_COMPONENTS_METRICS","convertMeasures","result","App_App","App","isEmpty","isNotComputed","App_extends","fetchMetrics","fetchData","Promise","all","api_measures","metricKeys","components","ps","s","__assign","totalSubComponents","paging","renderSpinner","renderEmpty","renderWhenNotComputed","renderMain","visibility","PrivacyBadgeContainer","organization","tooltipProps","projectKey","components_Activity","components_Report","mapDispatchToProps","rootActions","__webpack_exports__","HelpTooltip","children","react__WEBPACK_IMPORTED_MODULE_0__","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","fill","_app_theme__WEBPACK_IMPORTED_MODULE_4__","_b","tagName","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","mouseLeaveDelay","onShow","overlay","placement","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","bind","DocTooltip","open","close","doc","default","document","addEventListener","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","_Icon__WEBPACK_IMPORTED_MODULE_1__","d","style","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","formatterOption","year","month","day","longFormatterOption","DateFormatter","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","toNumber","INFINITY","MAX_INTEGER","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","muted","_c","formatted","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","rating-small","rating-muted","level-small","level-muted","baseAssignValue","createAggregator","hasOwnProperty","groupBy","toFinite","remainder","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","decimals","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","formattedValue","tooltip","_utils__WEBPACK_IMPORTED_MODULE_1__","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","_app_types__WEBPACK_IMPORTED_MODULE_2__","getLeakPeriod","periods","index","Array","find","period","getPeriod","getPeriodLabel","dateFormatter","parameter","modeParam","mode","PreviousVersion","Date","_l10n__WEBPACK_IMPORTED_MODULE_0__","getPeriodDate","_dates__WEBPACK_IMPORTED_MODULE_1__","KNOWN_RATINGS","enhanceMeasure","leak","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","substr","includes","EVENT_TYPES","APPLICATION_EVENT_TYPES","DEFAULT_GRAPH","GRAPH_TYPES","GRAPHS_METRICS_DISPLAYED","issues","coverage","duplications","GRAPHS_METRICS","concat","PROJECT_ACTIVITY_GRAPH","PROJECT_ACTIVITY_GRAPH_CUSTOM","datesQueryChanged","prevQuery","nextQuery","lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default","from","activityQueryChanged","category","customMetricsChanged","customMetrics","hasDataValues","serie","some","point","Boolean","hasHistoryData","series","hasHistoryDataValue","historyQueryChanged","graph","isCustomGraph","selectedDateQueryChanged","selectedDate","generateSeries","measuresHistory","displayedMetrics","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","filter","indexOf","uncoveredLines","linesToCover","idx","translatedName","_helpers_l10n__WEBPACK_IMPORTED_MODULE_7__","generateCoveredLinesMetric","findMetric","splitSeriesInGraphs","maxGraph","maxSeries","lodash_flatMap__WEBPACK_IMPORTED_MODULE_3___default","lodash_groupBy__WEBPACK_IMPORTED_MODULE_2___default","lodash_chunk__WEBPACK_IMPORTED_MODULE_4___default","slice","getSeriesMetricType","getAnalysesByVersionByDay","analyses","reduce","acc","currentVersion","versionEvent","events","event","newVersion","version","byDay","keys","_helpers_dates__WEBPACK_IMPORTED_MODULE_6__","getTime","toString","matchFilters","isAfterFrom","isBeforeTo","hasSelectedCategoryEvents","getDisplayedHistoryMetrics","getHistoryMetrics","parseQuery","urlQuery","_helpers_query__WEBPACK_IMPORTED_MODULE_5__","serializeQuery","serializeUrlQuery","custom_metrics","selected_date","_app_types__WEBPACK_IMPORTED_MODULE_0__","isPaidOrganization","subscription","Paid","hasPrivateAccess","userOrganizations","isCurrentUserMemberOf","canAdmin","isAdmin","org","isSymbol","array","comparator","current","computed","VisibleIcon","Icon","onSonarCloud","system","Private","organizations","icon","Public","theme","badge","classnames","badge-info","badge-icon","resolve","t","getDoc","Tooltip","fillRule","ChartLegendIcon","baseFlatten","DEFAULT_PADDING","Histogram","renderBar","xScale","yScale","alignTicks","padding","range","bandwidth","renderValue","yValues","BAR_HEIGHT","yTooltips","dx","dy","renderTick","yTicks","tick","historyTickClass","renderBars","bars","availableWidth","d3_scale_src","domain","src","availableHeight","_","rangeRound","cutLanguageName","languages","tokens","language","lines","parseInt","sortBy_default","langKey","lang","getLanguageName","components_charts_Histogram","getAllTimeMachineData","prev","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","getTimeMachineData","r","pageIndex","pageSize","p","start","end","baseSlice","isIterateeCall","toInteger","nativeCeil","ceil","nativeMax","guard","resIndex","AdvancedTimeline","getRatingScale","d3_scale__WEBPACK_IMPORTED_MODULE_8__","getLevelScale","getYScale","flatData","d3_array__WEBPACK_IMPORTED_MODULE_7__","nice","getXScale","startDate","endDate","dateRange","lodash_sortBy__WEBPACK_IMPORTED_MODULE_2___default","clamp","maxXRange","getScales","lodash_flatten__WEBPACK_IMPORTED_MODULE_4___default","getSelectedDatePos","firstSerie","findIndex","valueOf","xRange","sort","xPos","selectedDateXPos","selectedDateIdx","getEventMarker","half","handleWheel","preventDefault","parentBbox","currentTarget","getBoundingClientRect","mouseXPos","pageX","left","speed","deltaMode","zoomSpeed","leftPos","deltaY","rightPos","invert","handleZoomUpdate","updateZoom","handleMouseMove","updateTooltipPos","handleMouseEnter","mouseOver","handleMouseOut","updateTooltip","handleClick","updateSelectedDate","bisectX","right","previousPoint","nextPoint","xPos_1","renderHorizontalGrid","formatYTick","ticks","maxYTicksCount","formattedTicks","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_5__","textAnchor","x1","x2","y1","y2","renderXAxisTicks","format","tickFormat","nextTick","renderLeak","leakPeriodDate","yRange","leakWidth","_app_theme__WEBPACK_IMPORTED_MODULE_10__","renderLines","lineGenerator","d3_shape__WEBPACK_IMPORTED_MODULE_9__","defined","basisCurve","curve","classnames__WEBPACK_IMPORTED_MODULE_6__","renderDots","serieIdx","pointNotDefined","hasPointBefore","hasPointAfter","cx","cy","dots","renderAreas","areaGenerator","y0","renderSelectedDate","renderClipPath","renderMouseEventsOverlay","zoomEnabled","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","scales","selectedDatePos","lodash_throttle__WEBPACK_IMPORTED_MODULE_1___default","lodash_isEqual__WEBPACK_IMPORTED_MODULE_3___default","disableZoom","isZoomed","chart-zoomed","hideGrid","hideXAxis","showAreas","defaultProps","eventSize","other","baseExtremum","baseLt","PreviewGraphTooltipsContent","PreviewGraphTooltips","tooltipIdx","tooltipPos","popups","RightTop","graphWidth","LeftTop","top","formatValue","GRAPH_PADDING","MAX_GRAPH_NB","MAX_SERIES_PER_GRAPH","PreviewGraph_PreviewGraph","getDisplayedMetrics","getSeries","myHistory","firstValid","minBy_default","context","router","branches","branchLike","tooltipXPos","PreviewGraph_extends","renderTimeline","AutoSizer","disableHeight","preview_graph_PreviewGraphTooltips","role","tabIndex","contextTypes","prop_types","baseGt","identity"],"mappings":"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","file":"js/302.8b79272c.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}.portfolio-meta-header{margin-bottom:4px;color:#444}.portfolio-meta-card{min-width:200px;box-sizing:border-box}.portfolio-meta-card+.portfolio-meta-card{margin-top:16px;padding-top:15px;border-top:1px solid #e6e6e6}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: { description?: string; key: string };\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function Summary({ component, measures }: Props) {\n  const { projects, ncloc } = measures;\n  const nclocDistribution = measures['ncloc_language_distribution'];\n\n  return (\n    <section className=\"big-spacer-bottom\" id=\"portfolio-summary\">\n      {component.description && <div className=\"big-spacer-bottom\">{component.description}</div>}\n\n      <ul className=\"portfolio-grid\">\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            {projects ? (\n              <Link\n                to={getComponentDrilldownUrl({ componentKey: component.key, metric: 'projects' })}>\n                <Measure metricKey=\"projects\" metricType=\"SHORT_INT\" value={projects} />\n              </Link>\n            ) : (\n              '0'\n            )}\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('projects')}</div>\n        </li>\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            {ncloc ? (\n              <Link to={getComponentDrilldownUrl({ componentKey: component.key, metric: 'ncloc' })}>\n                <Measure metricKey=\"ncloc\" metricType=\"SHORT_INT\" value={ncloc} />\n              </Link>\n            ) : (\n              '0'\n            )}\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('metric.ncloc.name')}</div>\n        </li>\n      </ul>\n\n      {nclocDistribution && (\n        <div className=\"big-spacer-top\">\n          <LanguageDistributionContainer distribution={nclocDistribution} width={260} />\n        </div>\n      )}\n    </section>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AlertSuccessIcon from '../../../components/icons-components/AlertSuccessIcon';\nimport { ReportStatus, subscribe, unsubscribe } from '../../../api/report';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button } from '../../../components/ui/buttons';\nimport { CurrentUser, isLoggedIn } from '../../../app/types';\n\ninterface Props {\n  component: string;\n  currentUser: CurrentUser;\n  status: ReportStatus;\n}\n\ninterface State {\n  loading: boolean;\n  subscribed?: boolean;\n}\n\nexport default class Subscription extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { subscribed: props.status.subscribed, loading: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.status.subscribed !== this.props.status.subscribed) {\n      this.setState({ subscribed: nextProps.status.subscribed });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSubscription = (subscribed: boolean) => {\n    if (this.mounted) {\n      this.setState({ loading: false, subscribed });\n    }\n  };\n\n  handleSubscribe = () => {\n    this.setState({ loading: true });\n    subscribe(this.props.component)\n      .then(() => this.handleSubscription(true))\n      .catch(this.stopLoading);\n  };\n\n  handleUnsubscribe = () => {\n    this.setState({ loading: true });\n    unsubscribe(this.props.component)\n      .then(() => this.handleSubscription(false))\n      .catch(this.stopLoading);\n  };\n\n  getEffectiveFrequencyText = () => {\n    const effectiveFrequency =\n      this.props.status.componentFrequency || this.props.status.globalFrequency;\n    return translate('report.frequency', effectiveFrequency, 'effective');\n  };\n\n  renderLoading = () => this.state.loading && <i className=\"spacer-left spinner\" />;\n\n  renderWhenSubscribed = () => (\n    <div className=\"js-subscribed\">\n      <div className=\"spacer-bottom\">\n        <AlertSuccessIcon className=\"pull-left spacer-right\" />\n        <div className=\"overflow-hidden\">\n          {translateWithParameters('report.subscribed', this.getEffectiveFrequencyText())}\n        </div>\n      </div>\n      <Button onClick={this.handleUnsubscribe}>{translate('report.unsubscribe')}</Button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  renderWhenNotSubscribed = () => (\n    <div className=\"js-not-subscribed\">\n      <p className=\"spacer-bottom\">\n        {translateWithParameters('report.unsubscribed', this.getEffectiveFrequencyText())}\n      </p>\n      <Button className=\"js-report-subscribe\" onClick={this.handleSubscribe}>\n        {translate('report.subscribe')}\n      </Button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  render() {\n    const hasEmail = isLoggedIn(this.props.currentUser) && !!this.props.currentUser.email;\n    const { subscribed } = this.state;\n\n    let inner;\n    if (hasEmail) {\n      inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n    } else {\n      inner = <p className=\"note js-no-email\">{translate('report.no_email_to_subscribe')}</p>;\n    }\n\n    return <div className=\"big-spacer-top js-report-subscription\">{inner}</div>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ReportStatus {\n  canDownload?: boolean;\n  canSubscribe: boolean;\n  componentFrequency?: string;\n  globalFrequency: string;\n  subscribed?: boolean;\n}\n\nexport function getReportStatus(component: string): Promise<ReportStatus> {\n  return getJSON('/api/governance_reports/status', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getReportUrl(component: string): string {\n  return (\n    (window as any).baseUrl +\n    '/api/governance_reports/download?componentKey=' +\n    encodeURIComponent(component)\n  );\n}\n\nexport function subscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/subscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function unsubscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/unsubscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport Subscription from './Subscription';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(Subscription);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SubscriptionContainer from './SubscriptionContainer';\nimport { getReportStatus, ReportStatus, getReportUrl } from '../../../api/report';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  status?: ReportStatus;\n}\n\nexport default class Report extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus() {\n    getReportStatus(this.props.component.key).then(\n      status => {\n        if (this.mounted) {\n          this.setState({ status, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  renderHeader = () => <h4>{translate('report.page')}</h4>;\n\n  render() {\n    const { component } = this.props;\n    const { status, loading } = this.state;\n\n    if (loading) {\n      return (\n        <div>\n          {this.renderHeader()}\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    if (!status) {\n      return null;\n    }\n\n    return (\n      <div>\n        {this.renderHeader()}\n\n        {!status.canDownload && (\n          <div className=\"note js-report-cant-download\">{translate('report.cant_download')}</div>\n        )}\n\n        {status.canDownload && (\n          <div className=\"js-report-can-download\">\n            {translate('report.can_download')}\n            <div className=\"spacer-top\">\n              <a\n                className=\"button js-report-download\"\n                download={component.name + ' - Executive Report.pdf'}\n                href={getReportUrl(component.key)}\n                target=\"_blank\">\n                {translate('report.print')}\n              </a>\n            </div>\n          </div>\n        )}\n\n        {status.canSubscribe && <SubscriptionContainer component={component.key} status={status} />}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { max } from 'lodash';\nimport { SubComponent } from '../types';\nimport Measure from '../../../components/measure/Measure';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  subComponents: SubComponent[];\n  total: number;\n}\n\nexport default function WorstProjects({ component, subComponents, total }: Props) {\n  const count = subComponents.length;\n\n  if (!count) {\n    return null;\n  }\n\n  const maxLoc = max(\n    subComponents.map(component => Number(component.measures['ncloc'] || 0))\n  ) as number;\n\n  const projectsPageUrl = { pathname: '/code', query: { id: component } };\n\n  return (\n    <div className=\"panel panel-white portfolio-sub-components\" id=\"portfolio-sub-components\">\n      <table className=\"data zebra\">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Releasability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Reliability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Security')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Maintainability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric.ncloc.name')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {subComponents.map(component => (\n            <tr key={component.key}>\n              <td>\n                <Link\n                  className=\"link-with-icon\"\n                  to={getProjectUrl(component.refKey || component.key)}>\n                  <QualifierIcon qualifier={component.qualifier} /> {component.name}\n                </Link>\n              </td>\n              {component.qualifier === 'TRK'\n                ? renderCell(component.measures, 'alert_status', 'LEVEL')\n                : renderCell(component.measures, 'releasability_rating', 'RATING')}\n              {renderCell(component.measures, 'reliability_rating', 'RATING')}\n              {renderCell(component.measures, 'security_rating', 'RATING')}\n              {renderCell(component.measures, 'sqale_rating', 'RATING')}\n              {renderNcloc(component.measures, maxLoc)}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {total > count && (\n        <footer className=\"spacer-top note text-center\">\n          {translateWithParameters(\n            'x_of_y_shown',\n            formatMeasure(count, 'INT'),\n            formatMeasure(total, 'INT')\n          )}\n          <Link className=\"spacer-left\" to={projectsPageUrl}>\n            {translate('show_more')}\n          </Link>\n        </footer>\n      )}\n    </div>\n  );\n}\n\nfunction renderCell(measures: { [key: string]: string | undefined }, metric: string, type: string) {\n  return (\n    <td className=\"text-center\">\n      <Measure metricKey={metric} metricType={type} value={measures[metric]} />\n    </td>\n  );\n}\n\nfunction renderNcloc(measures: { [key: string]: string | undefined }, maxLoc: number) {\n  const ncloc = Number(measures['ncloc'] || 0);\n  const barWidth = maxLoc > 0 ? Math.max(1, Math.round((ncloc / maxLoc) * 50)) : 0;\n  return (\n    <td className=\"text-right\">\n      <span className=\"note\">\n        <Measure metricKey=\"ncloc\" metricType=\"SHORT_INT\" value={measures['ncloc']} />\n      </span>\n      {maxLoc > 0 && (\n        <svg className=\"spacer-left\" height=\"16\" width=\"50\">\n          <rect className=\"bar-chart-bar\" height=\"10\" width={barWidth} x=\"0\" y=\"3\" />\n        </svg>\n      )}\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  lastChange?: string;\n  rating?: string;\n}\n\nexport default function RatingFreshness({ lastChange, rating }: Props) {\n  if (!lastChange) {\n    return (\n      <div className=\"portfolio-freshness\">\n        {rating && (\n          <FormattedMessage\n            defaultMessage={translate('portfolio.has_always_been_x')}\n            id=\"portfolio.has_always_been_x\"\n            values={{ rating: <Rating small={true} value={rating} /> }}\n          />\n        )}\n      </div>\n    );\n  }\n\n  const data = JSON.parse(lastChange);\n\n  return (\n    <div className=\"portfolio-freshness\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.was_x_y')}\n        id=\"portfolio.was_x_y\"\n        values={{\n          rating: <Rating small={true} value={data.value} />,\n          date: <DateFromNow date={data.date} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RatingFreshness from './RatingFreshness';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport Level from '../../../components/ui/Level';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReleasabilityBox({ component, measures }: Props) {\n  const rating = measures['releasability_rating'];\n  const lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n  const effort = measures['releasability_effort'];\n\n  return (\n    <div className=\"portfolio-box portfolio-releasability\">\n      <h2 className=\"portfolio-box-title\">{translate('metric_domain.Releasability')}</h2>\n\n      {rating && (\n        <Link\n          className=\"portfolio-box-rating\"\n          to={getComponentDrilldownUrl({ componentKey: component, metric: 'alert_status' })}>\n          <Rating value={rating} />\n        </Link>\n      )}\n\n      <RatingFreshness lastChange={lastReleasabilityChange} rating={rating} />\n\n      {effort &&\n        Number(effort) > 0 && (\n          <div className=\"portfolio-effort\">\n            <Link\n              to={getComponentDrilldownUrl({ componentKey: component, metric: 'alert_status' })}>\n              <span>\n                <Measure\n                  className=\"little-spacer-right\"\n                  metricKey=\"projects\"\n                  metricType=\"SHORT_INT\"\n                  value={effort}\n                />\n                {Number(effort) === 1 ? 'project' : 'projects'}\n              </span>\n            </Link>{' '}\n            <Level level=\"ERROR\" small={true} />\n          </div>\n        )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  effort: { projects: number; rating: number };\n  metricKey: string;\n}\n\nexport default function Effort({ component, effort, metricKey }: Props) {\n  return (\n    <div className=\"portfolio-effort\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.x_in_y')}\n        id=\"portfolio.x_in_y\"\n        values={{\n          projects: (\n            <Link to={getComponentDrilldownUrl({ componentKey: component, metric: metricKey })}>\n              <span>\n                <Measure\n                  className=\"little-spacer-right\"\n                  metricKey=\"projects\"\n                  metricType=\"SHORT_INT\"\n                  value={String(effort.projects)}\n                />\n                {translate('projects_')}\n              </span>\n            </Link>\n          ),\n          rating: <Rating small={true} value={effort.rating} />\n        }}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BubblesIcon from '../../../components/icons-components/BubblesIcon';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function MeasuresButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getComponentDrilldownUrl({ componentKey: component, metric })}>\n      <BubblesIcon size={14} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HistoryIcon from '../../../components/icons-components/HistoryIcon';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function HistoryButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getMeasureHistoryUrl(component, metric)}>\n      <HistoryIcon size={14} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Rating from '../../../components/ui/Rating';\nimport { getMeasureTreemapUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n  value: string;\n}\n\nexport default function MainRating({ component, metric, value }: Props) {\n  return (\n    <Link className=\"portfolio-box-rating\" to={getMeasureTreemapUrl(component, metric)}>\n      <Rating value={value} />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport MainRating from './MainRating';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReliabilityBox({ component, measures }: Props) {\n  const rating = measures['reliability_rating'];\n  const lastReliabilityChange = measures['last_change_on_reliability_rating'];\n  const rawEffort = measures['reliability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-reliability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Reliability')}\n        <MeasuresButtonLink component={component} metric=\"Reliability\" />\n        <HistoryButtonLink component={component} metric=\"reliability_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"reliability_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastReliabilityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"reliability_rating\" />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport MainRating from './MainRating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function SecurityBox({ component, measures }: Props) {\n  const rating = measures['security_rating'];\n  const lastSecurityChange = measures['last_change_on_security_rating'];\n  const rawEffort = measures['security_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-security\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Security')}\n        <MeasuresButtonLink component={component} metric=\"Security\" />\n        <HistoryButtonLink component={component} metric=\"security_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"security_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastSecurityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"security_rating\" />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MainRating from './MainRating';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function MaintainabilityBox({ component, measures }: Props) {\n  const rating = measures['sqale_rating'];\n  const lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n  const rawEffort = measures['maintainability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-maintainability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Maintainability')}\n        <MeasuresButtonLink component={component} metric=\"Maintainability\" />\n        <HistoryButtonLink component={component} metric=\"sqale_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric={'sqale_rating'} value={rating} />}\n\n      <RatingFreshness lastChange={lastMaintainabilityChange} rating={rating} />\n\n      {effort && <Effort component={component} effort={effort} metricKey={'sqale_rating'} />}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport {\n  getDisplayedHistoryMetrics,\n  DEFAULT_GRAPH,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM\n} from '../../projectActivity/utils';\nimport PreviewGraph from '../../../components/preview-graph/PreviewGraph';\nimport { getAllTimeMachineData } from '../../../api/time-machine';\nimport { Metric } from '../../../app/types';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { get } from '../../../helpers/storage';\n\ninterface Props {\n  component: string;\n  metrics: { [key: string]: Metric };\n}\n\ninterface State {\n  history?: {\n    [metric: string]: Array<{ date: Date; value?: string }>;\n  };\n  loading: boolean;\n}\n\nexport default class Activity extends React.PureComponent<Props> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchHistory = () => {\n    const { component } = this.props;\n\n    const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n    let graphMetrics = getDisplayedHistoryMetrics(\n      get(PROJECT_ACTIVITY_GRAPH) || 'issues',\n      customGraphs ? customGraphs.split(',') : []\n    );\n    if (!graphMetrics || graphMetrics.length <= 0) {\n      graphMetrics = getDisplayedHistoryMetrics(DEFAULT_GRAPH, []);\n    }\n\n    this.setState({ loading: true });\n    return getAllTimeMachineData({ component, metrics: graphMetrics.join() }).then(\n      timeMachine => {\n        if (this.mounted) {\n          const history: { [metric: string]: Array<{ date: Date; value?: string }> } = {};\n          timeMachine.measures.forEach(measure => {\n            const measureHistory = measure.history.map(analysis => ({\n              date: parseDate(analysis.date),\n              value: analysis.value\n            }));\n            history[measure.metric] = measureHistory;\n          });\n          this.setState({ history, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWhenEmpty = () => <div className=\"note\">{translate('component_measures.no_history')}</div>;\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <h4>{translate('project_activity.page')}</h4>\n\n        {this.state.loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          this.state.history !== undefined && (\n            <PreviewGraph\n              history={this.state.history}\n              metrics={this.props.metrics}\n              project={this.props.component}\n              renderWhenEmpty={this.renderWhenEmpty}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getNextRating(rating: number): number | undefined {\n  return rating > 1 ? rating - 1 : undefined;\n}\n\nfunction getWorstSeverity(data: string): { severity: string; count: number } | undefined {\n  const SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\n  const severities: { [key: string]: number } = {};\n  data.split(';').forEach(equality => {\n    const [key, count] = equality.split('=');\n    severities[key] = Number(count);\n  });\n\n  for (let i = 0; i < SEVERITY_ORDER.length; i++) {\n    const count = severities[SEVERITY_ORDER[i]];\n    if (count > 0) {\n      return { severity: SEVERITY_ORDER[i], count };\n    }\n  }\n\n  return undefined;\n}\n\nexport function getEffortToNextRating(\n  measures: Array<{ metric: { key: string }; value: string }>,\n  metricKey: string\n) {\n  const measure = measures.find(measure => measure.metric.key === metricKey);\n  if (!measure) {\n    return undefined;\n  }\n  return getWorstSeverity(measure.value);\n}\n\nexport const PORTFOLIO_METRICS = [\n  'projects',\n  'ncloc',\n  'ncloc_language_distribution',\n\n  'releasability_rating',\n  'releasability_effort',\n\n  'sqale_rating',\n  'maintainability_rating_effort',\n\n  'reliability_rating',\n  'reliability_rating_effort',\n\n  'security_rating',\n  'security_rating_effort',\n\n  'last_change_on_releasability_rating',\n  'last_change_on_maintainability_rating',\n  'last_change_on_security_rating',\n  'last_change_on_reliability_rating'\n];\n\nexport const SUB_COMPONENTS_METRICS = [\n  'ncloc',\n  'releasability_rating',\n  'security_rating',\n  'reliability_rating',\n  'sqale_rating',\n  'alert_status'\n];\n\nexport function convertMeasures(measures: Array<{ metric: string; value?: string }>) {\n  const result: { [key: string]: string | undefined } = {};\n  measures.forEach(measure => {\n    result[measure.metric] = measure.value;\n  });\n  return result;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Summary from './Summary';\nimport Report from './Report';\nimport WorstProjects from './WorstProjects';\nimport ReleasabilityBox from './ReleasabilityBox';\nimport ReliabilityBox from './ReliabilityBox';\nimport SecurityBox from './SecurityBox';\nimport MaintainabilityBox from './MaintainabilityBox';\nimport Activity from './Activity';\nimport { SubComponent } from '../types';\nimport { PORTFOLIO_METRICS, SUB_COMPONENTS_METRICS, convertMeasures } from '../utils';\nimport { getMeasures } from '../../../api/measures';\nimport { getChildren } from '../../../api/components';\nimport { translate } from '../../../helpers/l10n';\nimport { fetchMetrics } from '../../../store/rootActions';\nimport { getMetrics, Store } from '../../../store/rootReducer';\nimport { Metric, Component } from '../../../app/types';\nimport '../styles.css';\nimport PrivacyBadgeContainer from '../../../components/common/PrivacyBadgeContainer';\n\ninterface OwnProps {\n  component: Component;\n}\n\ninterface StateToProps {\n  metrics: { [key: string]: Metric };\n}\n\ninterface DispatchToProps {\n  fetchMetrics: () => void;\n}\n\ntype Props = StateToProps & DispatchToProps & OwnProps;\n\ninterface State {\n  loading: boolean;\n  measures?: { [key: string]: string | undefined };\n  subComponents?: SubComponent[];\n  totalSubComponents?: number;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData() {\n    this.setState({ loading: true });\n    Promise.all([\n      getMeasures({ componentKey: this.props.component.key, metricKeys: PORTFOLIO_METRICS.join() }),\n      getChildren(this.props.component.key, SUB_COMPONENTS_METRICS, { ps: 20, s: 'qualifier' })\n    ]).then(\n      ([measures, subComponents]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            measures: convertMeasures(measures),\n            subComponents: subComponents.components.map((component: any) => ({\n              ...component,\n              measures: convertMeasures(component.measures)\n            })),\n            totalSubComponents: subComponents.paging.total\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  isEmpty = () => this.state.measures === undefined || this.state.measures['ncloc'] === undefined;\n\n  isNotComputed = () =>\n    this.state.measures && this.state.measures['reliability_rating'] === undefined;\n\n  renderSpinner() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <div className=\"empty-search\">\n        <h3>\n          {!this.state.measures || !this.state.measures['projects']\n            ? translate('portfolio.empty')\n            : translate('portfolio.no_lines_of_code')}\n        </h3>\n      </div>\n    );\n  }\n\n  renderWhenNotComputed() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.not_computed')}</h3>\n      </div>\n    );\n  }\n\n  renderMain() {\n    const { component } = this.props;\n    const { measures, subComponents, totalSubComponents } = this.state;\n\n    if (this.isEmpty()) {\n      return this.renderEmpty();\n    }\n\n    if (this.isNotComputed()) {\n      return this.renderWhenNotComputed();\n    }\n\n    return (\n      <div>\n        <div className=\"portfolio-boxes\">\n          <ReleasabilityBox component={component.key} measures={measures!} />\n          <ReliabilityBox component={component.key} measures={measures!} />\n          <SecurityBox component={component.key} measures={measures!} />\n          <MaintainabilityBox component={component.key} measures={measures!} />\n        </div>\n\n        {subComponents !== undefined &&\n          totalSubComponents !== undefined && (\n            <WorstProjects\n              component={component.key}\n              subComponents={subComponents}\n              total={totalSubComponents}\n            />\n          )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { loading, measures } = this.state;\n\n    if (loading) {\n      return this.renderSpinner();\n    }\n\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"page-with-sidebar\">\n          <div className=\"page-main\">{this.renderMain()}</div>\n\n          <aside className=\"page-sidebar-fixed\">\n            <div className=\"portfolio-meta-card\">\n              <h4 className=\"portfolio-meta-header\">\n                {translate('overview.about_this_portfolio')}\n                {component.visibility && (\n                  <PrivacyBadgeContainer\n                    className=\"spacer-left pull-right\"\n                    organization={component.organization}\n                    qualifier={component.qualifier}\n                    tooltipProps={{ projectKey: component.key }}\n                    visibility={component.visibility}\n                  />\n                )}\n              </h4>\n              <Summary component={component} measures={measures || {}} />\n            </div>\n\n            <div className=\"portfolio-meta-card\">\n              <Activity component={component.key} metrics={this.props.metrics} />\n            </div>\n\n            <div className=\"portfolio-meta-card\">\n              <Report component={component} />\n            </div>\n          </aside>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps: DispatchToProps = { fetchMetrics };\n\nconst mapStateToProps = (state: Store): StateToProps => ({\n  metrics: getMetrics(state)\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip, { Placement } from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip\n      mouseLeaveDelay={0.25}\n      onShow={props.onShow}\n      overlay={props.overlay}\n      placement={props.placement}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  // eslint-disable-next-line camelcase\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{''}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\ninterface Props {\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: Props) {\n  const formatted = formatMeasure(props.level, 'LEVEL', null);\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n  return <span className={className}>{formatted}</span>;\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{''}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\nimport { Period, PeriodMode, PeriodMeasure } from '../app/types';\n\nfunction getPeriod<T extends Period | PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends Period | PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === PeriodMode.PreviousVersion && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === PeriodMode.Date && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function AlertSuccessIcon({ className, fill = theme.green, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.607 6.554q0-0.25-0.161-0.411l-0.813-0.804q-0.17-0.17-0.402-0.17t-0.402 0.17l-3.643 3.634-2.018-2.018q-0.17-0.17-0.402-0.17t-0.402 0.17l-0.813 0.804q-0.161 0.161-0.161 0.411 0 0.241 0.161 0.402l3.232 3.232q0.17 0.17 0.402 0.17 0.241 0 0.411-0.17l4.848-4.848q0.161-0.161 0.161-0.402zM14.857 8q0 1.866-0.92 3.442t-2.496 2.496-3.442 0.92-3.442-0.92-2.496-2.496-0.92-3.442 0.92-3.442 2.496-2.496 3.442-0.92 3.442 0.92 2.496 2.496 0.92 3.442z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#e00}a .rating-E{border-bottom-color:#e00}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:18px;line-height:18px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { Metric, Measure, MeasureEnhanced } from '../../app/types';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: Measure,\n  metrics: { [key: string]: Metric }\n): MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { chunk, flatMap, groupBy, isEqual, sortBy } from 'lodash';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsString,\n  serializeStringArray,\n  serializeDate,\n  serializeString,\n  RawQuery\n} from '../../helpers/query';\nimport { parseDate, startOfDay } from '../../helpers/dates';\nimport { getLocalizedMetricName, translate } from '../../helpers/l10n';\nimport { Metric, Analysis, Omit } from '../../app/types';\n\nexport type ParsedAnalysis = Omit<Analysis, 'date'> & { date: Date };\n\nexport interface Query {\n  category: string;\n  customMetrics: string[];\n  from?: Date;\n  graph: string;\n  project: string;\n  selectedDate?: Date;\n  to?: Date;\n}\n\nexport interface Point {\n  x: Date;\n  y: number | string | undefined;\n}\n\nexport interface Serie {\n  data: Point[];\n  name: string;\n  translatedName: string;\n  type: string;\n}\n\nexport interface HistoryItem {\n  date: Date;\n  value?: string;\n}\n\nexport interface MeasureHistory {\n  metric: string;\n  history: HistoryItem[];\n}\n\nexport const EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nexport const APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nexport const DEFAULT_GRAPH = 'issues';\nexport const GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nexport const GRAPHS_METRICS_DISPLAYED: { [x: string]: string[] } = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['lines_to_cover', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines']\n};\nexport const GRAPHS_METRICS: { [x: string]: string[] } = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat([\n    'reliability_rating',\n    'security_rating',\n    'sqale_rating'\n  ]),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nexport const PROJECT_ACTIVITY_GRAPH = 'sonarqube.project_activity.graph';\nexport const PROJECT_ACTIVITY_GRAPH_CUSTOM = 'sonarqube.project_activity.graph.custom';\n\nexport function datesQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return !isEqual(prevQuery.from, nextQuery.from) || !isEqual(prevQuery.to, nextQuery.to);\n}\n\nexport function activityQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n}\n\nexport function customMetricsChanged(prevQuery: Query, nextQuery: Query) {\n  return !isEqual(prevQuery.customMetrics, nextQuery.customMetrics);\n}\n\nexport function hasDataValues(serie: Serie) {\n  return serie.data.some(point => Boolean(point.y || point.y === 0));\n}\n\nexport function hasHistoryData(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1);\n}\n\nexport function hasHistoryDataValue(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n}\n\nexport function historyQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nexport function isCustomGraph(graph: string) {\n  return graph === 'custom';\n}\n\nexport function selectedDateQueryChanged(prevQuery: Query, nextQuery: Query) {\n  return !isEqual(prevQuery.selectedDate, nextQuery.selectedDate);\n}\n\nexport function generateCoveredLinesMetric(\n  uncoveredLines: MeasureHistory,\n  measuresHistory: MeasureHistory[]\n) {\n  const linesToCover = measuresHistory.find(measure => measure.metric === 'lines_to_cover');\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n}\n\nfunction findMetric(key: string, metrics: Metric[] | { [key: string]: Metric }) {\n  if (Array.isArray(metrics)) {\n    return metrics.find(metric => metric.key === key);\n  }\n  return metrics[key];\n}\n\nexport function generateSeries(\n  measuresHistory: MeasureHistory[],\n  graph: string,\n  metrics: Metric[] | { [key: string]: Metric },\n  displayedMetrics: string[]\n): Serie[] {\n  if (displayedMetrics.length <= 0 || typeof measuresHistory === 'undefined') {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = findMetric(measure.metric, metrics);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : measure.metric,\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport function splitSeriesInGraphs(series: Serie[], maxGraph: number, maxSeries: number) {\n  return flatMap(groupBy(series, serie => serie.type), type => chunk(type, maxSeries)).slice(\n    0,\n    maxGraph\n  );\n}\n\nexport function getSeriesMetricType(series: Serie[]) {\n  return series.length > 0 ? series[0].type : 'INT';\n}\n\ninterface AnalysesByDay {\n  byDay: { [x: string]: ParsedAnalysis[] };\n  version: string | null;\n  key: string | null;\n}\n\nexport function getAnalysesByVersionByDay(analyses: ParsedAnalysis[], query: Query) {\n  return analyses.reduce<AnalysesByDay[]>((acc, analysis) => {\n    let currentVersion = acc[acc.length - 1];\n    const versionEvent = analysis.events.find(event => event.category === 'VERSION');\n    if (versionEvent) {\n      const newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    const day = startOfDay(parseDate(analysis.date))\n      .getTime()\n      .toString();\n\n    let matchFilters = true;\n    if (query.category || query.from || query.to) {\n      const isAfterFrom = !query.from || analysis.date >= query.from;\n      const isBeforeTo = !query.to || analysis.date <= query.to;\n      const hasSelectedCategoryEvents =\n        !query.category || analysis.events.find(event => event.category === query.category) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nexport function getDisplayedHistoryMetrics(graph: string, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n}\n\nexport function getHistoryMetrics(graph: string, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n}\n\nfunction parseGraph(value?: string) {\n  const graph = parseAsString(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n}\n\nfunction serializeGraph(value: string) {\n  return value === DEFAULT_GRAPH ? undefined : value;\n}\n\nexport function parseQuery(urlQuery: RawQuery): Query {\n  return {\n    category: parseAsString(urlQuery['category']),\n    customMetrics: parseAsArray(urlQuery['custom_metrics'], parseAsString),\n    from: parseAsDate(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: parseAsString(urlQuery['id']),\n    to: parseAsDate(urlQuery['to']),\n    selectedDate: parseAsDate(urlQuery['selected_date'])\n  };\n}\n\nexport function serializeQuery(query: Query): RawQuery {\n  return cleanQuery({\n    category: serializeString(query.category),\n    from: serializeDate(query.from),\n    project: serializeString(query.project),\n    to: serializeDate(query.to)\n  });\n}\n\nexport function serializeUrlQuery(query: Query): RawQuery {\n  return cleanQuery({\n    category: serializeString(query.category),\n    custom_metrics: serializeStringArray(query.customMetrics), // eslint-disable-line camelcase\n    from: serializeDate(query.from),\n    graph: serializeGraph(query.graph),\n    id: serializeString(query.project),\n    to: serializeDate(query.to),\n    selected_date: serializeDate(query.selectedDate) // eslint-disable-line camelcase\n  });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Organization, isLoggedIn, OrganizationSubscription, CurrentUser } from '../app/types';\n\nexport function isPaidOrganization(organization: Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === OrganizationSubscription.Paid);\n}\n\nexport function hasPrivateAccess(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      (organization.canAdmin ||\n        organization.isAdmin ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VisibleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.524 8.403q-1.093-1.697-2.74-2.539 0.439 0.748 0.439 1.618 0 1.331-0.946 2.276t-2.276 0.946-2.276-0.946-0.946-2.276q0-0.87 0.439-1.618-1.647 0.842-2.74 2.539 0.957 1.474 2.399 2.348t3.125 0.874 3.125-0.874 2.399-2.348zM8.345 5.641q0-0.144-0.101-0.245t-0.245-0.101q-0.899 0-1.543 0.644t-0.644 1.543q0 0.144 0.101 0.245t0.245 0.101 0.245-0.101 0.101-0.245q0-0.619 0.439-1.057t1.057-0.439q0.144 0 0.245-0.101t0.101-0.245zM14.444 8.403q0 0.245-0.144 0.496-1.007 1.654-2.708 2.65t-3.593 0.996-3.593-1-2.708-2.647q-0.144-0.252-0.144-0.496t0.144-0.496q1.007-1.647 2.708-2.647t3.593-1 3.593 1 2.708 2.647q0.144 0.252 0.144 0.496z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport * as theme from '../../app/theme';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\nimport { Visibility, Organization, CurrentUser } from '../../app/types';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isCurrentUserMemberOf, isPaidOrganization } from '../../helpers/organizations';\nimport {\n  getCurrentUser,\n  getOrganizationByKey,\n  getMyOrganizations,\n  Store\n} from '../../store/rootReducer';\nimport VisibleIcon from '../icons-components/VisibleIcon';\nimport DocTooltip from '../docs/DocTooltip';\n\ninterface StateToProps {\n  currentUser: CurrentUser;\n  organization?: Organization;\n  userOrganizations: Organization[];\n}\n\ninterface OwnProps {\n  className?: string;\n  organization: Organization | string | undefined;\n  qualifier: string;\n  tooltipProps?: { projectKey: string };\n  visibility: Visibility;\n}\n\ninterface Props extends OwnProps, StateToProps {\n  organization: Organization | undefined;\n}\n\nexport function PrivacyBadge({\n  className,\n  currentUser,\n  organization,\n  qualifier,\n  userOrganizations,\n  tooltipProps,\n  visibility\n}: Props) {\n  const onSonarCloud = isSonarCloud();\n  if (\n    visibility !== Visibility.Private &&\n    (!onSonarCloud || !isCurrentUserMemberOf(currentUser, organization, userOrganizations))\n  ) {\n    return null;\n  }\n\n  let icon = null;\n  if (isPaidOrganization(organization) && visibility === Visibility.Public) {\n    icon = <VisibleIcon className=\"little-spacer-right\" fill={theme.blue} />;\n  }\n\n  const badge = (\n    <div\n      className={classNames('outline-badge', className, {\n        'badge-info': Boolean(icon),\n        'badge-icon': Boolean(icon)\n      })}>\n      {icon}\n      {translate('visibility', visibility)}\n    </div>\n  );\n\n  if (onSonarCloud && organization) {\n    return (\n      <DocTooltip\n        className={className}\n        doc={getDoc(visibility, icon, organization)}\n        overlayProps={{ ...tooltipProps, organization: organization.key }}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      {badge}\n    </Tooltip>\n  );\n}\n\nconst mapStateToProps = (state: Store, { organization }: OwnProps) => {\n  if (typeof organization === 'string') {\n    organization = getOrganizationByKey(state, organization);\n  }\n  return {\n    currentUser: getCurrentUser(state),\n    organization,\n    userOrganizations: getMyOrganizations(state)\n  };\n};\n\nexport default connect(mapStateToProps)(PrivacyBadge);\n\nfunction getDoc(visibility: Visibility, icon: JSX.Element | null, organization: Organization) {\n  let doc;\n  const canAdmin = organization.canAdmin || organization.isAdmin;\n  if (visibility === Visibility.Private) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-private.md');\n  } else if (icon) {\n    if (canAdmin) {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org-admin.md');\n    } else {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org.md');\n    }\n  } else if (canAdmin) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-admin.md');\n  } else {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public.md');\n  }\n  return doc;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BubblesIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size} style={{ fillRule: 'nonzero' }}>\n      <path\n        d=\"M4.1 10.2c1 0 1.9.8 1.9 1.9S5.1 14 4.1 14s-1.9-.8-1.9-1.9.8-1.9 1.9-1.9m0-2C2 8.2.2 9.9.2 12.1S1.9 16 4.1 16 8 14.3 8 12.1 6.2 8.2 4.1 8.2zM10.3 2c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7-3.8-1.6-3.8-3.7S8.2 2 10.3 2m0-2C7.1 0 4.5 2.6 4.5 5.7s2.6 5.7 5.7 5.7S16 8.9 16 5.7 13.4 0 10.3 0z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChartLegendIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LineChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","module.exports = \"This project is public, which means anyone is able to browse its source code. Subscribe to a paid plan to get unlimited private projects in [Administration > Billing](/#sonarcloud#/organizations/#organization#/extension/billing/billing).\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the project administrator to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Go to your project's [Administration > Permissions](/#sonarcloud#/project_roles?id=#projectKey#) to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is private. Only the members of this organization are able to browse it and its source code.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the organization administrator if you want to make it private.\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\nimport './Histogram.css';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" height={BAR_HEIGHT} width={width} x={x} y={y} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return (\n      <Tooltip overlay={this.props.yTooltips && this.props.yTooltips[index]}>\n        <text className=\"bar-chart-tick histogram-value\" dx=\"1em\" dy=\"0.3em\" x={x} y={y}>\n          {value}\n        </text>\n      </Tooltip>\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\"\n        x={x}\n        y={y}>\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" height={this.props.height} width={this.props.width}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport Histogram from './Histogram';\nimport { formatMeasure } from '../../helpers/measures';\nimport { translate } from '../../helpers/l10n';\nimport { Languages } from '../../app/types';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages: Languages;\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      width={props.width}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = props.languages[langKey];\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport LanguageDistribution from './LanguageDistribution';\nimport { getLanguages, Store } from '../../store/rootReducer';\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(LanguageDistribution);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport { Paging, BranchParameters } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\ninterface TimeMachineResponse {\n  measures: {\n    metric: string;\n    history: Array<{ date: string; value?: string }>;\n  }[];\n  paging: Paging;\n}\n\nexport function getTimeMachineData(\n  data: {\n    component: string;\n    from?: string;\n    metrics: string;\n    p?: number;\n    ps?: number;\n    to?: string;\n  } & BranchParameters\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', data).catch(throwGlobalError);\n}\n\nexport function getAllTimeMachineData(\n  data: {\n    component: string;\n    metrics: string;\n    from?: string;\n    p?: number;\n    to?: string;\n  } & BranchParameters,\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData({ ...data, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData({ ...data, p: result.paging.pageIndex + 1 }, result);\n  });\n}\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".line-tooltip{fill:none;stroke:#777;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./AdvancedTimeline.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { flatten, isEqual, sortBy, throttle, uniq } from 'lodash';\nimport { bisector, extent, max } from 'd3-array';\nimport { scaleLinear, scalePoint, scaleTime, ScaleTime } from 'd3-scale';\nimport { line as d3Line, area, curveBasis } from 'd3-shape';\nimport * as theme from '../../app/theme';\nimport { Serie, Point } from '../../apps/projectActivity/utils';\nimport './LineChart.css';\nimport './AdvancedTimeline.css';\n\nexport interface Props {\n  basisCurve?: boolean;\n  endDate?: Date;\n  disableZoom?: boolean;\n  formatYTick?: (tick: number | string) => string;\n  hideGrid?: boolean;\n  hideXAxis?: boolean;\n  height: number;\n  width: number;\n  leakPeriodDate?: Date;\n  // used to avoid same y ticks labels\n  maxYTicksCount: number;\n  metricType: string;\n  padding: number[];\n  selectedDate?: Date;\n  series: Serie[];\n  showAreas?: boolean;\n  startDate?: Date;\n  updateSelectedDate?: (selectedDate?: Date) => void;\n  updateTooltip?: (selectedDate?: Date, tooltipXPos?: number, tooltipIdx?: number) => void;\n  updateZoom?: (start?: Date, endDate?: Date) => void;\n  zoomSpeed: number;\n}\n\ntype XScale = ScaleTime<number, number>;\n// TODO it should be `ScaleLinear<number, number> | ScalePoint<number> | ScalePoint<string>`, but it's super hard to make it work :'(\ntype YScale = any;\n\ninterface State {\n  maxXRange: number[];\n  mouseOver?: boolean;\n  selectedDate?: Date;\n  selectedDateXPos?: number;\n  selectedDateIdx?: number;\n  yScale: YScale;\n  xScale: XScale;\n}\n\nexport default class AdvancedTimeline extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    eventSize: 8,\n    maxYTicksCount: 4,\n    padding: [10, 10, 30, 60],\n    zoomSpeed: 1\n  };\n\n  constructor(props: Props) {\n    super(props);\n    const scales = this.getScales(props);\n    const selectedDatePos = this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    this.state = { ...scales, ...selectedDatePos };\n    this.updateTooltipPos = throttle(this.updateTooltipPos, 40);\n    this.handleZoomUpdate = throttle(this.handleZoomUpdate, 40);\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    let scales;\n    let selectedDatePos;\n    if (\n      nextProps.metricType !== this.props.metricType ||\n      nextProps.startDate !== this.props.startDate ||\n      nextProps.endDate !== this.props.endDate ||\n      nextProps.width !== this.props.width ||\n      nextProps.padding !== this.props.padding ||\n      nextProps.height !== this.props.height ||\n      nextProps.series !== this.props.series\n    ) {\n      scales = this.getScales(nextProps);\n      if (this.state.selectedDate != null) {\n        selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n      }\n    }\n\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      const xScale = scales ? scales.xScale : this.state.xScale;\n      selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n    }\n\n    if (scales || selectedDatePos) {\n      if (scales) {\n        this.setState({ ...scales });\n      }\n      if (selectedDatePos) {\n        this.setState({ ...selectedDatePos });\n      }\n\n      if (selectedDatePos && nextProps.updateTooltip) {\n        nextProps.updateTooltip(\n          selectedDatePos.selectedDate,\n          selectedDatePos.selectedDateXPos,\n          selectedDatePos.selectedDateIdx\n        );\n      }\n    }\n  }\n\n  getRatingScale = (availableHeight: number) => {\n    return scalePoint<number>()\n      .domain([5, 4, 3, 2, 1])\n      .range([availableHeight, 0]);\n  };\n\n  getLevelScale = (availableHeight: number) => {\n    return scalePoint()\n      .domain(['ERROR', 'WARN', 'OK'])\n      .range([availableHeight, 0]);\n  };\n\n  getYScale = (props: Props, availableHeight: number, flatData: Point[]): YScale => {\n    if (props.metricType === 'RATING') {\n      return this.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return this.getLevelScale(availableHeight);\n    } else {\n      return scaleLinear()\n        .range([availableHeight, 0])\n        .domain([0, max(flatData, d => Number(d.y || 0)) || 1])\n        .nice();\n    }\n  };\n\n  getXScale = ({ startDate, endDate }: Props, availableWidth: number, flatData: Point[]) => {\n    const dateRange = extent(flatData, d => d.x) as [Date, Date];\n    const start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    const end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    const xScale: ScaleTime<number, number> = scaleTime()\n      .domain(sortBy([start, end]))\n      .range([0, availableWidth])\n      .clamp(false);\n    return {\n      xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  getScales = (props: Props) => {\n    const availableWidth = props.width - props.padding[1] - props.padding[3];\n    const availableHeight = props.height - props.padding[0] - props.padding[2];\n    const flatData = flatten(props.series.map(serie => serie.data));\n    return {\n      ...this.getXScale(props, availableWidth, flatData),\n      yScale: this.getYScale(props, availableHeight, flatData)\n    };\n  };\n\n  getSelectedDatePos = (xScale: XScale, selectedDate?: Date) => {\n    const firstSerie = this.props.series[0];\n    if (selectedDate && firstSerie) {\n      const idx = firstSerie.data.findIndex(p => p.x.valueOf() === selectedDate.valueOf());\n      const xRange = xScale.range().sort();\n      const xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: undefined, selectedDateXPos: undefined, selectedDateIdx: undefined };\n  };\n\n  getEventMarker = (size: number) => {\n    const half = size / 2;\n    return `M${half} 0 L${size} ${half} L ${half} ${size} L0 ${half} L${half} 0 L${size} ${half}`;\n  };\n\n  handleWheel = (event: React.WheelEvent<SVGElement>) => {\n    event.preventDefault();\n    const { maxXRange, xScale } = this.state;\n    const parentBbox = event.currentTarget.getBoundingClientRect();\n    const mouseXPos = (event.pageX - parentBbox.left) / parentBbox.width;\n    const xRange = xScale.range();\n    const speed = event.deltaMode\n      ? (25 / event.deltaMode) * this.props.zoomSpeed\n      : this.props.zoomSpeed;\n    const leftPos = xRange[0] - Math.round(speed * event.deltaY * mouseXPos);\n    const rightPos = xRange[1] + Math.round(speed * event.deltaY * (1 - mouseXPos));\n    const startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : undefined;\n    const endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : undefined;\n    this.handleZoomUpdate(startDate, endDate);\n  };\n\n  handleZoomUpdate = (startDate?: Date, endDate?: Date) => {\n    if (this.props.updateZoom) {\n      this.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  handleMouseMove = (event: React.MouseEvent<SVGElement>) => {\n    const parentBbox = event.currentTarget.getBoundingClientRect();\n    this.updateTooltipPos(event.pageX - parentBbox.left);\n  };\n\n  handleMouseEnter = () => {\n    this.setState({ mouseOver: true });\n  };\n\n  handleMouseOut = () => {\n    const { updateTooltip } = this.props;\n    if (updateTooltip) {\n      this.setState({\n        mouseOver: false,\n        selectedDate: undefined,\n        selectedDateXPos: undefined,\n        selectedDateIdx: undefined\n      });\n      updateTooltip(undefined, undefined, undefined);\n    }\n  };\n\n  handleClick = () => {\n    const { updateSelectedDate } = this.props;\n    if (updateSelectedDate) {\n      updateSelectedDate(this.state.selectedDate || undefined);\n    }\n  };\n\n  updateTooltipPos = (xPos: number) => {\n    const firstSerie = this.props.series[0];\n    if (this.state.mouseOver && firstSerie) {\n      const { updateTooltip } = this.props;\n      const date = this.state.xScale.invert(xPos);\n      const bisectX = bisector<Point, Date>(d => d.x).right;\n      let idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        const previousPoint = firstSerie.data[idx - 1];\n        const nextPoint = firstSerie.data[idx];\n        if (\n          !nextPoint ||\n          (previousPoint &&\n            date.valueOf() - previousPoint.x.valueOf() <= nextPoint.x.valueOf() - date.valueOf())\n        ) {\n          idx--;\n        }\n        const selectedDate = firstSerie.data[idx].x;\n        const xPos = this.state.xScale(selectedDate);\n        this.setState({ selectedDate, selectedDateXPos: xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, xPos, idx);\n        }\n      }\n    }\n  };\n\n  renderHorizontalGrid = () => {\n    const { formatYTick } = this.props;\n    const { xScale, yScale } = this.state;\n    const hasTicks = typeof yScale.ticks === 'function';\n    let ticks: Array<string | number> = hasTicks\n      ? yScale.ticks(this.props.maxYTicksCount)\n      : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    // if there are duplicated ticks, that means 4 ticks are too much for this data\n    // so let's just use the domain values (min and max)\n    if (formatYTick) {\n      const formattedTicks = ticks.map(tick => formatYTick(tick));\n      if (ticks.length > uniq(formattedTicks).length) {\n        ticks = yScale.domain();\n      }\n    }\n\n    return (\n      <g>\n        {ticks.map(tick => (\n          <g key={tick}>\n            {formatYTick != null && (\n              <text\n                className=\"line-chart-tick line-chart-tick-x\"\n                dx=\"-1em\"\n                dy=\"0.3em\"\n                textAnchor=\"end\"\n                x={xScale.range()[0]}\n                y={yScale(tick)}>\n                {formatYTick(tick)}\n              </text>\n            )}\n            <line\n              className=\"line-chart-grid\"\n              x1={xScale.range()[0]}\n              x2={xScale.range()[1]}\n              y1={yScale(tick)}\n              y2={yScale(tick)}\n            />\n          </g>\n        ))}\n      </g>\n    );\n  };\n\n  renderXAxisTicks = () => {\n    const { xScale, yScale } = this.state;\n    const format = xScale.tickFormat(7);\n    const ticks = xScale.ticks(7);\n    const y = yScale.range()[0];\n    return (\n      <g>\n        {ticks.slice(0, -1).map((tick, index) => {\n          const nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n          const x = (xScale(tick) + xScale(nextTick)) / 2;\n          return (\n            <text className=\"line-chart-tick\" dy=\"1.5em\" key={index} x={x} y={y}>\n              {format(tick)}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderLeak = () => {\n    const { leakPeriodDate } = this.props;\n    if (!leakPeriodDate) {\n      return null;\n    }\n    const { xScale, yScale } = this.state;\n    const yRange = yScale.range();\n    const xRange = xScale.range();\n    const leakWidth = xRange[xRange.length - 1] - xScale(leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return (\n      <rect\n        className=\"leak-chart-rect\"\n        fill={theme.leakColor}\n        height={yRange[0] - yRange[yRange.length - 1]}\n        width={leakWidth}\n        x={xScale(leakPeriodDate)}\n        y={yRange[yRange.length - 1]}\n      />\n    );\n  };\n\n  renderLines = () => {\n    const lineGenerator = d3Line<Point>()\n      .defined(d => Boolean(d.y || d.y === 0))\n      .x(d => this.state.xScale(d.x))\n      .y(d => this.state.yScale(d.y));\n    if (this.props.basisCurve) {\n      lineGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            className={classNames('line-chart-path', 'line-chart-path-' + idx)}\n            d={lineGenerator(serie.data) || undefined}\n            key={serie.name}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderDots = () => {\n    return (\n      <g>\n        {this.props.series\n          .map((serie, serieIdx) =>\n            serie.data\n              .map((point, idx) => {\n                const pointNotDefined = !point.y && point.y !== 0;\n                const hasPointBefore =\n                  serie.data[idx - 1] && (serie.data[idx - 1].y || serie.data[idx - 1].y === 0);\n                const hasPointAfter =\n                  serie.data[idx + 1] && (serie.data[idx + 1].y || serie.data[idx + 1].y === 0);\n                if (pointNotDefined || (hasPointBefore || hasPointAfter)) {\n                  return undefined;\n                }\n                return (\n                  <circle\n                    className={classNames('line-chart-dot', 'line-chart-dot-' + serieIdx)}\n                    cx={this.state.xScale(point.x)}\n                    cy={this.state.yScale(point.y)}\n                    key={serie.name + idx}\n                    r=\"2\"\n                  />\n                );\n              })\n              .filter(Boolean)\n          )\n          .filter(dots => dots.length > 0)}\n      </g>\n    );\n  };\n\n  renderAreas = () => {\n    const areaGenerator = area<Point>()\n      .defined(d => Boolean(d.y || d.y === 0))\n      .x(d => this.state.xScale(d.x))\n      .y1(d => this.state.yScale(d.y))\n      .y0(this.state.yScale(0));\n    if (this.props.basisCurve) {\n      areaGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            className={classNames('line-chart-area', 'line-chart-area-' + idx)}\n            d={areaGenerator(serie.data) || undefined}\n            key={serie.name}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderSelectedDate = () => {\n    const { selectedDateIdx, selectedDateXPos, yScale } = this.state;\n    const firstSerie = this.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return (\n      <g>\n        <line\n          className=\"line-tooltip\"\n          x1={selectedDateXPos}\n          x2={selectedDateXPos}\n          y1={yScale.range()[0]}\n          y2={yScale.range()[1]}\n        />\n        {this.props.series.map((serie, idx) => {\n          const point = serie.data[selectedDateIdx];\n          if (!point || (!point.y && point.y !== 0)) {\n            return null;\n          }\n          return (\n            <circle\n              className={classNames('line-chart-dot', 'line-chart-dot-' + idx)}\n              cx={selectedDateXPos}\n              cy={yScale(point.y)}\n              key={serie.name}\n              r=\"4\"\n            />\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderClipPath = () => {\n    return (\n      <defs>\n        <clipPath id=\"chart-clip\">\n          <rect\n            height={this.state.yScale.range()[0] + 10}\n            transform=\"translate(0,-5)\"\n            width={this.state.xScale.range()[1]}\n          />\n        </clipPath>\n      </defs>\n    );\n  };\n\n  renderMouseEventsOverlay = (zoomEnabled: boolean) => {\n    const mouseEvents: Partial<React.SVGProps<SVGRectElement>> = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = this.handleWheel;\n    }\n    if (this.props.updateTooltip) {\n      mouseEvents.onMouseEnter = this.handleMouseEnter;\n      mouseEvents.onMouseMove = this.handleMouseMove;\n      mouseEvents.onMouseOut = this.handleMouseOut;\n    }\n    if (this.props.updateSelectedDate) {\n      mouseEvents.onClick = this.handleClick;\n    }\n    return (\n      <rect\n        className=\"chart-mouse-events-overlay\"\n        height={this.state.yScale.range()[0]}\n        width={this.state.xScale.range()[1]}\n        {...mouseEvents}\n      />\n    );\n  };\n\n  render() {\n    if (!this.props.width || !this.props.height) {\n      return <div />;\n    }\n    const zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n    const isZoomed = Boolean(this.props.startDate || this.props.endDate);\n    return (\n      <svg\n        className={classNames('line-chart', { 'chart-zoomed': isZoomed })}\n        height={this.props.height}\n        width={this.props.width}>\n        {zoomEnabled && this.renderClipPath()}\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0]})`}>\n          {this.props.leakPeriodDate != null && this.renderLeak()}\n          {!this.props.hideGrid && this.renderHorizontalGrid()}\n          {!this.props.hideXAxis && this.renderXAxisTicks()}\n          {this.props.showAreas && this.renderAreas()}\n          {this.renderLines()}\n          {this.renderDots()}\n          {this.renderSelectedDate()}\n          {this.renderMouseEventsOverlay(zoomEnabled)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#777;font-size:12px;text-anchor:middle}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}\", \"\"]);\n\n// exports\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".histogram-tick{text-anchor:end}.histogram-tick-start,.histogram-value{text-anchor:start}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Histogram.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HistoryIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChartLegendIcon from '../icons-components/ChartLegendIcon';\n\ninterface Props {\n  style: string;\n  translatedName: string;\n  value: string;\n}\n\nexport default function PreviewGraphTooltipsContent({ style, translatedName, value }: Props) {\n  return (\n    <tr className=\"overview-analysis-graph-tooltip-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={'little-spacer-right line-chart-legend line-chart-legend-' + style}\n        />\n      </td>\n      <td className=\"overview-analysis-graph-tooltip-value text-right little-spacer-right thin\">\n        {value}\n      </td>\n      <td>\n        <div className=\"text-ellipsis overview-analysis-graph-tooltip-description\">\n          {translatedName}\n        </div>\n      </td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PreviewGraphTooltipsContent from './PreviewGraphTooltipsContent';\nimport DateFormatter from '../intl/DateFormatter';\nimport { Popup, PopupPlacement } from '../ui/popups';\nimport { Serie } from '../../apps/projectActivity/utils';\n\ninterface Props {\n  formatValue: (value: number | string) => string;\n  graph: string;\n  graphWidth: number;\n  selectedDate: Date;\n  series: Serie[];\n  tooltipIdx: number;\n  tooltipPos: number;\n}\n\nconst TOOLTIP_WIDTH = 160;\n\nexport default class PreviewGraphTooltips extends React.PureComponent<Props> {\n  render() {\n    const { tooltipIdx } = this.props;\n    const top = 16;\n    let left = this.props.tooltipPos;\n    let placement = PopupPlacement.RightTop;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n      left -= TOOLTIP_WIDTH;\n      placement = PopupPlacement.LeftTop;\n    }\n\n    return (\n      <Popup\n        className=\"overview-analysis-graph-popup disabled-pointer-events\"\n        placement={placement}\n        style={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"overview-analysis-graph-tooltip\">\n          <div className=\"overview-analysis-graph-tooltip-title\">\n            <DateFormatter date={this.props.selectedDate} long={true} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>\n              {this.props.series.map((serie, idx) => {\n                const point = serie.data[tooltipIdx];\n                if (!point || (!point.y && point.y !== 0)) {\n                  return null;\n                }\n                return (\n                  <PreviewGraphTooltipsContent\n                    key={serie.name}\n                    style={idx.toString()}\n                    translatedName={serie.translatedName}\n                    value={this.props.formatValue(point.y)}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </Popup>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { minBy } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport PreviewGraphTooltips from './PreviewGraphTooltips';\nimport AdvancedTimeline from '../charts/AdvancedTimeline';\nimport {\n  DEFAULT_GRAPH,\n  getDisplayedHistoryMetrics,\n  generateSeries,\n  getSeriesMetricType,\n  hasHistoryDataValue,\n  PROJECT_ACTIVITY_GRAPH,\n  PROJECT_ACTIVITY_GRAPH_CUSTOM,\n  splitSeriesInGraphs,\n  Serie\n} from '../../apps/projectActivity/utils';\nimport { get } from '../../helpers/storage';\nimport { formatMeasure, getShortType } from '../../helpers/measures';\nimport { getBranchLikeQuery } from '../../helpers/branches';\nimport { BranchLike, Metric } from '../../app/types';\n\ninterface History {\n  [x: string]: Array<{ date: Date; value?: string }>;\n}\n\ninterface Props {\n  branchLike?: BranchLike;\n  history?: History;\n  metrics: { [key: string]: Metric };\n  project: string;\n  renderWhenEmpty?: () => React.ReactNode;\n}\n\ninterface State {\n  customMetrics: string[];\n  graph: string;\n  selectedDate?: Date;\n  series: Serie[];\n  tooltipIdx?: number;\n  tooltipXPos?: number;\n}\n\nconst GRAPH_PADDING = [4, 0, 4, 0];\nconst MAX_GRAPH_NB = 1;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport default class PreviewGraph extends React.PureComponent<Props, State> {\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  constructor(props: Props) {\n    super(props);\n    const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n    const graph = get(PROJECT_ACTIVITY_GRAPH) || 'issues';\n    const customMetrics = customGraphs ? customGraphs.split(',') : [];\n    const series = splitSeriesInGraphs(\n      this.getSeries(props.history, graph, customMetrics, props.metrics),\n      MAX_GRAPH_NB,\n      MAX_SERIES_PER_GRAPH\n    );\n    this.state = {\n      customMetrics,\n      graph,\n      series: series.length > 0 ? series[0] : []\n    };\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n      const customGraphs = get(PROJECT_ACTIVITY_GRAPH_CUSTOM);\n      const graph = get(PROJECT_ACTIVITY_GRAPH) || 'issues';\n      const customMetrics = customGraphs ? customGraphs.split(',') : [];\n      const series = splitSeriesInGraphs(\n        this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics),\n        MAX_GRAPH_NB,\n        MAX_SERIES_PER_GRAPH\n      );\n      this.setState({\n        customMetrics,\n        graph,\n        series: series.length > 0 ? series[0] : []\n      });\n    }\n  }\n\n  formatValue = (tick: number | string) => {\n    return formatMeasure(tick, getShortType(getSeriesMetricType(this.state.series)));\n  };\n\n  getDisplayedMetrics = (graph: string, customMetrics: string[]) => {\n    const metrics = getDisplayedHistoryMetrics(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return getDisplayedHistoryMetrics(DEFAULT_GRAPH, customMetrics);\n    }\n    return metrics;\n  };\n\n  getSeries = (\n    history: History | undefined,\n    graph: string,\n    customMetrics: string[],\n    metrics: { [x: string]: Metric }\n  ) => {\n    const myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    const displayedMetrics = this.getDisplayedMetrics(graph, customMetrics);\n    const firstValid = minBy(\n      displayedMetrics.map(metric => myHistory[metric].find(p => p.value !== undefined)),\n      'date'\n    );\n    const measureHistory = displayedMetrics.map(metric => ({\n      metric,\n      history: firstValid\n        ? myHistory[metric].filter(p => p.date >= firstValid.date)\n        : myHistory[metric]\n    }));\n    return generateSeries(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  handleClick = () => {\n    this.context.router.push({\n      pathname: '/project/activity',\n      query: { id: this.props.project, ...getBranchLikeQuery(this.props.branchLike) }\n    });\n  };\n\n  updateTooltip = (selectedDate?: Date, tooltipXPos?: number, tooltipIdx?: number) =>\n    this.setState({ selectedDate, tooltipXPos, tooltipIdx });\n\n  renderTimeline() {\n    const { graph, selectedDate, series, tooltipIdx, tooltipXPos } = this.state;\n    return (\n      <AutoSizer disableHeight={true}>\n        {({ width }) => (\n          <div>\n            <AdvancedTimeline\n              height={80}\n              hideGrid={true}\n              hideXAxis={true}\n              metricType={getSeriesMetricType(series)}\n              padding={GRAPH_PADDING}\n              series={series}\n              showAreas={['coverage', 'duplications'].includes(graph)}\n              updateTooltip={this.updateTooltip}\n              width={width}\n            />\n            {selectedDate !== undefined &&\n              tooltipXPos !== undefined &&\n              tooltipIdx !== undefined && (\n                <PreviewGraphTooltips\n                  formatValue={this.formatValue}\n                  graph={graph}\n                  graphWidth={width}\n                  selectedDate={selectedDate}\n                  series={series}\n                  tooltipIdx={tooltipIdx}\n                  tooltipPos={tooltipXPos}\n                />\n              )}\n          </div>\n        )}\n      </AutoSizer>\n    );\n  }\n\n  render() {\n    const { series } = this.state;\n    if (!hasHistoryDataValue(series)) {\n      return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n    }\n\n    return (\n      <div\n        className=\"overview-analysis-graph big-spacer-bottom spacer-top\"\n        onClick={this.handleClick}\n        role=\"link\"\n        tabIndex={0}>\n        {this.renderTimeline()}\n      </div>\n    );\n  }\n}\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n"],"sourceRoot":""}