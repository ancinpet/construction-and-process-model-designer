{"version":3,"sources":["webpack:///../sonar-docs/src/tooltips/rules/custom-rule-removal.md","webpack:///./node_modules/lodash/_baseFilter.js","webpack:///./node_modules/lodash/filter.js","webpack:///../sonar-docs/src/tooltips/rules/rule-templates.md","webpack:///../sonar-docs/src/tooltips/rules/rules-quality-profiles.md","webpack:///./src/main/js/apps/coding-rules/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/BulkChange.tsx","webpack:///./src/main/js/apps/coding-rules/components/Facet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/AvailableSinceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/DefaultSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/InheritanceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/LanguageFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ProfileFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/RepositoryFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/StatusFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TagFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TemplateFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TypeFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/FacetsList.tsx","webpack:///./src/main/js/apps/coding-rules/components/PageActions.tsx","webpack:///./src/main/js/helpers/latinize.ts","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsCustomRules.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsIssues.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsParameters.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleInheritanceIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsProfiles.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetails.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleListItem.tsx","webpack:///./src/main/js/apps/coding-rules/components/App.tsx","webpack:///./src/main/js/components/controls/Select.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/controls/react-select.css","webpack:///./src/main/js/components/controls/react-select.css?761c","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/controls/ModalButton.tsx","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./src/main/js/components/icons-components/ChevronRightcon.tsx","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/components/controls/ConfirmButton.tsx","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/helpers/csv.ts","webpack:///./node_modules/date-fns/get_days_in_month/index.js","webpack:///./node_modules/date-fns/add_months/index.js","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./src/main/js/helpers/search.tsx","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/controls/styles.css?e95d","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/icons-components/CalendarIcon.tsx","webpack:///./src/main/js/components/icons-components/ChevronLeftIcon.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/search-navigator.css?b13d","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/DayPicker.css?dbfd","webpack:///./node_modules/date-fns/sub_months/index.js","webpack:///./node_modules/date-fns/set_year/index.js","webpack:///./node_modules/date-fns/set_month/index.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/range.js","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/apps/quality-profiles/components/BuiltInQualityProfileBadge.tsx","webpack:///../sonar-docs/src/tooltips/quality-profiles/built-in-quality-profile.md","webpack:///./src/main/js/components/controls/ReloadButton.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?e98c"],"names":["module","exports","baseEach","__webpack_require__","collection","predicate","result","value","index","push","arrayFilter","baseFilter","baseIteratee","isArray","_super","BulkChangeModal","props","_this","call","this","mounted","handleProfileSelect","options","selectedProfiles","map","option","setState","getAvailableQualityProfiles","_a","_b","query","referencedProfiles","profiles","Object","values","languages","length","filter","profile","includes","language","actions","edit","isBuiltIn","processResponse","response","result_1","failed","succeeded","state","results","concat","sendRequests","looper","Promise","resolve","data","coding_rules_query","method","action","quality_profiles","then","__assign","organization","targetKey","_i","profiles_1","key","handleFormSubmit","event","preventDefault","submitting","finished","renderResult","profileKey","name","index_js_exposed","className","classnames","alert-warning","alert-success","l10n","renderProfileSelect","label","languageName","Select","multi","onChange","availableProfiles","__extends","prototype","componentDidMount","componentWillUnmount","render","total","header","measures","Modal","contentLabel","onRequestClose","onClose","onSubmit","htmlFor","buttons","disabled","id","onClick","BulkChange","apply","arguments","modal","getSelectedProfile","undefined","closeModal","handleActivateClick","currentTarget","blur","handleActivateInProfileClick","handleDeactivateClick","handleDeactivateInProfileClick","BulkChange_extends","some","Boolean","activation","canChangeProfile","allowActivateOnProfile","allowDeactivateOnProfile","Dropdown","overlay","href","components_BulkChangeModal","Facet","handleItemClick","itemValue","multiple","newValue","singleSelection","orderBy_default","without_default","property","handleHeaderClick","onToggle","handleClear","getStat","stats","renderItem","active","stat","renderName","defaultRenderName","_c","renderTextName","FacetItem","halfWidth","tooltip","Facet_extends","items","sortBy_default","keys","toLowerCase","FacetBox","search-navigator-facet-box-forbidden","FacetHeader","Tooltip","disabledHelper","onClear","open","children","FacetItemsList","renderFooter","ActivationSeverityFacet","severity","SeverityHelper","ActivationSeverityFacet_extends","components_Facet","ActivationSeverityFacet_assign","constants","AvailableSinceFacet","availableSince","handlePeriodChange","date","getValues","context","intl","formatDate","DateFormatter","AvailableSinceFacet_extends","DateInput","placeholder","contextTypes","index_es","DefaultSeverityFacet","DefaultSeverityFacet_extends","DefaultSeverityFacet_assign","InheritanceFacet","InheritanceFacet_extends","__rest","InheritanceFacet_assign","types","LanguageFacet_LanguageFacet","LanguageFacet","getLanguageName","languageKey","installedLanguages","find","l","handleSearch","getAllPossibleOptions","paging","pageIndex","pageSize","uniqBy_default","renderSearchResult","term","search","LanguageFacet_extends","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","minSearchLength","onSearch","renderFacetItem","searchPlaceholder","components_LanguageFacet","es","rootReducer","ProfileFacet","selected","compareToProfile","activationSeverities","inheritance","handleActiveClick","stopPropagation","handleInactiveClick","getTextValue","getTooltip","base","renderActivation","isCompare","aria-checked","facet-toggle-active","role","tabIndex","ProfileFacet_extends","DocTooltip","doc","t","bind","RepositoryFacet_RepositoryFacet","RepositoryFacet","referencedLanguages","repositoryKey","repository","referencedRepositories","RepositoryFacet_extends","facetProps","RepositoryFacet_rest","RepositoryFacet_assign","components_RepositoryFacet","StatusFacet","status","StatusFacet_extends","StatusFacet_assign","TagFacet","api_rules","ps","q","tags","handleSelect","uniq_default","getTagName","tag","renderTag","TagsIcon","fill","theme","TagFacet_extends","TemplateFacet","handleChange","changes","template","Array","TemplateFacet_assign","TemplateFacet_extends","TemplateFacet_rest","String","TypeFacet","type","IssueTypeIcon","TypeFacet_extends","Bug","Vulnerability","CodeSmell","Hotspot","TypeFacet_assign","FacetsList","inheritanceDisabled","selectedProfile","isInherited","activationSeverityDisabled","onFilterChange","onFacetToggle","openFacets","facets","components_TypeFacet","components_TagFacet","repositories","components_DefaultSeverityFacet","severities","components_StatusFacet","statuses","components_AvailableSinceFacet","organizationsEnabled","components_TemplateFacet","hideProfileFacet","components_ProfileFacet","components_InheritanceFacet","components_ActivationSeverityFacet","PageActions","Shortcuts","DeferredSpinner","loading","ReloadButton","onReload","PageCounter","current","selectedIndex","defaultDiacriticsRemovalap","letters","diacriticsMap","i","split","j","CustomRuleFormModal","prepareRequest","customRule","templateRule","params","csv","join","ruleData","markdown_description","description","CustomRuleFormModal_assign","custom_key","prevent_reactivation","reactivating","template_key","newRuleDetails","onDone","handleNameChange","keyModifiedByUser","str","replace","a","handleKeyChange","handleDescriptionChange","handleTypeChange","handleSeverityChange","handleStatusChange","handleParameterChange","renderNameField","autoFocus","required","renderKeyField","title","renderDescriptionField","rows","MarkdownTips","renderTypeOption","TypeHelper","renderTypeField","clearable","optionRenderer","searchable","valueRenderer","renderSeverityOption","renderSeverityField","renderStatusField","renderParameterField","param","defaultValue","dangerouslySetInnerHTML","__html","htmlDesc","extra","renderSubmitButton","mdDesc","CustomRuleFormModal_extends","CustomRuleButton","handleClick","handleModalClose","handleDone","CustomRuleButton_extends","components_CustomRuleFormModal","RuleDetailsCustomRules","fetchRules","f","ruleDetails","rules","handleRuleCreate","handleRuleDelete","ruleKey","rule","renderRule","data-rule","react_router_es","to","urls","canChange","ConfirmButton","confirmButtonText","confirmData","isDestructive","modalBody","modalHeader","onConfirm","RuleDetailsCustomRules_extends","componentDidUpdate","prevProps","components_CustomRuleButton","RuleDetailsIssues","getBaseIssuesQuery","resolved","fetchIssues","issues","RuleDetailsIssues_assign","facet","components","projects","item","project","component","val","count","facet_1","renderTotal","path","totalItem","branchesEnabled","renderProject","RuleDetailsIssues_extends","colSpan","prop_types","RuleDetailsParameters","renderParameter","RuleDetailsParameters_extends","ActivationFormModal","getParams","_d","_e","getQualityProfilesWithDepth","utils","lang","ActivationFormModal_assign","depth","handleProfileChange","profilesWithDepth","ActivationFormModal_extends","isCustomRule","templateKey","activeInAllProfiles","isUpdateMode","repeat","ActivationButton","handleButtonClick","handleCloseModal","ActivationButton_extends","buttonText","components_ActivationFormModal","updateMode","RuleInheritanceIcon","other","RuleInheritanceIcon_rest","Overridden","RuleInheritanceIcon_assign","height","version","viewBox","width","xmlSpace","xmlnsXlink","d","style","fillRule","RuleDetailsProfiles","fetchProfiles","handleActivate","onActivate","handleDeactivate","onDeactivate","handleRevert","reset","renderInheritedProfile","parentName","profilePath","inherit","Inherited","renderSeverity","parentActivation","originalParam","p","originalValue","renderParameters","renderActions","canEdit","hasParent","NotInherited","parentKey","isTemplate","components_ActivationButton","activations","qProfile","x","data-profile","BuiltInQualityProfileBadge","RuleDetailsProfiles_extends","canActivate","InstanceMessage","message","filter_default","RuleDetails","fetchRuleDetails","actives","handleRuleChange","handleTagsChange","oldTags","RuleDetails_assign","catch","handleDelete","onDelete","RuleDetails_extends","allowCustomRules","canWrite","hideQualityProfiles","isCustom","isEditable","RuleDetailsMeta","onTagsChange","RuleDetailsDescription","components_RuleDetailsParameters","components_RuleDetailsCustomRules","components_RuleDetailsProfiles","components_RuleDetailsIssues","RuleListItem","data_1","handleNameClick","isLeftClickEvent","button","metaKey","altKey","ctrlKey","shiftKey","onOpen","SeverityIcon","renderDeactivateButton","RuleListItem_extends","allTags","sysTags","langName","TagsList","allowUpdate","SimilarRulesFilter","PAGE_SIZE","LIMIT_BEFORE_LOAD_MORE","App_App","App","attachShortcuts","keymaster","selectPreviousRule","selectNextRule","openSelectedRule","closeRule","detachShortcuts","getOpenRule","location","getFacetsToFetch","getFieldsToFetch","fields","getSearchParameters","App_assign","s","stopLoading","fetchInitialData","all","fetchQualityProfiles","keyBy_default","fetchFirstRules","makeFetchRequest","rawActives","rawFacets","entries","activations_1","parseActives","rawFacets_1","rawFacet","rawValue","parseFacets","openRule","fetchMoreRules","nextPage","fetchFacet","currentUser","userOrganizations","organizations","getSelectedIndex","findIndex","getRulePath","pathname","router","scrollToSelectedRule","smooth","element","document","querySelector","scrolling","topOffset","bottomOffset","getRuleActivation","closeFacet","handleRuleOpen","handleBack","handleFilterChange","handleFacetToggle","handleReload","handleReset","pickRuleAround","handleRuleActivate","handleRuleDeactivate","newRule","searchQuery","isFiltered","App_extends","body","classList","add","documentElement","footer","getElementById","componentWillReceiveProps","nextProps","prevState","remove","Suggestions","suggestions","Helmet","content","ScreenPositionHelper","top","FiltersHeader","displayReset","onReset","SearchBox","minLength","components_BulkChange","components_RuleDetails","components_RuleListItem","ListFooter","loadMore","ready","__webpack_exports__","ReactSelectLib","e","ReactSelect","_lazyLoad__WEBPACK_IMPORTED_MODULE_4__","ReactCreatable","lib","default","Creatable","ReactAsync","Async","renderInput","react__WEBPACK_IMPORTED_MODULE_0__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","color","_app_theme__WEBPACK_IMPORTED_MODULE_1__","_icons_components_ClearIcon__WEBPACK_IMPORTED_MODULE_2__","size","innerRef","ReactSelectAny","clearRenderer","ref","ReactCreatableAny","AsyncSelect","addSuggestions","removeSuggestions","prop_types__WEBPACK_IMPORTED_MODULE_1__","isRequired","hmr","transform","insertInto","locals","toNumber","INFINITY","MAX_INTEGER","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","classnames__WEBPACK_IMPORTED_MODULE_1__","new-loading","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","arrayMap","baseMap","iteratee","ModalButton","onFormSubmit","searchQualityProfiles","parameters","_helpers_request__WEBPACK_IMPORTED_MODULE_2__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_3__","getQualityProfile","createQualityProfile","setMethod","setData","submit","restoreQualityProfile","getProfileProjects","getProfileInheritance","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","getImporters","r","importers","getExporters","exporters","getProfileChangelog","compareProfiles","leftKey","rightKey","associateProject","projectKey","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","_helpers_csv__WEBPACK_IMPORTED_MODULE_1__","deactivateRule","_Icon__WEBPACK_IMPORTED_MODULE_1__","ChevronRightIcon","ConfirmModal","handleSubmit","renderModalContent","onCloseClick","confirmDisable","_ui_buttons__WEBPACK_IMPORTED_MODULE_4__","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","renderConfirmModal","_ConfirmModal__WEBPACK_IMPORTED_MODULE_2__","_ModalButton__WEBPACK_IMPORTED_MODULE_1__","data-property","renderValue","search-navigator-facet-half","data-facet","defaultProps","renderHelper","helper","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","renderValueIndicator","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","showClearButton","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","clearLabel","csvEscape","parse","dirtyDate","year","getFullYear","monthIndex","getMonth","lastDayOfMonth","Date","setFullYear","setHours","getDate","getDaysInMonth","dirtyAmount","amount","Number","desiredMonth","dateWithDesiredMonth","daysInMonth","setMonth","Math","min","ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","allShown","ListStyleFacet_ListStyleFacet","searching","searchResultsCounts","showFullList","onItemClick","stopSearching","loadCountsForSearchResults","maxResults","searchMaxResults","searchResults","searchPaging","searchMore","loadSearchResultCount","resultsToLoad","hideFullList","ListStyleFacet_extends","helpers_query","maxInitialItems","renderList","sortedItems","getSortedItems","limitedList","slice","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","facet_ListStyleFacetFooter","renderSearch","renderSearchResults","loadingResults","showList","MultipleSelectionHint","_app_types__WEBPACK_IMPORTED_MODULE_0__","isPaidOrganization","subscription","Paid","hasPrivateAccess","isCurrentUserMemberOf","canAdmin","isAdmin","org","getPosition","containerPos","container","getBoundingClientRect","window","pageYOffset","left","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_1__","ChevronDownIcon","Icon","OpenCloseIcon","ChevronRightcon","highlightTerm","pos","indexOf","substring","substr","baseOrderBy","iteratees","orders","guard","CalendarIcon","ChevronLeftIcon","DateInput_DayPicker","lazyLoad","DateInput_DateInput","focus","input","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","day","modifiers","handleDayMouseEnter","handleCurrentMonthChange","set_month","handleCurrentYearChange","set_year","handlePreviousMonthClick","sub_months","handleNextMonthClick","add_months","highlightFrom","highlightTo","minDate","formattedValue","month","after","maxDate","months","range_default","years","selectedDays","lastHoveredOrValue","highlighted","from","weekdaysLong","weekdaysShort","OutsideClickHandler","onClickOutside","inputClassName","is-filled","onFocus","readOnly","node","ClearIcon","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","addMonths","dirtyYear","dirtyMonth","nativeCeil","ceil","nativeMax","max","start","end","step","fromRight","baseRange","isIterateeCall","toFinite","range","createRange","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","navigator","userAgent","badge","_components_docs_DocTooltip__WEBPACK_IMPORTED_MODULE_2__","renderIcon","_app_theme__WEBPACK_IMPORTED_MODULE_3__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__"],"mappings":"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","file":"js/331.27c90ee4.chunk.js","sourcesContent":["module.exports = \"Only custom rules may be deleted. When a custom rule is deleted, it is not removed from the SonarQube instance. Instead its status is set to \\\"REMOVED\\\", allowing relevant issues to continue to be displayed properly.\\n\"","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","module.exports = \"Rule Templates allow users to easily define their own rules. They are like cookie cutters from which you can stamp out new, \\\"custom rules\\\". The rules created from a template are listed on its rule detail page.\\n\"","module.exports = \"Quality Profiles are collections of Rules to apply during an analysis.\\n\\n---\\n\\nSee also: [Quality Profiles](/instance-administration/quality-profiles/)\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Query, serializeQuery } from '../query';\nimport { Profile, bulkActivateRules, bulkDeactivateRules } from '../../../api/quality-profiles';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Languages } from '../../../app/types';\n\ninterface Props {\n  action: string;\n  languages: Languages;\n  onClose: () => void;\n  organization: string | undefined;\n  profile?: Profile;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  total: number;\n}\n\ninterface ActivationResult {\n  failed: number;\n  profile: string;\n  succeeded: number;\n}\n\ninterface State {\n  finished: boolean;\n  results: ActivationResult[];\n  selectedProfiles: any[];\n  submitting: boolean;\n}\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    // if there is only one possible option for profile, select it immediately\n    const selectedProfiles = [];\n    const availableProfiles = this.getAvailableQualityProfiles(props);\n    if (availableProfiles.length === 1) {\n      selectedProfiles.push(availableProfiles[0].key);\n    }\n\n    this.state = { finished: false, results: [], selectedProfiles, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleProfileSelect = (options: { value: string }[]) => {\n    const selectedProfiles = options.map(option => option.value);\n    this.setState({ selectedProfiles });\n  };\n\n  getAvailableQualityProfiles = ({ query, referencedProfiles } = this.props) => {\n    let profiles = Object.values(referencedProfiles);\n    if (query.languages.length > 0) {\n      profiles = profiles.filter(profile => query.languages.includes(profile.language));\n    }\n    return profiles\n      .filter(profile => profile.actions && profile.actions.edit)\n      .filter(profile => !profile.isBuiltIn);\n  };\n\n  processResponse = (profile: string, response: any) => {\n    if (this.mounted) {\n      const result: ActivationResult = {\n        failed: response.failed || 0,\n        profile,\n        succeeded: response.succeeded || 0\n      };\n      this.setState(state => ({ results: [...state.results, result] }));\n    }\n  };\n\n  sendRequests = () => {\n    let looper = Promise.resolve();\n\n    // serialize the query, but delete the `profile`\n    const data = serializeQuery(this.props.query);\n    delete data.profile;\n\n    const method = this.props.action === 'activate' ? bulkActivateRules : bulkDeactivateRules;\n\n    // if a profile is selected in the facet, pick it\n    // otherwise take all profiles selected in the dropdown\n    const profiles: string[] = this.props.profile\n      ? [this.props.profile.key]\n      : this.state.selectedProfiles;\n\n    for (const profile of profiles) {\n      looper = looper.then(() =>\n        method({ ...data, organization: this.props.organization, targetKey: profile }).then(\n          response => this.processResponse(profile, response)\n        )\n      );\n    }\n    return looper;\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.sendRequests().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ finished: true, submitting: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  renderResult = (result: ActivationResult) => {\n    const { profile: profileKey } = result;\n    const profile = this.props.referencedProfiles[profileKey];\n    if (!profile) {\n      return null;\n    }\n    const { languages } = this.props;\n    const language = languages[profile.language]\n      ? languages[profile.language].name\n      : profile.language;\n    return (\n      <div\n        className={classNames('alert', {\n          'alert-warning': result.failed > 0,\n          'alert-success': result.failed === 0\n        })}\n        key={result.profile}>\n        {result.failed\n          ? translateWithParameters(\n              'coding_rules.bulk_change.warning',\n              profile.name,\n              language,\n              result.succeeded,\n              result.failed\n            )\n          : translateWithParameters(\n              'coding_rules.bulk_change.success',\n              profile.name,\n              language,\n              result.succeeded\n            )}\n      </div>\n    );\n  };\n\n  renderProfileSelect = () => {\n    const profiles = this.getAvailableQualityProfiles();\n    const options = profiles.map(profile => ({\n      label: `${profile.name} - ${profile.languageName}`,\n      value: profile.key\n    }));\n    return (\n      <Select\n        multi={true}\n        onChange={this.handleProfileSelect}\n        options={options}\n        value={this.state.selectedProfiles}\n      />\n    );\n  };\n\n  render() {\n    const { action, profile, total } = this.props;\n    const header =\n      // prettier-ignore\n      action === 'activate'\n        ? `${translate('coding_rules.activate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`\n        : `${translate('coding_rules.deactivate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {this.state.results.map(this.renderResult)}\n\n            {!this.state.finished &&\n              !this.state.submitting && (\n                <div className=\"modal-field\">\n                  <h3>\n                    <label htmlFor=\"coding-rules-bulk-change-profile\">\n                      {action === 'activate'\n                        ? translate('coding_rules.activate_in')\n                        : translate('coding_rules.deactivate_in')}\n                    </label>\n                  </h3>\n                  {profile ? (\n                    <h3 className=\"readonly-field\">\n                      {profile.name}\n                      {'  '}\n                      {translate('are_you_sure')}\n                    </h3>\n                  ) : (\n                    this.renderProfileSelect()\n                  )}\n                </div>\n              )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.submitting && <i className=\"spinner spacer-right\" />}\n            {!this.state.finished && (\n              <SubmitButton disabled={this.state.submitting} id=\"coding-rules-submit-bulk-change\">\n                {translate('apply')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink onClick={this.props.onClose}>\n              {this.state.finished ? translate('close') : translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BulkChangeModal from './BulkChangeModal';\nimport { Query } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { Languages } from '../../../app/types';\n\ninterface Props {\n  languages: Languages;\n  organization: string | undefined;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  total: number;\n}\n\ninterface State {\n  action?: string;\n  modal: boolean;\n  profile?: Profile;\n}\n\nexport default class BulkChange extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  getSelectedProfile = () => {\n    const { profile } = this.props.query;\n    return (profile && this.props.referencedProfiles[profile]) || undefined;\n  };\n\n  closeModal = () => this.setState({ action: undefined, modal: false, profile: undefined });\n\n  handleActivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: undefined });\n  };\n\n  handleActivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  handleDeactivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: undefined });\n  };\n\n  handleDeactivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  render() {\n    // show \"Bulk Change\" button only if user has at least one QP which he administrates\n    const canBulkChange = Object.values(this.props.referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit)\n    );\n    if (!canBulkChange) {\n      return null;\n    }\n\n    const { activation } = this.props.query;\n    const profile = this.getSelectedProfile();\n    const canChangeProfile = Boolean(\n      profile && !profile.isBuiltIn && profile.actions && profile.actions.edit\n    );\n    const allowActivateOnProfile = canChangeProfile && activation === false;\n    const allowDeactivateOnProfile = canChangeProfile && activation === true;\n\n    return (\n      <>\n        <Dropdown\n          className=\"pull-left\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a href=\"#\" onClick={this.handleActivateClick}>\n                  {translate('coding_rules.activate_in')}\n                </a>\n              </li>\n              {allowActivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleActivateInProfileClick}>\n                      {translate('coding_rules.activate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n              <li>\n                <a href=\"#\" onClick={this.handleDeactivateClick}>\n                  {translate('coding_rules.deactivate_in')}\n                </a>\n              </li>\n              {allowDeactivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleDeactivateInProfileClick}>\n                      {translate('coding_rules.deactivate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n            </ul>\n          }>\n          <Button className=\"js-bulk-change\">{translate('bulk_change')}</Button>\n        </Dropdown>\n        {this.state.modal &&\n          this.state.action && (\n            <BulkChangeModal\n              action={this.state.action}\n              languages={this.props.languages}\n              onClose={this.closeModal}\n              organization={this.props.organization}\n              profile={this.state.profile}\n              query={this.props.query}\n              referencedProfiles={this.props.referencedProfiles}\n              total={this.props.total}\n            />\n          )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without, sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { FacetKey } from '../query';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport interface BasicProps {\n  onChange: (changes: { [x: string]: string | string[] | undefined }) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  stats?: { [x: string]: number };\n  values: string[];\n}\n\ninterface Props extends BasicProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  disabledHelper?: string;\n  halfWidth?: boolean;\n  options?: string[];\n  property: FacetKey;\n  renderFooter?: () => React.ReactNode;\n  renderName?: (value: string) => React.ReactNode;\n  renderTextName?: (value: string) => string;\n  singleSelection?: boolean;\n}\n\nexport default class Facet extends React.PureComponent<Props> {\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { values } = this.props;\n    let newValue;\n    if (this.props.singleSelection) {\n      const value = values.length ? values[0] : undefined;\n      newValue = itemValue === value ? undefined : itemValue;\n    } else if (multiple) {\n      newValue = orderBy(\n        values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n      );\n    } else {\n      newValue = values.includes(itemValue) && values.length < 2 ? [] : [itemValue];\n    }\n    this.props.onChange({ [this.props.property]: newValue });\n  };\n\n  handleHeaderClick = () => this.props.onToggle(this.props.property);\n\n  handleClear = () => this.props.onChange({ [this.props.property]: [] });\n\n  getStat = (value: string) => this.props.stats && this.props.stats[value];\n\n  renderItem = (value: string) => {\n    const active = this.props.values.includes(value);\n    const stat = this.getStat(value);\n    const { renderName = defaultRenderName, renderTextName = defaultRenderName } = this.props;\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={this.props.halfWidth}\n        key={value}\n        name={renderName(value)}\n        onClick={this.handleItemClick}\n        stat={stat && formatMeasure(stat, 'SHORT_INT')}\n        tooltip={renderTextName(value)}\n        value={value}\n      />\n    );\n  };\n\n  render() {\n    const { renderTextName = defaultRenderName, stats } = this.props;\n    const values = this.props.values.map(renderTextName);\n    const items =\n      this.props.options ||\n      (stats &&\n        sortBy(Object.keys(stats), key => -stats[key], key => renderTextName(key).toLowerCase()));\n\n    return (\n      <FacetBox\n        className={classNames({ 'search-navigator-facet-box-forbidden': this.props.disabled })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={this.props.disabled ? this.props.disabledHelper : undefined}>\n              <span>{translate('coding_rules.facet', this.props.property)}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={this.props.disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !this.props.disabled}\n          values={values}>\n          {this.props.children}\n        </FacetHeader>\n\n        {this.props.open &&\n          items !== undefined && <FacetItemsList>{items.map(this.renderItem)}</FacetItemsList>}\n\n        {this.props.open && this.props.renderFooter !== undefined && this.props.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n\nfunction defaultRenderName(value: string) {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends BasicProps {\n  disabled: boolean;\n}\n\nexport default class ActivationSeverityFacet extends React.PureComponent<Props> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.active_severity.inactive')}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"activationSeverities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { intlShape } from 'react-intl';\nimport { Query } from '../query';\nimport DateInput from '../../../components/controls/DateInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: keyof Query) => void;\n  open: boolean;\n  value?: Date;\n}\n\nexport default class AvailableSinceFacet extends React.PureComponent<Props> {\n  static contextTypes = {\n    intl: intlShape\n  };\n\n  handleHeaderClick = () => this.props.onToggle('availableSince');\n\n  handleClear = () => this.props.onChange({ availableSince: undefined });\n\n  handlePeriodChange = (date: Date | undefined) => {\n    this.props.onChange({ availableSince: date });\n  };\n\n  getValues = () =>\n    this.props.value\n      ? [this.context.intl.formatDate(this.props.value, longFormatterOption)]\n      : undefined;\n\n  render() {\n    return (\n      <FacetBox property=\"availableSince\">\n        <FacetHeader\n          name={translate('coding_rules.facet.available_since')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <DateInput\n            name=\"available-since\"\n            onChange={this.handlePeriodChange}\n            placeholder={translate('date')}\n            value={this.props.value}\n          />\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class DefaultSeverityFacet extends React.PureComponent<BasicProps> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"severities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { RuleInheritance, Omit } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends Omit<BasicProps, 'values'> {\n  disabled: boolean;\n  value: RuleInheritance | undefined;\n}\n\nexport default class InheritanceFacet extends React.PureComponent<Props> {\n  renderName = (value: RuleInheritance) =>\n    translate('coding_rules.filters.inheritance', value.toLowerCase());\n\n  render() {\n    const { value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.inheritance.inactive')}\n        options={Object.values(RuleInheritance)}\n        property=\"inheritance\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value ? [value] : []}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { uniqBy } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface StateProps {\n  installedLanguages: InstalledLanguage[];\n}\n\ninterface Props extends BasicProps, StateProps {}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const language = this.props.installedLanguages.find(l => l.key === languageKey);\n    return language ? language.name : languageKey;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('coding_rules.facet.languages')}\n        fetching={false}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { Query, FacetKey } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  activation: boolean | undefined;\n  compareToProfile: string | undefined;\n  languages: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  referencedProfiles: { [profile: string]: Profile };\n  value: string | undefined;\n}\n\nexport default class ProfileFacet extends React.PureComponent<Props> {\n  handleItemClick = (selected: string) => {\n    const newValue = this.props.value === selected ? '' : selected;\n    this.props.onChange({\n      activation: this.props.activation === undefined ? true : this.props.activation,\n      compareToProfile: undefined,\n      profile: newValue\n    });\n  };\n\n  handleHeaderClick = () => this.props.onToggle('profile');\n\n  handleClear = () =>\n    this.props.onChange({\n      activation: undefined,\n      activationSeverities: [],\n      compareToProfile: undefined,\n      inheritance: undefined,\n      profile: undefined\n    });\n\n  handleActiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: true, compareToProfile: undefined });\n  };\n\n  handleInactiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: false, compareToProfile: undefined });\n  };\n\n  stopPropagation = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n  };\n\n  getTextValue = () => {\n    const { referencedProfiles, value } = this.props;\n    if (value) {\n      const profile = referencedProfiles[value];\n      const name = (profile && `${profile.name} ${profile.languageName}`) || value;\n      return [name];\n    } else {\n      return [];\n    }\n  };\n\n  getTooltip = (profile: Profile) => {\n    const base = `${profile.name} ${profile.languageName}`;\n    return profile.isBuiltIn ? `${base} (${translate('quality_profiles.built_in')})` : base;\n  };\n\n  renderName = (profile: Profile) => (\n    <>\n      {profile.name}\n      <span className=\"note little-spacer-left\">\n        {profile.languageName}\n        {profile.isBuiltIn && ` (${translate('quality_profiles.built_in')})`}\n      </span>\n    </>\n  );\n\n  renderActivation = (profile: Profile) => {\n    const isCompare = profile.key === this.props.compareToProfile;\n    const activation = isCompare ? true : this.props.activation;\n    return (\n      <>\n        <span\n          aria-checked={activation}\n          className={classNames('js-active', 'facet-toggle', 'facet-toggle-green', {\n            'facet-toggle-active': activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleActiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          active\n        </span>\n        <span\n          aria-checked={!activation}\n          className={classNames('js-inactive', 'facet-toggle', 'facet-toggle-red', {\n            'facet-toggle-active': !activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleInactiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          inactive\n        </span>\n      </>\n    );\n  };\n\n  renderItem = (profile: Profile) => {\n    const active = [this.props.value, this.props.compareToProfile].includes(profile.key);\n\n    return (\n      <FacetItem\n        active={active}\n        className={this.props.compareToProfile === profile.key ? 'compare' : undefined}\n        key={profile.key}\n        name={this.renderName(profile)}\n        onClick={this.handleItemClick}\n        stat={this.renderActivation(profile)}\n        tooltip={this.getTooltip(profile)}\n        value={profile.key}\n      />\n    );\n  };\n\n  render() {\n    const { languages, referencedProfiles } = this.props;\n    let profiles = Object.values(referencedProfiles);\n    if (languages.length > 0) {\n      profiles = profiles.filter(profile => languages.includes(profile.language));\n    }\n    profiles = sortBy(\n      profiles,\n      profile => profile.name.toLowerCase(),\n      profile => profile.languageName\n    );\n\n    return (\n      <FacetBox property=\"profile\">\n        <FacetHeader\n          name={translate('coding_rules.facet.qprofile')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getTextValue()}>\n          <DocTooltip\n            className=\"spacer-left\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rules-quality-profiles.md')}\n          />\n        </FacetHeader>\n\n        {this.props.open && <FacetItemsList>{profiles.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Facet, { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\n\ninterface StateProps {\n  referencedLanguages: { [language: string]: { key: string; name: string } };\n}\n\ninterface Props extends BasicProps, StateProps {\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n}\n\nclass RepositoryFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const { referencedLanguages } = this.props;\n    const language = referencedLanguages[languageKey];\n    return (language && language.name) || languageKey;\n  };\n\n  renderName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return repository ? (\n      <>\n        {repository.name}\n        <span className=\"note little-spacer-left\">{this.getLanguageName(repository.language)}</span>\n      </>\n    ) : (\n      repositoryKey\n    );\n  };\n\n  renderTextName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return (repository && repository.name) || repositoryKey;\n  };\n\n  render() {\n    const { referencedLanguages, referencedRepositories, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"repositories\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  referencedLanguages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(RepositoryFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { RULE_STATUSES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class StatusFacet extends React.PureComponent<BasicProps> {\n  renderName = (status: string) => translate('rules.status', status.toLowerCase());\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        options={RULE_STATUSES}\n        property=\"statuses\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getRuleTags } from '../../../api/rules';\nimport * as theme from '../../../app/theme';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props extends BasicProps {\n  organization: string | undefined;\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    return getRuleTags({ organization: this.props.organization, ps: 50, q: query }).then(tags => ({\n      paging: { pageIndex: 1, pageSize: tags.length, total: tags.length },\n      results: tags\n    }));\n  };\n\n  handleSelect = (option: { value: string }) => {\n    this.props.onChange({ tags: uniq([...this.props.values, option.value]) });\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  renderTag = (tag: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {tag}\n    </>\n  );\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('coding_rules.facet.tags')}\n        fetching={false}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { Omit } from '../../../app/types';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends Omit<BasicProps, 'onChange' | 'values'> {\n  onChange: (changes: { template: boolean | undefined }) => void;\n  value: boolean | undefined;\n}\n\nexport default class TemplateFacet extends React.PureComponent<Props> {\n  handleChange = (changes: { template: string | any[] }) => {\n    const template =\n      // empty array is returned when a user cleared the facet\n      // otherwise `\"true\"`, `\"false\"` or `undefined` can be returned\n      Array.isArray(changes.template) || changes.template === undefined\n        ? undefined\n        : changes.template === 'true';\n    this.props.onChange({ ...changes, template });\n  };\n\n  renderName = (template: string) =>\n    template === 'true'\n      ? translate('coding_rules.filters.template.is_template')\n      : translate('coding_rules.filters.template.is_not_template');\n\n  render() {\n    const { onChange, value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        onChange={this.handleChange}\n        options={['true', 'false']}\n        property=\"template\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value !== undefined ? [String(value)] : []}>\n        <DocTooltip\n          className=\"spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rule-templates.md')}\n        />\n      </Facet>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { RuleType } from '../../../app/types';\n\nexport default class TypeFacet extends React.PureComponent<BasicProps> {\n  renderName = (type: string) => (\n    <>\n      <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n      {translate('issue.type', type)}\n    </>\n  );\n\n  renderTextName = (type: string) => translate('issue.type', type);\n\n  render() {\n    const options = [RuleType.Bug, RuleType.Vulnerability, RuleType.CodeSmell, RuleType.Hotspot];\n\n    return (\n      <Facet\n        {...this.props}\n        options={options}\n        property=\"types\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationSeverityFacet from './ActivationSeverityFacet';\nimport AvailableSinceFacet from './AvailableSinceFacet';\nimport DefaultSeverityFacet from './DefaultSeverityFacet';\nimport InheritanceFacet from './InheritanceFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProfileFacet from './ProfileFacet';\nimport RepositoryFacet from './RepositoryFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TemplateFacet from './TemplateFacet';\nimport TypeFacet from './TypeFacet';\nimport { Facets, Query, FacetKey, OpenFacets } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\n\ninterface Props {\n  facets?: Facets;\n  hideProfileFacet?: boolean;\n  onFacetToggle: (facet: FacetKey) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: OpenFacets;\n  organization: string | undefined;\n  organizationsEnabled?: boolean;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  selectedProfile?: Profile;\n}\n\nexport default function FacetsList(props: Props) {\n  const inheritanceDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.selectedProfile.isInherited;\n\n  const activationSeverityDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.query.activation;\n  return (\n    <>\n      <LanguageFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.languages}\n        stats={props.facets && props.facets.languages}\n        values={props.query.languages}\n      />\n      <TypeFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.types}\n        stats={props.facets && props.facets.types}\n        values={props.query.types}\n      />\n      <TagFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.tags}\n        organization={props.organization}\n        stats={props.facets && props.facets.tags}\n        values={props.query.tags}\n      />\n      <RepositoryFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.repositories}\n        referencedRepositories={props.referencedRepositories}\n        stats={props.facets && props.facets.repositories}\n        values={props.query.repositories}\n      />\n      <DefaultSeverityFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.severities}\n        stats={props.facets && props.facets.severities}\n        values={props.query.severities}\n      />\n      <StatusFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.statuses}\n        stats={props.facets && props.facets.statuses}\n        values={props.query.statuses}\n      />\n      <AvailableSinceFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.availableSince}\n        value={props.query.availableSince}\n      />\n      {!props.organizationsEnabled && (\n        <TemplateFacet\n          onChange={props.onFilterChange}\n          onToggle={props.onFacetToggle}\n          open={!!props.openFacets.template}\n          value={props.query.template}\n        />\n      )}\n      {!props.hideProfileFacet && (\n        <>\n          <ProfileFacet\n            activation={props.query.activation}\n            compareToProfile={props.query.compareToProfile}\n            languages={props.query.languages}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.profile}\n            referencedProfiles={props.referencedProfiles}\n            value={props.query.profile}\n          />\n          <InheritanceFacet\n            disabled={inheritanceDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.inheritance}\n            value={props.query.inheritance}\n          />\n          <ActivationSeverityFacet\n            disabled={activationSeverityDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.activationSeverities}\n            stats={props.facets && props.facets.activationSeverities}\n            values={props.query.activationSeverities}\n          />\n        </>\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Paging } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport PageCounter from '../../../components/common/PageCounter';\nimport ReloadButton from '../../../components/controls/ReloadButton';\n\ninterface Props {\n  loading: boolean;\n  onReload: () => void;\n  paging?: Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: Props) {\n  return (\n    <div className=\"pull-right\">\n      <Shortcuts />\n\n      <DeferredSpinner loading={props.loading}>\n        <ReloadButton onClick={props.onReload} />\n      </DeferredSpinner>\n\n      {props.paging && (\n        <PageCounter\n          className=\"spacer-left flash flash-heavy\"\n          current={props.selectedIndex}\n          label={translate('coding_rules._rules')}\n          total={props.paging.total}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Shortcuts() {\n  return (\n    <span className=\"note big-spacer-right\">\n      <span className=\"big-spacer-right\">\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {translate('coding_rules.to_select_rules')}\n      </span>\n\n      <span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {translate('issues.to_navigate')}\n      </span>\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: { [x: string]: string } = {};\nfor (let i = 0; i < defaultDiacriticsRemovalap.length; i++) {\n  const letters = defaultDiacriticsRemovalap[i].letters.split('');\n  for (let j = 0; j < letters.length; j++) {\n    diacriticsMap[letters[j]] = defaultDiacriticsRemovalap[i].base;\n  }\n}\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport default function removeDiacritics(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { RuleDetails, RuleParameter, RuleType } from '../../../app/types';\nimport Modal from '../../../components/controls/Modal';\nimport { translate } from '../../../helpers/l10n';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { SEVERITIES, RULE_TYPES, RULE_STATUSES } from '../../../helpers/constants';\nimport latinize from '../../../helpers/latinize';\nimport Select from '../../../components/controls/Select';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { createRule, updateRule } from '../../../api/rules';\nimport { csvEscape } from '../../../helpers/csv';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\n\ninterface Props {\n  customRule?: RuleDetails;\n  onClose: () => void;\n  onDone: (newRuleDetails: RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: RuleDetails;\n}\n\ninterface State {\n  description: string;\n  key: string;\n  keyModifiedByUser: boolean;\n  name: string;\n  params: { [p: string]: string };\n  reactivating: boolean;\n  severity: string;\n  status: string;\n  submitting: boolean;\n  type: string;\n}\n\nexport default class CustomRuleFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const params: { [p: string]: string } = {};\n    if (props.customRule && props.customRule.params) {\n      for (const param of props.customRule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n    }\n    this.state = {\n      description: (props.customRule && props.customRule.mdDesc) || '',\n      key: '',\n      keyModifiedByUser: false,\n      name: (props.customRule && props.customRule.name) || '',\n      params,\n      reactivating: false,\n      severity: (props.customRule && props.customRule.severity) || props.templateRule.severity,\n      status: (props.customRule && props.customRule.status) || props.templateRule.status,\n      submitting: false,\n      type: (props.customRule && props.customRule.type) || props.templateRule.type\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  prepareRequest = () => {\n    /* eslint-disable camelcase */\n    const { customRule, organization, templateRule } = this.props;\n    const params = Object.keys(this.state.params)\n      .map(key => `${key}=${csvEscape(this.state.params[key])}`)\n      .join(';');\n    const ruleData = {\n      markdown_description: this.state.description,\n      name: this.state.name,\n      organization,\n      params,\n      severity: this.state.severity,\n      status: this.state.status\n    };\n    return customRule\n      ? updateRule({ ...ruleData, key: customRule.key })\n      : createRule({\n          ...ruleData,\n          custom_key: this.state.key,\n          prevent_reactivation: !this.state.reactivating,\n          template_key: templateRule.key,\n          type: this.state.type\n        });\n    /* eslint-enable camelcase */\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.prepareRequest().then(\n      newRuleDetails => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n          this.props.onDone(newRuleDetails);\n        }\n      },\n      (response: Response) => {\n        if (this.mounted) {\n          this.setState({ reactivating: response.status === 409, submitting: false });\n        }\n      }\n    );\n  };\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value: name } = event.currentTarget;\n    this.setState(state => ({\n      name,\n      key: state.keyModifiedByUser ? state.key : latinize(name).replace(/[^A-Za-z0-9]/g, '_')\n    }));\n  };\n\n  handleKeyChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ key: event.currentTarget.value, keyModifiedByUser: true });\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleTypeChange = ({ value }: { value: string }) => this.setState({ type: value });\n\n  handleSeverityChange = ({ value }: { value: string }) => this.setState({ severity: value });\n\n  handleStatusChange = ({ value }: { value: string }) => this.setState({ status: value });\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  renderNameField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('name')} <em className=\"mandatory\">*</em>\n        </h3>\n      </th>\n      <td>\n        <input\n          autoFocus={true}\n          className=\"coding-rules-name-key\"\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-name\"\n          onChange={this.handleNameChange}\n          required={true}\n          type=\"text\"\n          value={this.state.name}\n        />\n      </td>\n    </tr>\n  );\n\n  renderKeyField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('key')} {!this.props.customRule && <em className=\"mandatory\">*</em>}\n        </h3>\n      </th>\n      <td>\n        {this.props.customRule ? (\n          <span className=\"coding-rules-detail-custom-rule-key\" title={this.props.customRule.key}>\n            {this.props.customRule.key}\n          </span>\n        ) : (\n          <input\n            className=\"coding-rules-name-key\"\n            disabled={this.state.submitting}\n            id=\"coding-rules-custom-rule-creation-key\"\n            onChange={this.handleKeyChange}\n            required={true}\n            type=\"text\"\n            value={this.state.key}\n          />\n        )}\n      </td>\n    </tr>\n  );\n\n  renderDescriptionField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('description')} <em className=\"mandatory\">*</em>\n        </h3>\n      </th>\n      <td>\n        <textarea\n          className=\"coding-rules-markdown-description\"\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-html-description\"\n          onChange={this.handleDescriptionChange}\n          required={true}\n          rows={5}\n          value={this.state.description}\n        />\n        <span className=\"text-right\">\n          <MarkdownTips />\n        </span>\n      </td>\n    </tr>\n  );\n\n  renderTypeOption = ({ value }: { value: RuleType }) => {\n    return <TypeHelper type={value} />;\n  };\n\n  renderTypeField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('type')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleTypeChange}\n          optionRenderer={this.renderTypeOption}\n          options={RULE_TYPES.map(type => ({\n            label: translate('issue.type', type),\n            value: type\n          }))}\n          searchable={false}\n          value={this.state.type}\n          valueRenderer={this.renderTypeOption}\n        />\n      </td>\n    </tr>\n  );\n\n  renderSeverityOption = ({ value }: { value: string }) => <SeverityHelper severity={value} />;\n\n  renderSeverityField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('severity')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleSeverityChange}\n          optionRenderer={this.renderSeverityOption}\n          options={SEVERITIES.map(severity => ({\n            label: translate('severity', severity),\n            value: severity\n          }))}\n          searchable={false}\n          value={this.state.severity}\n          valueRenderer={this.renderSeverityOption}\n        />\n      </td>\n    </tr>\n  );\n\n  renderStatusField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('coding_rules.filters.status')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleStatusChange}\n          options={RULE_STATUSES.map(status => ({\n            label: translate('rules.status', status),\n            value: status\n          }))}\n          searchable={false}\n          value={this.state.status}\n        />\n      </td>\n    </tr>\n  );\n\n  renderParameterField = (param: RuleParameter) => (\n    <tr className=\"property\" key={param.key}>\n      <th className=\"nowrap\">\n        <h3>{param.key}</h3>\n      </th>\n      <td>\n        {param.type === 'TEXT' ? (\n          <textarea\n            className=\"width100\"\n            disabled={this.state.submitting}\n            name={param.key}\n            onChange={this.handleParameterChange}\n            placeholder={param.defaultValue}\n            rows={3}\n            value={this.state.params[param.key] || ''}\n          />\n        ) : (\n          <input\n            className=\"input-super-large\"\n            disabled={this.state.submitting}\n            name={param.key}\n            onChange={this.handleParameterChange}\n            placeholder={param.defaultValue}\n            type=\"text\"\n            value={this.state.params[param.key] || ''}\n          />\n        )}\n        <div className=\"note\" dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.extra && <div className=\"note\">{param.extra}</div>}\n      </td>\n    </tr>\n  );\n\n  renderSubmitButton = () => {\n    if (this.state.reactivating) {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-reactivate\">\n          {translate('coding_rules.reactivate')}\n        </SubmitButton>\n      );\n    } else {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-create\">\n          {translate(this.props.customRule ? 'save' : 'create')}\n        </SubmitButton>\n      );\n    }\n  };\n\n  render() {\n    const { customRule, templateRule } = this.props;\n    const { reactivating, submitting } = this.state;\n    const { params = [] } = templateRule;\n    const header = translate(\n      customRule ? 'coding_rules.update_custom_rule' : 'coding_rules.create_custom_rule'\n    );\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body modal-container\">\n            {reactivating && (\n              <div className=\"alert alert-warning\">{translate('coding_rules.reactivate.help')}</div>\n            )}\n            <table>\n              <tbody>\n                {this.renderNameField()}\n                {this.renderKeyField()}\n                {this.renderDescriptionField()}\n                {/* do not allow to change the type of existing rule */}\n                {!customRule && this.renderTypeField()}\n                {this.renderSeverityField()}\n                {this.renderStatusField()}\n                {params.map(this.renderParameterField)}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            {this.renderSubmitButton()}\n            <ResetButtonLink\n              disabled={submitting}\n              id=\"coding-rules-custom-rule-creation-cancel\"\n              onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleFormModal from './CustomRuleFormModal';\nimport { RuleDetails } from '../../../app/types';\n\ninterface Props {\n  children: (props: { onClick: () => void }) => React.ReactNode;\n  customRule?: RuleDetails;\n  onDone: (newRuleDetails: RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class CustomRuleButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleModalClose = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  handleDone = (newRuleDetails: RuleDetails) => {\n    this.handleModalClose();\n    this.props.onDone(newRuleDetails);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({ onClick: this.handleClick })}\n        {this.state.modal && (\n          <CustomRuleFormModal\n            customRule={this.props.customRule}\n            onClose={this.handleModalClose}\n            onDone={this.handleDone}\n            organization={this.props.organization}\n            templateRule={this.props.templateRule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { sortBy } from 'lodash';\nimport CustomRuleButton from './CustomRuleButton';\nimport { searchRules, deleteRule } from '../../../api/rules';\nimport { Rule, RuleDetails } from '../../../app/types';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  canChange?: boolean;\n  organization: string | undefined;\n  ruleDetails: RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n  rules?: Rule[];\n}\n\nexport default class RuleDetailsCustomRules extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRules();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchRules();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRules = () => {\n    this.setState({ loading: true });\n    searchRules({\n      f: 'name,severity,params',\n      organization: this.props.organization,\n      /* eslint-disable camelcase */\n      template_key: this.props.ruleDetails.key\n      /* eslint-enable camelcase */\n    }).then(\n      ({ rules }) => {\n        if (this.mounted) {\n          this.setState({ rules, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleRuleCreate = (newRuleDetails: RuleDetails) => {\n    if (this.mounted) {\n      this.setState(({ rules = [] }: State) => ({\n        rules: [...rules, newRuleDetails]\n      }));\n    }\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    return deleteRule({ key: ruleKey, organization: this.props.organization }).then(() => {\n      if (this.mounted) {\n        this.setState(({ rules = [] }) => ({\n          rules: rules.filter(rule => rule.key !== ruleKey)\n        }));\n      }\n    });\n  };\n\n  renderRule = (rule: Rule) => (\n    <tr data-rule={rule.key} key={rule.key}>\n      <td className=\"coding-rules-detail-list-name\">\n        <Link to={getRuleUrl(rule.key, this.props.organization)}>{rule.name}</Link>\n      </td>\n\n      <td className=\"coding-rules-detail-list-severity\">\n        <SeverityHelper severity={rule.severity} />\n      </td>\n\n      <td className=\"coding-rules-detail-list-parameters\">\n        {rule.params &&\n          rule.params.filter(param => param.defaultValue).map(param => (\n            <div className=\"coding-rules-detail-list-parameter\" key={param.key}>\n              <span className=\"key\">{param.key}</span>\n              <span className=\"sep\">:&nbsp;</span>\n              <span className=\"value\" title={param.defaultValue}>\n                {param.defaultValue}\n              </span>\n            </div>\n          ))}\n      </td>\n\n      {this.props.canChange && (\n        <td className=\"coding-rules-detail-list-actions\">\n          <ConfirmButton\n            confirmButtonText={translate('delete')}\n            confirmData={rule.key}\n            isDestructive={true}\n            modalBody={translateWithParameters('coding_rules.delete.custom.confirm', rule.name)}\n            modalHeader={translate('coding_rules.delete_rule')}\n            onConfirm={this.handleRuleDelete}>\n            {({ onClick }) => (\n              <Button className=\"button-red js-delete-custom-rule\" onClick={onClick}>\n                {translate('delete')}\n              </Button>\n            )}\n          </ConfirmButton>\n        </td>\n      )}\n    </tr>\n  );\n\n  render() {\n    const { loading, rules = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-custom-rules coding-rule-section\">\n        <div className=\"coding-rules-detail-custom-rules-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.custom_rules')}</h3>\n\n          {this.props.canChange && (\n            <CustomRuleButton\n              onDone={this.handleRuleCreate}\n              organization={this.props.organization}\n              templateRule={this.props.ruleDetails}>\n              {({ onClick }) => (\n                <Button className=\"js-create-custom-rule spacer-left\" onClick={onClick}>\n                  {translate('coding_rules.create')}\n                </Button>\n              )}\n            </CustomRuleButton>\n          )}\n\n          <DeferredSpinner loading={loading}>\n            {rules.length > 0 && (\n              <table className=\"coding-rules-detail-list\" id=\"coding-rules-detail-custom-rules\">\n                <tbody>{sortBy(rules, rule => rule.name).map(this.renderRule)}</tbody>\n              </table>\n            )}\n          </DeferredSpinner>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Link } from 'react-router';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getFacet } from '../../../api/issues';\nimport { RuleDetails, RuleType } from '../../../app/types';\nimport { getIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  organization: string | undefined;\n  ruleDetails: Pick<RuleDetails, 'key' | 'type'>;\n}\n\ninterface Project {\n  count: number;\n  key: string;\n  name: string;\n}\n\ninterface State {\n  loading: boolean;\n  projects?: Project[];\n  total?: number;\n}\n\nexport default class RuleDetailsIssues extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  static contextTypes = {\n    branchesEnabled: PropTypes.bool\n  };\n\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIssues();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails !== this.props.ruleDetails) {\n      this.fetchIssues();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getBaseIssuesQuery = () => ({\n    resolved: 'false',\n    rules: this.props.ruleDetails.key,\n    types:\n      this.props.ruleDetails.type === RuleType.Hotspot\n        ? [RuleType.Vulnerability, RuleType.Hotspot].join()\n        : undefined\n  });\n\n  fetchIssues = () => {\n    this.setState({ loading: true });\n    getFacet(\n      { ...this.getBaseIssuesQuery(), organization: this.props.organization },\n      'projects'\n    ).then(\n      ({ facet, response }) => {\n        if (this.mounted) {\n          const { components = [], paging } = response;\n          const projects = [];\n          for (const item of facet) {\n            const project = components.find(component => component.key === item.val);\n            if (project) {\n              projects.push({ count: item.count, key: project.key, name: project.name });\n            }\n          }\n          this.setState({ projects, loading: false, total: paging.total });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderTotal = () => {\n    const { total } = this.state;\n    if (total === undefined) {\n      return null;\n    }\n    const path = getIssuesUrl(this.getBaseIssuesQuery(), this.props.organization);\n\n    const totalItem = (\n      <span className=\"little-spacer-left\">\n        {'('}\n        <Link to={path}>{total}</Link>\n        {')'}\n      </span>\n    );\n\n    if (!this.context.branchesEnabled) {\n      return totalItem;\n    }\n\n    return (\n      <Tooltip overlay={translate('coding_rules.issues.only_main_branches')}>{totalItem}</Tooltip>\n    );\n  };\n\n  renderProject = (project: Project) => {\n    const path = getIssuesUrl(\n      { ...this.getBaseIssuesQuery(), projects: project.key },\n      this.props.organization\n    );\n    return (\n      <tr key={project.key}>\n        <td className=\"coding-rules-detail-list-name\">{project.name}</td>\n        <td className=\"coding-rules-detail-list-parameters\">\n          <Link to={path}>{formatMeasure(project.count, 'INT')}</Link>\n        </td>\n      </tr>\n    );\n  };\n\n  render() {\n    const { loading, projects = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-issues coding-rule-section\">\n        <div className=\"coding-rule-section-separator\" />\n\n        <DeferredSpinner loading={loading}>\n          <h3 className=\"coding-rules-detail-title\">\n            {translate('coding_rules.issues')}\n            {this.renderTotal()}\n          </h3>\n\n          {projects.length > 0 && (\n            <table className=\"coding-rules-detail-list coding-rules-most-violated-projects\">\n              <tbody>\n                <tr>\n                  <td className=\"coding-rules-detail-list-name\" colSpan={2}>\n                    {translate('coding_rules.most_violating_projects')}\n                  </td>\n                </tr>\n                {projects.map(this.renderProject)}\n              </tbody>\n            </table>\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { RuleParameter } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  params: RuleParameter[];\n}\n\nexport default class RuleDetailsParameters extends React.PureComponent<Props> {\n  renderParameter = (param: RuleParameter) => (\n    <tr className=\"coding-rules-detail-parameter\" key={param.key}>\n      <td className=\"coding-rules-detail-parameter-name\">{param.key}</td>\n      <td className=\"coding-rules-detail-parameter-description\">\n        <p dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.defaultValue !== undefined && (\n          <div className=\"note spacer-top\">\n            {translate('coding_rules.parameters.default_value')}\n            <br />\n            <span className=\"coding-rules-detail-parameter-value\">{param.defaultValue}</span>\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n\n  render() {\n    return (\n      <div className=\"js-rule-parameters\">\n        <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.parameters')}</h3>\n        <table className=\"coding-rules-detail-parameters\">\n          <tbody>{this.props.params.map(this.renderParameter)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { activateRule, Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { Rule, RuleDetails, RuleActivation } from '../../../app/types';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\nimport { sortProfiles } from '../../quality-profiles/utils';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\n\ninterface Props {\n  activation?: RuleActivation;\n  modalHeader: string;\n  onClose: () => void;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: Rule | RuleDetails;\n  updateMode?: boolean;\n}\n\ninterface State {\n  params: { [p: string]: string };\n  profile: string;\n  severity: string;\n  submitting: boolean;\n}\n\nexport default class ActivationFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const profilesWithDepth = this.getQualityProfilesWithDepth(props);\n    this.state = {\n      params: this.getParams(props),\n      profile: profilesWithDepth.length > 0 ? profilesWithDepth[0].key : '',\n      severity: props.activation ? props.activation.severity : props.rule.severity,\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getParams = ({ activation, rule } = this.props) => {\n    const params: { [p: string]: string } = {};\n    if (rule && rule.params) {\n      for (const param of rule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n      if (activation && activation.params) {\n        for (const param of activation.params) {\n          params[param.key] = param.value;\n        }\n      }\n    }\n    return params;\n  };\n\n  // Choose QP which a user can administrate, which are the same language and which are not built-in\n  getQualityProfilesWithDepth = ({ profiles } = this.props) => {\n    return sortProfiles(\n      profiles.filter(\n        profile =>\n          !profile.isBuiltIn &&\n          profile.actions &&\n          profile.actions.edit &&\n          profile.language === this.props.rule.lang\n      )\n    ).map(profile => ({\n      ...profile,\n      // Decrease depth by 1, so the top level starts at 0\n      depth: profile.depth - 1\n    }));\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    const data = {\n      key: this.state.profile,\n      organization: this.props.organization,\n      params: this.state.params,\n      rule: this.props.rule.key,\n      severity: this.state.severity\n    };\n    activateRule(data)\n      .then(() => this.props.onDone(data.severity))\n      .then(\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n            this.props.onClose();\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n  };\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  handleProfileChange = ({ value }: { value: string }) => {\n    this.setState({ profile: value });\n  };\n\n  handleSeverityChange = ({ value }: { value: string }) => {\n    this.setState({ severity: value });\n  };\n\n  renderSeverityOption = ({ value }: { value: string }) => {\n    return <SeverityHelper severity={value} />;\n  };\n\n  render() {\n    const { activation, rule } = this.props;\n    const { profile, severity, submitting } = this.state;\n    const { params = [] } = rule;\n    const profilesWithDepth = this.getQualityProfilesWithDepth();\n    const isCustomRule = !!(rule as RuleDetails).templateKey;\n    const activeInAllProfiles = profilesWithDepth.length <= 0;\n    const isUpdateMode = !!activation;\n\n    return (\n      <Modal contentLabel={this.props.modalHeader} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{this.props.modalHeader}</h2>\n          </div>\n\n          <div className=\"modal-body\">\n            {!isUpdateMode &&\n              activeInAllProfiles && (\n                <div className=\"alert alert-info\">\n                  {translate('coding_rules.active_in_all_profiles')}\n                </div>\n              )}\n\n            <div className=\"modal-field\">\n              <label>{translate('coding_rules.quality_profile')}</label>\n              <Select\n                className=\"js-profile\"\n                clearable={false}\n                disabled={submitting || profilesWithDepth.length === 1}\n                onChange={this.handleProfileChange}\n                options={profilesWithDepth.map(profile => ({\n                  label: '   '.repeat(profile.depth) + profile.name,\n                  value: profile.key\n                }))}\n                value={profile}\n              />\n            </div>\n            <div className=\"modal-field\">\n              <label>{translate('severity')}</label>\n              <Select\n                className=\"js-severity\"\n                clearable={false}\n                disabled={submitting}\n                onChange={this.handleSeverityChange}\n                optionRenderer={this.renderSeverityOption}\n                options={SEVERITIES.map(severity => ({\n                  label: translate('severity', severity),\n                  value: severity\n                }))}\n                searchable={false}\n                value={severity}\n                valueRenderer={this.renderSeverityOption}\n              />\n            </div>\n            {isCustomRule ? (\n              <div className=\"modal-field\">\n                <p className=\"note\">{translate('coding_rules.custom_rule.activation_notice')}</p>\n              </div>\n            ) : (\n              params.map(param => (\n                <div className=\"modal-field\" key={param.key}>\n                  <label title={param.key}>{param.key}</label>\n                  {param.type === 'TEXT' ? (\n                    <textarea\n                      className=\"width100\"\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      rows={3}\n                      value={this.state.params[param.key] || ''}\n                    />\n                  ) : (\n                    <input\n                      className=\"input-super-large\"\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      type=\"text\"\n                      value={this.state.params[param.key] || ''}\n                    />\n                  )}\n                  <div\n                    className=\"note\"\n                    dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n                  />\n                  {param.extra && <div className=\"note\">{param.extra}</div>}\n                </div>\n              ))\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={submitting || activeInAllProfiles}>\n              {isUpdateMode ? translate('save') : translate('coding_rules.activate')}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationFormModal from './ActivationFormModal';\nimport { Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { Rule, RuleDetails, RuleActivation } from '../../../app/types';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface Props {\n  activation?: RuleActivation;\n  buttonText: string;\n  className?: string;\n  modalHeader: string;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: Rule | RuleDetails;\n  updateMode?: boolean;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ActivationButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Button\n          className={this.props.className}\n          id=\"coding-rules-quality-profile-activate\"\n          onClick={this.handleButtonClick}>\n          {this.props.buttonText}\n        </Button>\n\n        {this.state.modal && (\n          <ActivationFormModal\n            activation={this.props.activation}\n            modalHeader={this.props.modalHeader}\n            onClose={this.handleCloseModal}\n            onDone={this.props.onDone}\n            organization={this.props.organization}\n            profiles={this.props.profiles}\n            rule={this.props.rule}\n            updateMode={this.props.updateMode}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as theme from '../../../app/theme';\nimport { RuleInheritance } from '../../../app/types';\n\ninterface Props {\n  className?: string;\n  inheritance: RuleInheritance.Inherited | RuleInheritance.Overridden;\n}\n\nexport default function RuleInheritanceIcon({ className, inheritance, ...other }: Props) {\n  const fill = inheritance === RuleInheritance.Overridden ? theme.red : theme.baseFontColor;\n\n  return (\n    <svg\n      className={className}\n      height={16}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={16}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      {...other}>\n      <path\n        d=\"M6.25 12.5a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm0-9a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm5 1a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm.75 0a1.5 1.5 0 0 1-.75 1.297c-.023 2.82-2.023 3.445-3.352 3.867-1.242.39-1.648.578-1.648 1.336v.203A1.5 1.5 0 1 1 4 12.5a1.5 1.5 0 0 1 .75-1.297V4.797A1.5 1.5 0 1 1 7 3.5a1.5 1.5 0 0 1-.75 1.297V8.68c.398-.196.82-.328 1.203-.446 1.453-.46 2.281-.804 2.297-2.437A1.5 1.5 0 1 1 12 4.5z\"\n        style={{ fill, fillRule: 'nonzero' }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { filter } from 'lodash';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport { Profile, deactivateRule, activateRule } from '../../../api/quality-profiles';\nimport { RuleActivation, RuleDetails, RuleInheritance } from '../../../app/types';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport BuiltInQualityProfileBadge from '../../quality-profiles/components/BuiltInQualityProfileBadge';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { getQualityProfileUrl } from '../../../helpers/urls';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  activations: RuleActivation[] | undefined;\n  canWrite: boolean | undefined;\n  onActivate: () => Promise<void>;\n  onDeactivate: () => Promise<void>;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  ruleDetails: RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RuleDetailsProfiles extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchProfiles();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchProfiles();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchProfiles = () => this.setState({ loading: true });\n\n  handleActivate = () => this.props.onActivate();\n\n  handleDeactivate = (key?: string) => {\n    if (key) {\n      deactivateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key\n      }).then(this.props.onDeactivate, () => {});\n    }\n  };\n\n  handleRevert = (key?: string) => {\n    if (key) {\n      activateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key,\n        reset: true\n      }).then(this.props.onActivate, () => {});\n    }\n  };\n\n  renderInheritedProfile = (activation: RuleActivation, profile: Profile) => {\n    if (!profile.parentName) {\n      return null;\n    }\n    const profilePath = getQualityProfileUrl(\n      profile.parentName,\n      profile.language,\n      this.props.organization\n    );\n    return (\n      <div className=\"coding-rules-detail-quality-profile-inheritance\">\n        {(activation.inherit === RuleInheritance.Overridden ||\n          activation.inherit === RuleInheritance.Inherited) && (\n          <>\n            <RuleInheritanceIcon className=\"text-middle\" inheritance={activation.inherit} />\n            <Link className=\"link-base-color little-spacer-left text-middle\" to={profilePath}>\n              {profile.parentName}\n            </Link>\n          </>\n        )}\n      </div>\n    );\n  };\n\n  renderSeverity = (activation: RuleActivation, parentActivation?: RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-severity\">\n      <Tooltip overlay={translate('coding_rules.activation_severity')}>\n        <span>\n          <SeverityHelper className=\"display-inline-flex-center\" severity={activation.severity} />\n        </span>\n      </Tooltip>\n      {parentActivation !== undefined &&\n        activation.severity !== parentActivation.severity && (\n          <div className=\"coding-rules-detail-quality-profile-inheritance\">\n            {translate('coding_rules.original')} {translate('severity', parentActivation.severity)}\n          </div>\n        )}\n    </td>\n  );\n\n  renderParameter = (param: { key: string; value: string }, parentActivation?: RuleActivation) => {\n    const originalParam =\n      parentActivation && parentActivation.params.find(p => p.key === param.key);\n    const originalValue = originalParam && originalParam.value;\n\n    return (\n      <div className=\"coding-rules-detail-quality-profile-parameter\" key={param.key}>\n        <span className=\"key\">{param.key}</span>\n        <span className=\"sep\">{': '}</span>\n        <span className=\"value\" title={param.value}>\n          {param.value}\n        </span>\n        {parentActivation &&\n          param.value !== originalValue && (\n            <div className=\"coding-rules-detail-quality-profile-inheritance\">\n              {translate('coding_rules.original')} <span className=\"value\">{originalValue}</span>\n            </div>\n          )}\n      </div>\n    );\n  };\n\n  renderParameters = (activation: RuleActivation, parentActivation?: RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-parameters\">\n      {activation.params.map(param => this.renderParameter(param, parentActivation))}\n    </td>\n  );\n\n  renderActions = (activation: RuleActivation, profile: Profile) => {\n    const canEdit = profile.actions && profile.actions.edit && !profile.isBuiltIn;\n    const { ruleDetails } = this.props;\n    const hasParent = activation.inherit !== RuleInheritance.NotInherited && profile.parentKey;\n    return (\n      <td className=\"coding-rules-detail-quality-profile-actions\">\n        {canEdit && (\n          <>\n            {!ruleDetails.isTemplate && (\n              <ActivationButton\n                activation={activation}\n                buttonText={translate('change_verb')}\n                className=\"coding-rules-detail-quality-profile-change\"\n                modalHeader={translate('coding_rules.change_details')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[profile]}\n                rule={ruleDetails}\n              />\n            )}\n            {hasParent ? (\n              activation.inherit === RuleInheritance.Overridden &&\n              profile.parentName && (\n                <ConfirmButton\n                  confirmButtonText={translate('yes')}\n                  confirmData={profile.key}\n                  modalBody={translateWithParameters(\n                    'coding_rules.revert_to_parent_definition.confirm',\n                    profile.parentName\n                  )}\n                  modalHeader={translate('coding_rules.revert_to_parent_definition')}\n                  onConfirm={this.handleRevert}>\n                  {({ onClick }) => (\n                    <Button\n                      className=\"coding-rules-detail-quality-profile-revert button-red spacer-left\"\n                      onClick={onClick}>\n                      {translate('coding_rules.revert_to_parent_definition')}\n                    </Button>\n                  )}\n                </ConfirmButton>\n              )\n            ) : (\n              <ConfirmButton\n                confirmButtonText={translate('yes')}\n                confirmData={profile.key}\n                modalBody={translate('coding_rules.deactivate.confirm')}\n                modalHeader={translate('coding_rules.deactivate')}\n                onConfirm={this.handleDeactivate}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"coding-rules-detail-quality-profile-deactivate button-red spacer-left\"\n                    onClick={onClick}>\n                    {translate('coding_rules.deactivate')}\n                  </Button>\n                )}\n              </ConfirmButton>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActivation = (activation: RuleActivation) => {\n    const { activations = [], ruleDetails } = this.props;\n    const profile = this.props.referencedProfiles[activation.qProfile];\n    if (!profile) {\n      return null;\n    }\n\n    const parentActivation = activations.find(x => x.qProfile === profile.parentKey);\n\n    return (\n      <tr data-profile={profile.key} key={profile.key}>\n        <td className=\"coding-rules-detail-quality-profile-name\">\n          <Link to={getQualityProfileUrl(profile.name, profile.language, this.props.organization)}>\n            {profile.name}\n          </Link>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n          {this.renderInheritedProfile(activation, profile)}\n        </td>\n\n        {this.renderSeverity(activation, parentActivation)}\n        {!ruleDetails.templateKey && this.renderParameters(activation, parentActivation)}\n        {this.renderActions(activation, profile)}\n      </tr>\n    );\n  };\n\n  render() {\n    const { activations = [], referencedProfiles, ruleDetails } = this.props;\n    const canActivate = Object.values(referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit && profile.language === ruleDetails.lang)\n    );\n\n    return (\n      <div className=\"js-rule-profiles coding-rule-section\">\n        <div className=\"coding-rules-detail-quality-profiles-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">\n            <InstanceMessage message={translate('coding_rules.quality_profiles')} />\n          </h3>\n\n          {canActivate && (\n            <ActivationButton\n              buttonText={translate('coding_rules.activate')}\n              className=\"coding-rules-quality-profile-activate spacer-left\"\n              modalHeader={translate('coding_rules.activate_in_quality_profile')}\n              onDone={this.handleActivate}\n              organization={this.props.organization}\n              profiles={filter(\n                this.props.referencedProfiles,\n                profile => !activations.find(activation => activation.qProfile === profile.key)\n              )}\n              rule={ruleDetails}\n            />\n          )}\n\n          {activations.length > 0 && (\n            <table\n              className=\"coding-rules-detail-quality-profiles width100\"\n              id=\"coding-rules-detail-quality-profiles\">\n              <tbody>{activations.map(this.renderActivation)}</tbody>\n            </table>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleButton from './CustomRuleButton';\nimport RuleDetailsCustomRules from './RuleDetailsCustomRules';\nimport RuleDetailsDescription from './RuleDetailsDescription';\nimport RuleDetailsIssues from './RuleDetailsIssues';\nimport RuleDetailsMeta from './RuleDetailsMeta';\nimport RuleDetailsParameters from './RuleDetailsParameters';\nimport RuleDetailsProfiles from './RuleDetailsProfiles';\nimport { Query, Activation } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport { getRuleDetails, deleteRule, updateRule } from '../../../api/rules';\nimport { RuleActivation, RuleDetails as IRuleDetails } from '../../../app/types';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  allowCustomRules?: boolean;\n  canWrite?: boolean;\n  hideQualityProfiles?: boolean;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onDelete: (rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  ruleKey: string;\n  selectedProfile?: Profile;\n}\n\ninterface State {\n  actives?: RuleActivation[];\n  loading: boolean;\n  ruleDetails?: IRuleDetails;\n}\n\nexport default class RuleDetails extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: true });\n    this.fetchRuleDetails();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleKey !== this.props.ruleKey) {\n      this.setState({ loading: true });\n      this.fetchRuleDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleDetails = () =>\n    getRuleDetails({\n      actives: true,\n      key: this.props.ruleKey,\n      organization: this.props.organization\n    }).then(\n      ({ actives, rule }) => {\n        if (this.mounted) {\n          this.setState({ actives, loading: false, ruleDetails: rule });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n\n  handleRuleChange = (ruleDetails: IRuleDetails) => {\n    if (this.mounted) {\n      this.setState({ ruleDetails });\n    }\n  };\n\n  handleTagsChange = (tags: string[]) => {\n    // optimistic update\n    const oldTags = this.state.ruleDetails && this.state.ruleDetails.tags;\n    this.setState(\n      state => (state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags } } : null)\n    );\n    updateRule({\n      key: this.props.ruleKey,\n      organization: this.props.organization,\n      tags: tags.join()\n    }).catch(() => {\n      if (this.mounted) {\n        this.setState(\n          state =>\n            state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags: oldTags } } : null\n        );\n      }\n    });\n  };\n\n  handleActivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        const active = this.state.actives.find(active => active.qProfile === selectedProfile.key);\n        if (active) {\n          this.props.onActivate(selectedProfile.key, ruleKey, active);\n        }\n      }\n    });\n\n  handleDeactivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        if (!this.state.actives.find(active => active.qProfile === selectedProfile.key)) {\n          this.props.onDeactivate(selectedProfile.key, ruleKey);\n        }\n      }\n    });\n\n  handleDelete = () =>\n    deleteRule({ key: this.props.ruleKey, organization: this.props.organization }).then(() =>\n      this.props.onDelete(this.props.ruleKey)\n    );\n\n  render() {\n    const { ruleDetails } = this.state;\n\n    if (!ruleDetails) {\n      return <div className=\"coding-rule-details\" />;\n    }\n\n    const {\n      allowCustomRules,\n      canWrite,\n      hideQualityProfiles,\n      organization,\n      referencedProfiles\n    } = this.props;\n    const { params = [] } = ruleDetails;\n\n    const isCustom = !!ruleDetails.templateKey;\n    const isEditable = canWrite && !!this.props.allowCustomRules && isCustom;\n\n    return (\n      <div className=\"coding-rule-details\">\n        <DeferredSpinner loading={this.state.loading}>\n          <RuleDetailsMeta\n            canWrite={canWrite}\n            onFilterChange={this.props.onFilterChange}\n            onTagsChange={this.handleTagsChange}\n            organization={organization}\n            referencedRepositories={this.props.referencedRepositories}\n            ruleDetails={ruleDetails}\n          />\n\n          <RuleDetailsDescription\n            canWrite={canWrite}\n            onChange={this.handleRuleChange}\n            organization={organization}\n            ruleDetails={ruleDetails}\n          />\n\n          {params.length > 0 && <RuleDetailsParameters params={params} />}\n\n          {isEditable && (\n            <div className=\"coding-rules-detail-description display-flex-center\">\n              {/* `templateRule` is used to get rule meta data, `customRule` is used to get parameter values */}\n              {/* it's expected to pass the same rule to both parameters */}\n              <CustomRuleButton\n                customRule={ruleDetails}\n                onDone={this.handleRuleChange}\n                organization={organization}\n                templateRule={ruleDetails}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"js-edit-custom\"\n                    id=\"coding-rules-detail-custom-rule-change\"\n                    onClick={onClick}>\n                    {translate('edit')}\n                  </Button>\n                )}\n              </CustomRuleButton>\n              <ConfirmButton\n                confirmButtonText={translate('delete')}\n                isDestructive={true}\n                modalBody={translateWithParameters(\n                  'coding_rules.delete.custom.confirm',\n                  ruleDetails.name\n                )}\n                modalHeader={translate('coding_rules.delete_rule')}\n                onConfirm={this.handleDelete}>\n                {({ onClick }) => (\n                  <>\n                    <Button\n                      className=\"button-red spacer-left js-delete\"\n                      id=\"coding-rules-detail-rule-delete\"\n                      onClick={onClick}>\n                      {translate('delete')}\n                    </Button>\n                    <DocTooltip\n                      className=\"spacer-left\"\n                      doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rule-removal.md')}\n                    />\n                  </>\n                )}\n              </ConfirmButton>\n            </div>\n          )}\n\n          {ruleDetails.isTemplate && (\n            <RuleDetailsCustomRules\n              canChange={allowCustomRules && canWrite}\n              organization={organization}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate &&\n            !hideQualityProfiles && (\n              <RuleDetailsProfiles\n                activations={this.state.actives}\n                canWrite={canWrite}\n                onActivate={this.handleActivate}\n                onDeactivate={this.handleDeactivate}\n                organization={organization}\n                referencedProfiles={referencedProfiles}\n                ruleDetails={ruleDetails}\n              />\n            )}\n\n          {!ruleDetails.isTemplate && (\n            <RuleDetailsIssues organization={organization} ruleDetails={ruleDetails} />\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport { Activation, Query } from '../query';\nimport { Profile, deactivateRule } from '../../../api/quality-profiles';\nimport { Rule, RuleInheritance } from '../../../app/types';\nimport { Button } from '../../../components/ui/buttons';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport SeverityIcon from '../../../components/icons-components/SeverityIcon';\nimport TagsList from '../../../components/tags/TagsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  activation?: Activation;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onOpen: (ruleKey: string) => void;\n  organization: string | undefined;\n  rule: Rule;\n  selected: boolean;\n  selectedProfile?: Profile;\n}\n\nexport default class RuleListItem extends React.PureComponent<Props> {\n  handleDeactivate = () => {\n    if (this.props.selectedProfile) {\n      const data = {\n        key: this.props.selectedProfile.key,\n        organization: this.props.organization,\n        rule: this.props.rule.key\n      };\n      deactivateRule(data).then(() => this.props.onDeactivate(data.key, data.rule), () => {});\n    }\n  };\n\n  handleActivate = (severity: string) => {\n    if (this.props.selectedProfile) {\n      this.props.onActivate(this.props.selectedProfile.key, this.props.rule.key, {\n        severity,\n        inherit: RuleInheritance.NotInherited\n      });\n    }\n    return Promise.resolve();\n  };\n\n  handleNameClick = (event: React.MouseEvent) => {\n    // cmd(ctrl) + click should open a rule permalink in a new tab\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n    if (isModifiedEvent || !isLeftClickEvent) {\n      return;\n    }\n\n    event.preventDefault();\n    this.props.onOpen(this.props.rule.key);\n  };\n\n  renderActivation = () => {\n    const { activation, selectedProfile } = this.props;\n    if (!activation) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation\">\n        <SeverityIcon severity={activation.severity} />\n        {selectedProfile &&\n          selectedProfile.parentName && (\n            <>\n              {activation.inherit === RuleInheritance.Overridden && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.overrides',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n              {activation.inherit === RuleInheritance.Inherited && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.inherits',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n            </>\n          )}\n      </td>\n    );\n  };\n\n  renderActions = () => {\n    const { activation, rule, selectedProfile } = this.props;\n    if (!selectedProfile) {\n      return null;\n    }\n\n    const canEdit = selectedProfile.actions && selectedProfile.actions.edit;\n    if (!canEdit || selectedProfile.isBuiltIn) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation-actions\">\n        {activation\n          ? this.renderDeactivateButton(activation.inherit)\n          : !rule.isTemplate && (\n              <ActivationButton\n                buttonText={translate('coding_rules.activate')}\n                className=\"coding-rules-detail-quality-profile-activate\"\n                modalHeader={translate('coding_rules.activate_in_quality_profile')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[selectedProfile]}\n                rule={rule}\n              />\n            )}\n      </td>\n    );\n  };\n\n  renderDeactivateButton = (inherit: string) => {\n    return inherit === 'NONE' ? (\n      <ConfirmButton\n        confirmButtonText={translate('yes')}\n        modalBody={translate('coding_rules.deactivate.confirm')}\n        modalHeader={translate('coding_rules.deactivate')}\n        onConfirm={this.handleDeactivate}>\n        {({ onClick }) => (\n          <Button\n            className=\"coding-rules-detail-quality-profile-deactivate button-red\"\n            onClick={onClick}>\n            {translate('coding_rules.deactivate')}\n          </Button>\n        )}\n      </ConfirmButton>\n    ) : (\n      <Tooltip overlay={translate('coding_rules.can_not_deactivate')}>\n        <Button className=\"coding-rules-detail-quality-profile-deactivate button-red disabled\">\n          {translate('coding_rules.deactivate')}\n        </Button>\n      </Tooltip>\n    );\n  };\n\n  render() {\n    const { rule, selected } = this.props;\n    const allTags = [...(rule.tags || []), ...(rule.sysTags || [])];\n    return (\n      <div className={classNames('coding-rule', { selected })} data-rule={rule.key}>\n        <table className=\"coding-rule-table\">\n          <tbody>\n            <tr>\n              {this.renderActivation()}\n\n              <td>\n                <div className=\"coding-rule-title\">\n                  <Link\n                    className=\"link-no-underline\"\n                    onClick={this.handleNameClick}\n                    to={getRuleUrl(rule.key, this.props.organization)}>\n                    {rule.name}\n                  </Link>\n                  {rule.isTemplate && (\n                    <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n                      <span className=\"outline-badge spacer-left\">\n                        {translate('coding_rules.rule_template')}\n                      </span>\n                    </Tooltip>\n                  )}\n                </div>\n              </td>\n\n              <td className=\"coding-rule-table-meta-cell\">\n                <div className=\"display-flex-center coding-rule-meta\">\n                  {rule.status !== 'READY' && (\n                    <span className=\"spacer-left badge badge-normal-size badge-tiny-height badge-danger-light\">\n                      {translate('rules.status', rule.status)}\n                    </span>\n                  )}\n                  <span className=\"spacer-left note\">{rule.langName}</span>\n                  <Tooltip overlay={translate('coding_rules.type.tooltip', rule.type)}>\n                    <span className=\"display-inline-flex-center spacer-left note\">\n                      <IssueTypeIcon className=\"little-spacer-right\" query={rule.type} />\n                      {translate('issue.type', rule.type)}\n                    </span>\n                  </Tooltip>\n                  {allTags.length > 0 && (\n                    <TagsList allowUpdate={false} className=\"note spacer-left\" tags={allTags} />\n                  )}\n                  <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={rule} />\n                </div>\n              </td>\n\n              {this.renderActions()}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport * as PropTypes from 'prop-types';\nimport * as key from 'keymaster';\nimport { keyBy } from 'lodash';\nimport BulkChange from './BulkChange';\nimport FacetsList from './FacetsList';\nimport PageActions from './PageActions';\nimport RuleDetails from './RuleDetails';\nimport RuleListItem from './RuleListItem';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  Facets,\n  Query,\n  parseQuery,\n  serializeQuery,\n  areQueriesEqual,\n  shouldRequestFacet,\n  FacetKey,\n  OpenFacets,\n  getServerFacet,\n  getAppFacet,\n  Actives,\n  Activation,\n  getOpen\n} from '../query';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { searchRules, getRulesApp } from '../../../api/rules';\nimport { searchQualityProfiles, Profile } from '../../../api/quality-profiles';\nimport {\n  getCurrentUser,\n  getLanguages,\n  getMyOrganizations,\n  Store\n} from '../../../store/rootReducer';\nimport { translate } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport {\n  CurrentUser,\n  Languages,\n  Paging,\n  Organization,\n  Rule,\n  RuleActivation\n} from '../../../app/types';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\nimport { hasPrivateAccess } from '../../../helpers/organizations';\n\nconst PAGE_SIZE = 100;\nconst LIMIT_BEFORE_LOAD_MORE = 5;\n\ninterface StateToProps {\n  currentUser: CurrentUser;\n  languages: Languages;\n  userOrganizations: Organization[];\n}\n\ninterface OwnProps extends WithRouterProps {\n  organization: Organization | undefined;\n}\n\ntype Props = OwnProps & StateToProps;\n\ninterface State {\n  actives?: Actives;\n  canWrite?: boolean;\n  facets?: Facets;\n  loading: boolean;\n  openFacets: OpenFacets;\n  openRule?: Rule;\n  paging?: Paging;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  rules: Rule[];\n  selected?: string;\n}\n\n// TODO redirect to default organization's rules page\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  static contextTypes = {\n    organizationsEnabled: PropTypes.bool\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      openFacets: { languages: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedProfiles: {},\n      referencedRepositories: {},\n      rules: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    document.body.classList.add('white-page');\n    if (document.documentElement) {\n      document.documentElement.classList.add('white-page');\n    }\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.add('page-footer-with-sidebar');\n    }\n    this.attachShortcuts();\n    this.fetchInitialData();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    this.setState(({ rules, selected }) => {\n      const openRule = this.getOpenRule(nextProps, rules);\n      return {\n        openRule,\n        query: parseQuery(nextProps.location.query),\n        selected: openRule ? openRule.key : selected\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (!areQueriesEqual(prevProps.location.query, this.props.location.query)) {\n      this.fetchFirstRules();\n    }\n    if (\n      !this.state.openRule &&\n      (prevState.selected !== this.state.selected || prevState.openRule)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedRule();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    document.body.classList.remove('white-page');\n    if (document.documentElement) {\n      document.documentElement.classList.remove('white-page');\n    }\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.remove('page-footer-with-sidebar');\n    }\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    key.setScope('coding-rules');\n    key('up', 'coding-rules', () => {\n      this.selectPreviousRule();\n      return false;\n    });\n    key('down', 'coding-rules', () => {\n      this.selectNextRule();\n      return false;\n    });\n    key('right', 'coding-rules', () => {\n      this.openSelectedRule();\n      return false;\n    });\n    key('left', 'coding-rules', () => {\n      this.closeRule();\n      return false;\n    });\n  };\n\n  detachShortcuts = () => key.deleteScope('coding-rules');\n\n  getOpenRule = (props: Props, rules: Rule[]) => {\n    const open = getOpen(props.location.query);\n    return open && rules.find(rule => rule.key === open);\n  };\n\n  getFacetsToFetch = () =>\n    Object.keys(this.state.openFacets)\n      .filter((facet: FacetKey) => this.state.openFacets[facet])\n      .filter((facet: FacetKey) => shouldRequestFacet(facet))\n      .map((facet: FacetKey) => getServerFacet(facet));\n\n  getFieldsToFetch = () => {\n    const fields = [\n      'isTemplate',\n      'name',\n      'lang',\n      'langName',\n      'severity',\n      'status',\n      'sysTags',\n      'tags',\n      'templateKey'\n    ];\n    if (this.state.query.profile) {\n      fields.push('actives', 'params');\n    }\n    return fields;\n  };\n\n  getSearchParameters = () => ({\n    f: this.getFieldsToFetch().join(),\n    facets: this.getFacetsToFetch().join(),\n    organization: this.props.organization && this.props.organization.key,\n    ps: PAGE_SIZE,\n    s: 'name',\n    ...serializeQuery(this.state.query)\n  });\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  fetchInitialData = () => {\n    this.setState({ loading: true });\n    const organization = this.props.organization && this.props.organization.key;\n    Promise.all([getRulesApp({ organization }), this.fetchQualityProfiles()]).then(\n      ([{ canWrite, repositories }, { profiles }]) => {\n        this.setState({\n          canWrite,\n          referencedProfiles: keyBy(profiles, 'key'),\n          referencedRepositories: keyBy(repositories, 'key')\n        });\n        this.fetchFirstRules();\n      },\n      this.stopLoading\n    );\n  };\n\n  makeFetchRequest = (query?: RawQuery) =>\n    searchRules({ ...this.getSearchParameters(), ...query }).then(\n      ({ actives: rawActives, facets: rawFacets, p, ps, rules, total }) => {\n        const actives = rawActives && parseActives(rawActives);\n        const facets = rawFacets && parseFacets(rawFacets);\n        const paging = { pageIndex: p, pageSize: ps, total };\n        return { actives, facets, paging, rules };\n      }\n    );\n\n  fetchFirstRules = (query?: RawQuery) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest(query).then(({ actives, facets, paging, rules }) => {\n      if (this.mounted) {\n        const openRule = this.getOpenRule(this.props, rules);\n        const selected = rules.length > 0 ? (openRule && openRule.key) || rules[0].key : undefined;\n        this.setState({ actives, facets, loading: false, openRule, paging, rules, selected });\n      }\n    }, this.stopLoading);\n  };\n\n  fetchMoreRules = () => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      const nextPage = paging.pageIndex + 1;\n      this.makeFetchRequest({ p: nextPage, facets: undefined }).then(\n        ({ actives, paging, rules }) => {\n          if (this.mounted) {\n            this.setState((state: State) => ({\n              actives: { ...state.actives, ...actives },\n              loading: false,\n              paging,\n              rules: [...state.rules, ...rules]\n            }));\n          }\n        },\n        this.stopLoading\n      );\n    }\n  };\n\n  fetchFacet = (facet: FacetKey) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest({ ps: 1, facets: getServerFacet(facet) }).then(({ facets }) => {\n      if (this.mounted) {\n        this.setState(state => ({ facets: { ...state.facets, ...facets }, loading: false }));\n      }\n    }, this.stopLoading);\n  };\n\n  fetchQualityProfiles = () => {\n    const { currentUser, organization, userOrganizations } = this.props;\n    if (hasPrivateAccess(currentUser, organization, userOrganizations)) {\n      return searchQualityProfiles({ organization: organization && organization.key });\n    }\n    return { profiles: [] };\n  };\n\n  getSelectedIndex = ({ selected, rules } = this.state) => {\n    const index = rules.findIndex(rule => rule.key === selected);\n    return index !== -1 ? index : undefined;\n  };\n\n  selectNextRule = () => {\n    const { rules, loading, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined) {\n      if (\n        selectedIndex > rules.length - LIMIT_BEFORE_LOAD_MORE &&\n        !loading &&\n        paging &&\n        rules.length < paging.total\n      ) {\n        this.fetchMoreRules();\n      }\n      if (rules && selectedIndex < rules.length - 1) {\n        if (this.state.openRule) {\n          this.openRule(rules[selectedIndex + 1].key);\n        } else {\n          this.setState({ selected: rules[selectedIndex + 1].key });\n        }\n      }\n    }\n  };\n\n  selectPreviousRule = () => {\n    const { rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (rules && selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openRule) {\n        this.openRule(rules[selectedIndex - 1].key);\n      } else {\n        this.setState({ selected: rules[selectedIndex - 1].key });\n      }\n    }\n  };\n\n  getRulePath = (rule: string) => ({\n    pathname: this.props.location.pathname,\n    query: { ...serializeQuery(this.state.query), open: rule }\n  });\n\n  openRule = (rule: string) => {\n    const path = this.getRulePath(rule);\n    if (this.state.openRule) {\n      this.props.router.replace(path);\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  openSelectedRule = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openRule(selected);\n    }\n  };\n\n  closeRule = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        open: undefined\n      }\n    });\n    this.scrollToSelectedRule(false);\n  };\n\n  scrollToSelectedRule = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-rule=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 150, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  getRuleActivation = (rule: string) => {\n    const { actives, query } = this.state;\n    if (actives && actives[rule] && query.profile) {\n      return actives[rule][query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  getSelectedProfile = () => {\n    const { query, referencedProfiles } = this.state;\n    if (query.profile) {\n      return referencedProfiles[query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  closeFacet = (facet: string) =>\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: false }\n    }));\n\n  handleRuleOpen = (ruleKey: string) => {\n    this.props.router.push(this.getRulePath(ruleKey));\n  };\n\n  handleBack = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.closeRule();\n  };\n\n  handleFilterChange = (changes: Partial<Query>) =>\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: serializeQuery({ ...this.state.query, ...changes })\n    });\n\n  handleFacetToggle = (facet: keyof Query) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: !state.openFacets[facet] }\n    }));\n    if (shouldRequestFacet(facet) && (!this.state.facets || !this.state.facets[facet])) {\n      this.fetchFacet(facet);\n    }\n  };\n\n  handleReload = () => this.fetchFirstRules();\n\n  handleReset = () => this.props.router.push({ pathname: this.props.location.pathname });\n\n  /** Tries to take rule by index, or takes the last one  */\n  pickRuleAround = (rules: Rule[], selectedIndex: number | undefined) => {\n    if (selectedIndex === undefined || rules.length === 0) {\n      return undefined;\n    }\n    if (selectedIndex >= 0 && selectedIndex < rules.length) {\n      return rules[selectedIndex].key;\n    }\n    return rules[rules.length - 1].key;\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    if (this.state.query.ruleKey === ruleKey) {\n      this.handleReset();\n    } else {\n      this.setState(state => {\n        const rules = state.rules.filter(rule => rule.key !== ruleKey);\n        const selectedIndex = this.getSelectedIndex(state);\n        const selected = this.pickRuleAround(rules, selectedIndex);\n        return { rules, selected };\n      });\n      this.closeRule();\n    }\n  };\n\n  handleRuleActivate = (profile: string, rule: string, activation: Activation) =>\n    this.setState((state: State) => {\n      const { actives = {} } = state;\n      if (!actives[rule]) {\n        return { actives: { ...actives, [rule]: { [profile]: activation } } };\n      }\n\n      return { actives: { ...actives, [rule]: { ...actives[rule], [profile]: activation } } };\n    });\n\n  handleRuleDeactivate = (profile: string, rule: string) =>\n    this.setState(state => {\n      const { actives } = state;\n      if (actives && actives[rule]) {\n        const newRule = { ...actives[rule] };\n        delete newRule[profile];\n        return { actives: { ...actives, [rule]: newRule } };\n      }\n      return null;\n    });\n\n  handleSearch = (searchQuery: string) => this.handleFilterChange({ searchQuery });\n\n  isFiltered = () => Object.keys(serializeQuery(this.state.query)).length > 0;\n\n  render() {\n    const { paging, rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const organization = this.props.organization && this.props.organization.key;\n    const hideQualityProfiles = !hasPrivateAccess(\n      this.props.currentUser,\n      this.props.organization,\n      this.props.userOrganizations\n    );\n    return (\n      <>\n        <Suggestions suggestions=\"coding_rules\" />\n        <Helmet title={translate('coding_rules.page')}>\n          <meta content=\"noindex\" name=\"robots\" />\n        </Helmet>\n        <div className=\"layout-page\" id=\"coding-rules-page\">\n          <ScreenPositionHelper className=\"layout-page-side-outer\">\n            {({ top }) => (\n              <div className=\"layout-page-side\" style={{ top }}>\n                <div className=\"layout-page-side-inner\">\n                  <div className=\"layout-page-filters\">\n                    <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n                    <SearchBox\n                      className=\"spacer-bottom\"\n                      id=\"coding-rules-search\"\n                      minLength={2}\n                      onChange={this.handleSearch}\n                      placeholder={translate('search.search_for_rules')}\n                      value={this.state.query.searchQuery || ''}\n                    />\n                    <FacetsList\n                      facets={this.state.facets}\n                      hideProfileFacet={hideQualityProfiles}\n                      onFacetToggle={this.handleFacetToggle}\n                      onFilterChange={this.handleFilterChange}\n                      openFacets={this.state.openFacets}\n                      organization={organization}\n                      organizationsEnabled={this.context.organizationsEnabled}\n                      query={this.state.query}\n                      referencedProfiles={this.state.referencedProfiles}\n                      referencedRepositories={this.state.referencedRepositories}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </ScreenPositionHelper>\n\n          <div className=\"layout-page-main\">\n            <div className=\"layout-page-header-panel layout-page-main-header\">\n              <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n                <div className=\"layout-page-main-inner\">\n                  {this.state.openRule ? (\n                    <a className=\"js-back\" href=\"#\" onClick={this.handleBack}>\n                      {translate('coding_rules.return_to_list')}\n                    </a>\n                  ) : (\n                    this.state.paging && (\n                      <BulkChange\n                        languages={this.props.languages}\n                        organization={organization}\n                        query={this.state.query}\n                        referencedProfiles={this.state.referencedProfiles}\n                        total={this.state.paging.total}\n                      />\n                    )\n                  )}\n                  <PageActions\n                    loading={this.state.loading}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"layout-page-main-inner\">\n              {this.state.openRule ? (\n                <RuleDetails\n                  allowCustomRules={!this.context.organizationsEnabled}\n                  canWrite={this.state.canWrite}\n                  hideQualityProfiles={hideQualityProfiles}\n                  onActivate={this.handleRuleActivate}\n                  onDeactivate={this.handleRuleDeactivate}\n                  onDelete={this.handleRuleDelete}\n                  onFilterChange={this.handleFilterChange}\n                  organization={organization}\n                  referencedProfiles={this.state.referencedProfiles}\n                  referencedRepositories={this.state.referencedRepositories}\n                  ruleKey={this.state.openRule.key}\n                  selectedProfile={this.getSelectedProfile()}\n                />\n              ) : (\n                <>\n                  {rules.map(rule => (\n                    <RuleListItem\n                      activation={this.getRuleActivation(rule.key)}\n                      key={rule.key}\n                      onActivate={this.handleRuleActivate}\n                      onDeactivate={this.handleRuleDeactivate}\n                      onFilterChange={this.handleFilterChange}\n                      onOpen={this.handleRuleOpen}\n                      organization={organization}\n                      rule={rule}\n                      selected={rule.key === this.state.selected}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  ))}\n                  {paging !== undefined && (\n                    <ListFooter\n                      count={rules.length}\n                      loadMore={this.fetchMoreRules}\n                      ready={!this.state.loading}\n                      total={paging.total}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nfunction parseActives(rawActives: { [rule: string]: RuleActivation[] }) {\n  const actives: Actives = {};\n  for (const [rule, activations] of Object.entries(rawActives)) {\n    actives[rule] = {};\n    for (const { inherit, qProfile, severity } of activations) {\n      actives[rule][qProfile] = { inherit, severity };\n    }\n  }\n  return actives;\n}\n\nfunction parseFacets(rawFacets: { property: string; values: { count: number; val: string }[] }[]) {\n  const facets: Facets = {};\n  for (const rawFacet of rawFacets) {\n    const values: { [value: string]: number } = {};\n    for (const rawValue of rawFacet.values) {\n      values[rawValue.val] = rawValue.count;\n    }\n    facets[getAppFacet(rawFacet.property)] = values;\n  }\n  return facets;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state),\n  languages: getLanguages(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nexport default withRouter(connect(mapStateToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReactSelectProps, ReactCreatableSelectProps, ReactAsyncSelectProps } from 'react-select';\nimport * as theme from '../../app/theme';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { lazyLoad } from '../lazyLoad';\nimport './react-select.css';\n\nconst ReactSelectLib = import('react-select');\nconst ReactSelect = lazyLoad(() => ReactSelectLib);\nconst ReactCreatable = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Creatable })));\nconst ReactAsync = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Async })));\n\nfunction renderInput() {\n  return (\n    <ButtonIcon className=\"button-tiny spacer-left text-middle\" color={theme.gray60}>\n      <ClearIcon size={12} />\n    </ButtonIcon>\n  );\n}\n\ninterface WithInnerRef {\n  innerRef?: (element: React.Component) => void;\n}\n\nexport default function Select({ innerRef, ...props }: WithInnerRef & ReactSelectProps) {\n  // TODO try to define good defaults, if any\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactSelectAny = ReactSelect as any;\n  // hide the \"x\" icon when select is empty\n  const clearable = props.clearable ? Boolean(props.value) : false;\n  return (\n    <ReactSelectAny {...props} clearRenderer={renderInput} clearable={clearable} ref={innerRef} />\n  );\n}\n\nexport function Creatable(props: ReactCreatableSelectProps) {\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactCreatableAny = ReactCreatable as any;\n  return <ReactCreatableAny {...props} clearRenderer={renderInput} />;\n}\n\n// TODO figure out why `ref` prop is incompatible\nexport function AsyncSelect(props: ReactAsyncSelectProps & { ref?: any }) {\n  return <ReactAsync {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default class Suggestions extends React.PureComponent<Props> {\n  context!: { suggestions: SuggestionsContext };\n\n  static contextTypes = {\n    suggestions: PropTypes.object.isRequired\n  };\n\n  componentDidMount() {\n    this.context.suggestions.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.context.suggestions.removeSuggestions(this.props.suggestions);\n      this.context.suggestions.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.context.suggestions.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#444;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:3px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#444}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0 none;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s infinite linear;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#444;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxNCAxNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij4gICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjM0Mzc1LDAsMCwwLjAyMzQzNzUsLTUuMDE1NjIsLTUuMDE1NjIpIj4gICAgICAgIDxwYXRoIGQ9Ik04MTAsMjc0TDU3Miw1MTJMODEwLDc1MEw3NTAsODEwTDUxMiw1NzJMMjc0LDgxMEwyMTQsNzUwTDQ1Miw1MTJMMjE0LDI3NEwyNzQsMjE0TDUxMiw0NTJMNzUwLDIxNEw4MTAsMjc0WiIgc3R5bGU9ImZpbGw6cmdiKDIzMSwyMCw1Nik7ZmlsbC1ydWxlOm5vbnplcm87Ii8+ICAgIDwvZz48L3N2Zz4=)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxNCAxNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij4gICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjM0Mzc1LDAsMCwwLjAyMzQzNzUsLTUuMDE1NjIsLTUuMDE1NjIpIj4gICAgICAgIDxwYXRoIGQ9Ik04MTAsMjc0TDU3Miw1MTJMODEwLDc1MEw3NTAsODEwTDUxMiw1NzJMMjc0LDgxMEwyMTQsNzUwTDQ1Miw1MTJMMjE0LDI3NEwyNzQsMjE0TDUxMiw0NTJMNzUwLDIxNEw4MTAsMjc0WiIgc3R5bGU9ImZpbGw6cmdiKDE1MywxNTMsMTUzKTtmaWxsLXJ1bGU6bm9uemVybzsiLz4gICAgPC9nPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#444;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{font-weight:600;cursor:default}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#444;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#444}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./react-select.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./react-select.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./react-select.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {props.loadMore != null && hasMore ? loadMoreLink : null}\n      {props.loading && (\n        <DeferredSpinner className=\"vertical-bottom spacer-left position-absolute\" />\n      )}\n    </footer>\n  );\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface ChildrenProps {\n  onClick: () => void;\n  onFormSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n}\n\nexport interface ModalProps {\n  onClose: () => void;\n}\n\nexport interface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modal: (props: ModalProps) => React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ModalButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleFormSubmit = (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({\n          onClick: this.handleButtonClick,\n          onFormSubmit: this.handleFormSubmit\n        })}\n        {this.state.modal && this.props.modal({ onClose: this.handleCloseModal })}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport { csvEscape } from '../helpers/csv';\nimport {\n  request,\n  checkStatus,\n  parseJSON,\n  getJSON,\n  post,\n  postJSON,\n  RequestData\n} from '../helpers/request';\nimport { Paging } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  organization: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  organization?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile(data: {\n  compareToSonarWay?: boolean;\n  profile: string;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', data);\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/create')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/restore')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport interface ProfileProject {\n  id: number;\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance(profileKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/inheritance', { profileKey }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile(profileKey: string): Promise<void> {\n  return post('/api/qualityprofiles/set_default', { profileKey });\n}\n\nexport function renameProfile(key: string, name: string) {\n  return post('/api/qualityprofiles/rename', { key, name }).catch(throwGlobalError);\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName }).catch(throwGlobalError);\n}\n\nexport function deleteProfile(profileKey: string) {\n  return post('/api/qualityprofiles/delete', { profileKey }).catch(throwGlobalError);\n}\n\nexport function changeProfileParent(profileKey: string, parentKey: string) {\n  return post('/api/qualityprofiles/change_parent', { profileKey, parentKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(data: RequestData): Promise<any> {\n  return getJSON('/api/qualityprofiles/changelog', data);\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject(profileKey: string, projectKey: string) {\n  return post('/api/qualityprofiles/add_project', { profileKey, projectKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function dissociateProject(profileKey: string, projectKey: string) {\n  return post('/api/qualityprofiles/remove_project', { profileKey, projectKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\nexport interface SearchUsersResponse {\n  users: Array<{\n    avatar?: string;\n    login: string;\n    name: string;\n    selected?: boolean;\n  }>;\n  paging: Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  /* eslint-disable camelcase */\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  organization: string | undefined;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n  /* eslint-enable camelcase */\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  organization: string | undefined;\n  params?: { [key: string]: string };\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: {\n  key: string;\n  organization: string | undefined;\n  rule: string;\n}) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronRightIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.596 8.28l-4.604 4.602a.382.382 0 0 1-.279.118.382.382 0 0 1-.279-.118l-1.03-1.03a.382.382 0 0 1-.117-.278c0-.108.04-.201.117-.28L8.7 8 5.404 4.706a.382.382 0 0 1-.117-.28c0-.108.04-.2.117-.279l1.03-1.03A.382.382 0 0 1 6.714 3c.107 0 .2.04.278.118l4.604 4.603a.382.382 0 0 1 .117.279c0 .108-.04.201-.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate } from '../../helpers/l10n';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\n\ninterface Props<T> {\n  children: React.ReactNode;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  header: string;\n  isDestructive?: boolean;\n  onClose: () => void;\n  onConfirm: (data?: T) => void | Promise<void>;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const { children, confirmButtonText, confirmDisable, header, isDestructive } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header } = this.props;\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.handleSubmit}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ModalButton, { ChildrenProps, ModalProps } from './ModalButton';\nimport ConfirmModal from './ConfirmModal';\n\nexport { ChildrenProps } from './ModalButton';\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  confirmButtonText: string;\n  confirmData?: string;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  modalBody: React.ReactNode;\n  modalHeader: string;\n  onConfirm: (data?: string) => void | Promise<void>;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ConfirmButton extends React.PureComponent<Props, State> {\n  renderConfirmModal = ({ onClose }: ModalProps) => {\n    return (\n      <ConfirmModal\n        confirmButtonText={this.props.confirmButtonText}\n        confirmData={this.props.confirmData}\n        confirmDisable={this.props.confirmDisable}\n        header={this.props.modalHeader}\n        isDestructive={this.props.isDestructive}\n        onClose={onClose}\n        onConfirm={this.props.onConfirm}>\n        {this.props.modalBody}\n      </ConfirmModal>\n    );\n  };\n\n  render() {\n    return <ModalButton modal={this.renderConfirmModal}>{this.props.children}</ModalButton>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function csvEscape(value: string): string {\n  const escaped = value.replace(/\"/g, '\\\\\"');\n  return `\"${escaped}\"`;\n}\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * var result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nfunction getDaysInMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  var monthIndex = date.getMonth()\n  var lastDayOfMonth = new Date(0)\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0)\n  lastDayOfMonth.setHours(0, 0, 0, 0)\n  return lastDayOfMonth.getDate()\n}\n\nmodule.exports = getDaysInMonth\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added\n * @returns {Date} the new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nfunction addMonths (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  var desiredMonth = date.getMonth() + amount\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(date.getFullYear(), desiredMonth, 1)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(desiredMonth, Math.min(daysInMonth, date.getDate()))\n  return date\n}\n\nmodule.exports = addMonths\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess &&\n          allShown && (\n            <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n              {translate('show_less')}\n            </a>\n          )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\nimport { translate } from '../../helpers/l10n';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { Paging } from '../../app/types';\nimport SearchBox from '../controls/SearchBox';\nimport ListFooter from '../controls/ListFooter';\nimport { formatMeasure } from '../../helpers/measures';\nimport { queriesEqual, RawQuery } from '../../helpers/query';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<{ [x: string]: number }>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: { [x: string]: string | string[] }) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: { [x: string]: number } | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: Paging;\n  searchResults?: S[];\n  searchResultsCounts: { [key: string]: number };\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else this.props.onChange({ [this.props.property]: [] });\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(Object.keys(stats), key => -stats[key], key => this.props.getFacetItemText(key));\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\"></div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults &&\n          this.state.showFullList && (\n            <div className=\"alert alert-warning spacer-top\">\n              {translate('facet_might_have_more_results')}\n            </div>\n          )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <div className=\"alert alert-warning spacer-top\">\n            {translate('facet_might_have_more_results')}\n          </div>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox className={this.props.className} property={this.props.property}>\n        <FacetHeader\n          name={this.props.facetHeader}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Organization, isLoggedIn, OrganizationSubscription, CurrentUser } from '../app/types';\n\nexport function isPaidOrganization(organization: Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === OrganizationSubscription.Paid);\n}\n\nexport function hasPrivateAccess(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: CurrentUser,\n  organization: Organization | undefined,\n  userOrganizations: Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      (organization.canAdmin ||\n        organization.isAdmin ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport function highlightTerm(str: string, term: string) {\n  const pos = str.toLowerCase().indexOf(term.toLowerCase());\n  return pos !== -1 ? (\n    <>\n      {pos > 0 && str.substring(0, pos)}\n      <mark>{str.substr(pos, term.length)}</mark>\n      {pos + term.length < str.length && str.substring(pos + term.length)}\n    </>\n  ) : (\n    str\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}.button.boolean-toggle{display:inline-block;vertical-align:middle;width:48px;height:24px;padding:1px;border:1px solid #cdcdcd;border-radius:24px;box-sizing:border-box;background-color:#fff;cursor:pointer;transition:all .3s ease}.button.boolean-toggle:hover{background-color:#fff}.button.boolean-toggle:focus{border-color:#4b9fd5;background-color:#f6f6f6}.boolean-toggle-handle{width:20px;height:20px;border:1px solid #cdcdcd;border-radius:22px;box-sizing:border-box;background-color:#f6f6f6;transition:transform .3s cubic-bezier(.87,-.41,.19,1.44),border .3s ease}.button.boolean-toggle-on{border-color:#236a97;background-color:#236a97}.button.boolean-toggle-on:focus,.button.boolean-toggle-on:hover{background-color:#236a97}.button.boolean-toggle-on .boolean-toggle-handle{border-color:#f6f6f6;transform:translateX(24px)}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CalendarIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronLeftIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { intlShape, InjectedIntlProps } from 'react-intl';\nimport { range } from 'lodash';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport OutsideClickHandler from './OutsideClickHandler';\nimport Select from './Select';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\nimport CalendarIcon from '../icons-components/CalendarIcon';\nimport ChevronLeftIcon from '../icons-components/ChevronLeftIcon';\nimport ChevronRightIcon from '../icons-components/ChevronRightcon';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { getShortMonthName, getWeekDayName, getShortWeekDayName } from '../../helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoad(() => import('react-day-picker'));\n\nexport interface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  context!: InjectedIntlProps;\n  input?: HTMLInputElement | null;\n\n  static contextTypes = {\n    intl: intlShape\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { formatDate } = this.context.intl;\n    const { lastHovered } = this.state;\n    const formattedValue =\n      value && formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <input\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            ref={node => (this.input = node)}\n            type=\"text\"\n            value={formattedValue || ''}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ButtonIcon\n              className=\"button-tiny date-input-control-reset\"\n              color={theme.gray60}\n              onClick={this.handleResetClick}>\n              <ClearIcon size={12} />\n            </ButtonIcon>\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #eae3c7}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet-box>.spinner{float:right;margin-top:-24px}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,hsla(47,83%,91%,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/lib/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 8px;margin-top:8px}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted\n * @returns {Date} the new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction subMonths (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, -amount)\n}\n\nmodule.exports = subMonths\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year setted\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * var result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nfunction setYear (dirtyDate, dirtyYear) {\n  var date = parse(dirtyDate)\n  var year = Number(dirtyYear)\n  date.setFullYear(year)\n  return date\n}\n\nmodule.exports = setYear\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month setted\n *\n * @example\n * // Set February to 1 September 2014:\n * var result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nfunction setMonth (dirtyDate, dirtyMonth) {\n  var date = parse(dirtyDate)\n  var month = Number(dirtyMonth)\n  var year = date.getFullYear()\n  var day = date.getDate()\n\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(year, month, 15)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth))\n  return date\n}\n\nmodule.exports = setMonth\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: boolean;\n}\n\nexport default function BuiltInQualityProfileBadge({ className, tooltip = true }: Props) {\n  const badge = (\n    <div className={classNames('outline-badge', className)}>\n      {translate('quality_profiles.built_in')}\n    </div>\n  );\n\n  if (tooltip) {\n    return (\n      <DocTooltip\n        doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/quality-profiles/built-in-quality-profile.md')}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n  return badge;\n}\n","module.exports = \"Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport * as theme from '../../app/theme';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: string;\n  onClick: () => void;\n}\n\nexport default class ReloadButton extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick();\n  };\n\n  renderIcon = () => (\n    <svg height=\"24\" viewBox=\"0 0 18 24\" width=\"18\">\n      <path\n        d=\"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z\"\n        fill={theme.secondFontColor}\n      />\n    </svg>\n  );\n\n  render() {\n    const { tooltip = translate('reload') } = this.props;\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames('link-no-underline', this.props.className)}\n          href=\"#\"\n          onClick={this.handleClick}>\n          {this.renderIcon()}\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\nimport { RuleType, IssueType } from '../../app/types';\n\ninterface Props {\n  className?: string;\n  type: IssueType | RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}