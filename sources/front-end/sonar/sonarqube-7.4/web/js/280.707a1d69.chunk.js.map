{"version":3,"sources":["webpack:///./node_modules/lodash/intersection.js","webpack:///./src/main/js/components/SourceViewer/styles.css","webpack:///./src/main/js/components/SourceViewer/styles.css?b9b0","webpack:///./node_modules/lodash/times.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/helpers/path.ts","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/components/ui/Rating.css?115d","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/ui/Level.css?4e69","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/icons-components/FavoriteIcon.tsx","webpack:///./src/main/js/components/controls/FavoriteBase.tsx","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./src/main/js/api/favorites.ts","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./node_modules/lodash/inRange.js","webpack:///./src/main/js/components/ui/DuplicationsRating.tsx","webpack:///./src/main/js/components/ui/DuplicationsRating.css","webpack:///./src/main/js/components/ui/DuplicationsRating.css?4b43","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./src/main/js/components/icons-components/StatusIcon.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlayMeasure.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlayCoveredFiles.tsx","webpack:///./src/main/js/api/tests.ts","webpack:///./src/main/js/components/icons-components/TestStatusIcon.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlayTestCase.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlayTestCases.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlay.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeader.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineOptionsPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineNumber.tsx","webpack:///./src/main/js/components/SourceViewer/components/SCMPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineSCM.tsx","webpack:///./src/main/js/components/SourceViewer/components/CoveragePopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineCoverage.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineDuplications.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineDuplicationBlock.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesIndicator.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesList.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/highlight.ts","webpack:///./src/main/js/components/SourceViewer/components/LineCode.tsx","webpack:///./src/main/js/components/SourceViewer/components/Line.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/issueLocations.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerCode.tsx","webpack:///./src/main/js/components/SourceViewer/components/DuplicationPopup.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/loadIssues.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/indexing.ts","webpack:///./src/main/js/components/SourceViewer/SourceViewerBase.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/getCoverageStatus.tsx","webpack:///./src/main/js/components/icons-components/EllipsisIcon.tsx","webpack:///./src/main/js/components/icons-components/ListIcon.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.js","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.js","webpack:///./src/main/js/components/issue/components/IssueChangelog.js","webpack:///./src/main/js/components/issue/components/IssueMessage.js","webpack:///./src/main/js/components/common/SelectListItem.js","webpack:///./src/main/js/components/common/SelectList.js","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.js","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.js","webpack:///./src/main/js/components/issue/components/IssueTitleBar.js","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.js","webpack:///./src/main/js/components/issue/components/IssueAssign.js","webpack:///./src/main/js/components/issue/actions.js","webpack:///./src/main/js/components/issue/popups/CommentPopup.js","webpack:///./src/main/js/components/issue/components/IssueCommentAction.js","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.js","webpack:///./src/main/js/components/issue/components/IssueSeverity.js","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.js","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.js","webpack:///./src/main/js/components/issue/components/IssueTransition.js","webpack:///./src/main/js/components/issue/popups/SetTypePopup.js","webpack:///./src/main/js/components/issue/components/IssueType.js","webpack:///./src/main/js/components/issue/components/IssueActionsBar.js","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.js","webpack:///./src/main/js/components/issue/components/IssueCommentLine.js","webpack:///./src/main/js/components/issue/IssueView.js","webpack:///./src/main/js/components/issue/Issue.js","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/common/LocationMessage.css?478d","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/issue/Issue.css?0fe5","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationIndex.css?ad8e"],"names":["arrayMap","__webpack_require__","baseIntersection","baseRest","castArrayLikeObject","intersection","arrays","mapped","length","module","exports","push","i","content","options","hmr","transform","insertInto","undefined","locals","n","iteratee","index","result","Array","isArrayLikeObject","value","SetCache","arrayIncludes","arrayIncludesWith","baseUnary","cacheHas","nativeMin","Math","min","comparator","includes","othLength","othIndex","caches","maxLength","Infinity","array","seen","outer","computed","cache","Modal","props","react__WEBPACK_IMPORTED_MODULE_0__","react_modal__WEBPACK_IMPORTED_MODULE_1__","__assign","className","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-medium","medium","modal-large","large","isOpen","overlayClassName","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","_a","_b","fill","size","_Icon__WEBPACK_IMPORTED_MODULE_1__","d","style","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","QualifierIcon","qualifier","toLowerCase","FoundIcon","formatterOption","year","month","day","longFormatterOption","DateFormatter","children","date","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","Object","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","toNumber","INFINITY","MAX_INTEGER","baseIteratee","baseMap","isArray","collection","hour","minute","DateTimeFormatter","Rating","muted","_c","small","formatted","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_1__","rating-small","rating-muted","DateFromNow","collapsePath","path","limit","tokens","split","head","tail","middle","slice","cut","join","shift","concat","collapsedDirFromPath","fileFromPath","splitPath","limitComponentName","str","substr","__webpack_exports__","Level","level","level-small","level-muted","baseAssignValue","createAggregator","hasOwnProperty","prototype","groupBy","key","call","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","Measure","decimals","metricKey","metricType","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","formattedValue","tooltip","_utils__WEBPACK_IMPORTED_MODULE_1__","Number","rating","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","overlay","_app_types__WEBPACK_IMPORTED_MODULE_2__","getLeakPeriod","periods","find","period","getPeriod","getPeriodLabel","dateFormatter","parameter","modeParam","mode","PreviousVersion","Date","_l10n__WEBPACK_IMPORTED_MODULE_0__","getPeriodDate","_dates__WEBPACK_IMPORTED_MODULE_1__","KNOWN_RATINGS","enhanceMeasure","measure","metrics","metric","leak","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","FavoriteIcon","favorite","_Icon__WEBPACK_IMPORTED_MODULE_2__","is-filled","color","_super","FavoriteBase","_this","this","mounted","toggleFavorite","event","preventDefault","state","removeFavorite","addFavorite","__extends","componentDidMount","componentWillReceiveProps","nextProps","setState","componentWillUnmount","then","render","l10n","index_js_exposed","Tooltip","classnames","href","onClick","Favorite","component","other","__rest","controls_FavoriteBase","request","favorites_addFavorite","favorites_removeFavorite","baseOrderBy","iteratees","orders","guard","DonutChart","_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","Promise","all","e","bind","SIZE_TO_WIDTH_MAPPING","xs","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","CoverageRating","data","numberValue","width","thickness","height","baseInRange","toFinite","number","start","end","DuplicationsRating","duplications-rating-small","duplications-rating-big","duplications-rating-huge","duplications-rating-muted","duplications-rating-A","lodash_inRange__WEBPACK_IMPORTED_MODULE_0___default","duplications-rating-B","duplications-rating-C","duplications-rating-D","duplications-rating-E","react__WEBPACK_IMPORTED_MODULE_1__","nativeMax","max","statusIcons","open","icons_components_Icon","theme","confirmed","reopened","resolved","closed","StatusIcon","status","Icon","StatusHelper","resolution","LocationIndex","leading","selected","clickAttributes","role","tabIndex","is-leading","MeasuresOverlayMeasure","data-metric","IssueTypeIcon","query","type","MeasuresOverlayCoveredFiles","apply","arguments","loading","fetchCoveredFiles","testId","testCase","id","r","files","throwGlobalError","coveredFiles","componentDidUpdate","prevProps","DeferredSpinner","map","coveredFile","es","to","urls","longName","coveredLines","message","stacktrace","ok","failure","fillRule","error","skipped","TestStatusIcon","MeasuresOverlayTestCase","handleTestCaseClick","currentTarget","blur","MeasuresOverlayTestCase_extends","hasAdditionalData","durationInMs","name","MeasuresOverlayTestCases","fetchTests","parameters","ps","testFileKey","componentKey","branches","branchLike","catch","testCases","tests","handleTestCasesSortClick","sort","dataset","sortAsc","selectedTestId","MeasuresOverlayTestCases_extends","selectedTest","test","colSpan","active-link","data-sort","mainOrder","orderBy_default","sortTestCases","components_MeasuresOverlayTestCase","components_MeasuresOverlayCoveredFiles","MeasuresOverlay","measures","showAllMeasures","fetchData","fetchMeasures","fetchIssues","facets","MeasuresOverlay_assign","api_metrics","metricKeys","helpers_measures","api_measures","sourceViewerFile","withMetrics","filter","keyBy_default","api_issues","componentKeys","severitiesFacet","f","property","tagsFacet","typesFacet","values","handleAllMeasuresClick","renderMeasure","renderLines","lines","ncloc","comment_lines","comment_lines_density","cognitive_complexity","complexity","function_complexity","renderBigMeasure","renderIssues","violations","sqale_index","sortBy_default","constants","indexOf","val","count","SeverityHelper","severity","TagsIcon","renderCoverage","coverage","uncovered_lines","lines_to_cover","uncovered_conditions","conditions_to_cover","renderDuplications","duplications","duplicated_lines_density","duplicated_blocks","duplicated_lines","renderTests","test_success_density","test_failures","test_errors","skipped_tests","test_execution_time","renderDomain","domain","renderAllMeasures","domains","groupBy_default","domainKeys","keys","odd","_","even","MeasuresOverlay_extends","contentLabel","onRequestClose","onClose","project","projectName","subProject","subProjectName","q","components_MeasuresOverlayTestCases","buttons","SourceViewerHeader","measuresOverlay","handleShowMeasuresClick","handleMeasuresOverlayClose","openInWorkspace","context","workspace","openComponent","SourceViewerHeader_extends","uuid","isUnitTest","rawSourcesLink","querystring_es3","SourceViewerHeader_assign","helpers_path","canMarkAsFavorite","fav","Dropdown","pathname","target","overlayPlacement","popups","BottomRight","ListIcon","components_MeasuresOverlay","fileUuids","issues","duplicationDensity","contextTypes","prop_types","isRequired","LineOptionsPopup","line","permalink","LineOptionsPopup_assign","placement","RightTop","LineNumber","handleClick","stopPropagation","onPopupToggle","handleTogglePopup","closePopup","LineNumber_extends","popupOpen","lineNumber","data-line-number","Toggler","SCMPopup","hasAuthor","scmAuthor","scmDate","spacer-top","scmRevision","LineSCM","LineSCM_extends","previousLine","hasPopup","cell","s","p","changed","isSCMChanged","data-author","CoveragePopup","components","CoveragePopup_assign","sourceFileKey","sourceFileLineNumber","handleTestClick","CoveragePopup_extends","testCasesByFile","testFiles","fileKey","testSet","file","fileName","conditions","coveredConditions","testFile","data-key","title","LineCoverage","LineCoverage_extends","coverageStatus","components_CoveragePopup","LineDuplications","LineDuplications_extends","source-line-duplicated","duplicated","LineDuplicationBlock","LineDuplicationBlock_extends","data-index","renderDuplicationPopup","LineIssuesIndicator","LineIssuesIndicator_extends","hasIssues","source-line-with-issues","mostImportantIssue","helpers_issues","SeverityIcon","LineIssuesList","issuePopup","issue","Issue","displayLocationsCount","displayIssueLocationsCount","displayLocationsLink","displayIssueLocationsLink","onChange","onIssueChange","onIssueClick","onIssuePopupToggle","openPopup","selectedIssue","ISSUE_LOCATION_CLASS","splitByTokens","code","rootClassName","container","document","createElement","innerHTML","forEach","childNodes","node","nodeType","fullClassName","innerTokens","nodeValue","markers","text","part","from","acc","highlightIssueLocations","issueLocations","location","nextTokens","markerAdded","startLine","token","s1","e1","s2","e2","x","p1","p2","p3","highlight_assign","newClassName","uniq_default","LineCode","handleSymbolClick","match","onSymbolClick","LineCode_extends","attachEvents","highlightedLocationMessage","activeMarkerNode","scroll","componentWillUpdate","detachEvents","codeNode","symbols","querySelectorAll","addEventListener","renderMarker","onLocationSelect","ref","LocationMessage","highlightedSymbols","onIssueSelect","secondaryIssueLocations","showIssues","symbol","symbolRegExp","RegExp","highlightSymbol","has-issues","renderedTokens","leadingMarker","displayLocationMarkers","marker","trim","Line","isPopupOpen","linePopup","handleIssuesIndicatorClick","openIssues","onIssuesClose","onIssueUnselect","onIssuesOpen","Line_extends","displayCoverage","duplicationsCount","source-line-highlighted","highlighted","source-line-filtered","isNew","source-line-filtered-dark","source-line-last","last","components_LineNumber","onLinePopupToggle","components_LineSCM","components_LineCoverage","displayDuplications","components_LineDuplications","loadDuplications","times_default","components_LineDuplicationBlock","displayIssues","displayAllIssues","components_LineIssuesIndicator","components_LineCode","getLinearLocations","textRange","locations","endLine","startOffset","endOffset","EMPTY_ARRAY","ZERO_LINE","SourceViewerCode","getDuplicationsForLine","duplicationsByLine","getIssuesForLine","issuesByLine","getIssueLocationsForLine","issueLocationsByLine","getSecondaryIssueLocationsForLine","highlightedLocations","reduce","linearLocations","l","SourceViewerCode_assign","renderLine","sources","issuesForLine","symbolsForLine","symbolsByLine","optimizedHighlightedSymbols","intersection_default","optimizedSelectedIssue","optimizedSecondaryIssueLocations","optimizedLocationMessage","some","components_Line","highlightedLine","hasSourcesAfter","openIssuesByLine","SourceViewerCode_extends","hasFileIssues","hasSourcesBefore","loadingSourcesBefore","loadSourcesBefore","loadingSourcesAfter","loadSourcesAfter","DuplicationPopup","isDifferentComponent","a","b","Boolean","handleFileClick","DuplicationPopup_extends","duplicatedFiles","groupedBlocks","blocks","fileRef","inRemovedComponent","duplication","block","data-line","PAGE_SIZE","loadPageAndNext","toLine","page","pageSize","loadIssues_assign","users","rules","loadPage","lastIssue","nextIssues","loadIssues_loadIssues","_fromLine","additionalFields","buildQuery","resolve","locationsByLine","flatten_default","LINES","SourceViewerBase_SourceViewerBase","SourceViewerBase","loadSources","reject","aroundLine","response","firstSourceLine","loadIssues","prevState","uniqBy_default","computeCoverageStatus","SourceViewerBase_assign","lastSourceLine","fromLine","duplicationIndex","_ref","handleLinePopupToggle","samePopup","closeLinePopup","handleIssuePopupToggle","popupName","handleIssueSelect","handleIssueUnselect","handleOpenIssues","handleCloseIssues","handleIssueChange","newIssues","candidate","foundOne","outOfBounds","shouldDisplay","isOk","components_DuplicationPopup","notAccessible","notExist","sourceRemoved","SourceViewerBase_extends","fetchComponent","isLineOutsideOfRange","fetchSources","selectedIssue_1","reloadIssues","lineHits","firstLine","lastList","loadComponent","finalSources_1","onLoaded","onFailLoadSources","finalSources_2","renderCode","SourceViewer_SourceViewerCode","source-duplications-expanded","SourceViewer_SourceViewerHeader","defaultProps","defaultLoadComponent","defaultLoadSources","leakPeriodDate","EllipsisIcon","IssueChangelogDiff","diff","index_js_exposed_default","oldValue","newValue","ChangelogPopup","changelogs","loadChangelog","author","creationDate","item","idx","userName","Avatar","hash","avatar","diffs","PureComponent","IssueChangelog","toggleChangelog","togglePopup","handleClose","IssueChangelog_extends","popups_ChangelogPopup","mouseEnterDelay","DropdownIcon","IssueMessage","openRule","rule","organization","IssueMessage_extends","aria-label","engine","manualVulnerability","prop_types_default","object","SelectListItem","handleSelect","evt","onSelect","handleHover","onHover","SelectListItem_extends","renderLink","classnames_default","active","onFocus","onMouseOver","SelectList","attachShortcuts","previousKeyScope","keymaster_default","getScope","previousFilter","currentKeyScope","uniqueId_default","setScope","tagName","srcElement","isInput","keyCode","selectNextElement","selectPreviousElement","detachShortcuts","deleteScope","items","renderChild","child","common_SelectListItem","cloneElement","currentItem","SelectList_extends","hasChildren","Children","SimilarIssuesPopup","onFilter","SimilarIssuesPopup_extends","tags","tag","noPadding","common_SelectList","assignee","assigneeAvatar","assigneeName","ruleName","componentQualifier","componentLongName","SimilarIssuesFilter","handleFilter","SimilarIssuesFilter_extends","popups_SimilarIssuesPopup","FilterIcon","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","secondaryLocations","flows","sum","locationsBadge","displayLocations","issueUrl","components_IssueMessage","externalRuleEngine","fromHotspot","types","Vulnerability","components_IssueChangelog","currentPopup","LinkIcon","components_SimilarIssuesFilter","LIST_SIZE","SetAssigneePopup_SetAssigneePopup","SetAssigneePopup","searchMembers","organizations","projectOrganization","handleSearchResult","searchUsers","currentUser","login","handleSearchChange","defaultUsersArray","organizationsEnabled","isLoggedIn","SetAssigneePopup_extends","SearchBox","autoFocus","minLength","placeholder","map_default","user","marginLeft","popups_SetAssigneePopup","react_redux_es","rootReducer","IssueAssign","toggleAssign","IssueAssign_extends","renderAssignee","canAssign","closeOnEscape","onAssign","actions_updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","CommentPopup","handleCommentChange","textComment","handleCommentClick","onComment","handleCancelClick","toggleComment","handleKeyboard","metaKey","ctrlKey","comment","markdown","CommentPopup_extends","onKeyDown","rows","disabled","MarkdownTips","IssueCommentAction","addComment","issueKey","IssueCommentAction_extends","popups_CommentPopup","commentPlaceholder","SEVERITY","SetSeverityPopup","SetSeverityPopup_extends","IssueSeverity","toggleSetSeverity","setSeverity","setIssueProperty","IssueSeverity_extends","canSetSeverity","popups_SetSeverityPopup","SetIssueTagsPopup_LIST_SIZE","SetIssueTagsPopup","searchResult","onSearch","selectedTags","setTags","onUnselect","without_default","SetIssueTagsPopup_extends","availableTags","difference_default","TagsSelector","listSize","IssueTags","toggleSetTags","IssueTags_assign","IssueTags_extends","canSetTags","popups_SetIssueTagsPopup","TagsList","allowUpdate","SetTransitionPopup","SetTransitionPopup_extends","transitions","transition","IssueTransition","setTransition","toggleSetTransition","IssueTransition_extends","hasTransitions","popups_SetTransitionPopup","TYPES","Bug","CodeSmell","SetTypePopup","SetTypePopup_extends","IssueType","toggleSetType","setType","IssueType_extends","canSetType","popups_SetTypePopup","IssueActionsBar","popup","apiCall","IssueActionsBar_assign","handleTransition","Hotspot","IssueActionsBar_extends","actions","canComment","isSecurityHotspot","components_IssueType","components_IssueSeverity","components_IssueTransition","components_IssueAssign","effort","components_IssueCommentAction","components_IssueTags","CommentDeletePopup","onDelete","IssueCommentLine","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","force","closePopups","IssueCommentLine_extends","authorName","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","createdAt","updatable","IssueView","handleCheck","onCheck","isClickable","toUpperCase","parentNode","editComment","deleteComment","IssueView_extends","hasCheckbox","issueClass","issue-with-checkbox","data-issue","components_IssueActionsBar","comments","components_IssueCommentLine","icon-checkbox-checked","checked","Issue_Issue","handleAssignement","Issue_extends","bindShortcuts","unbindShortcuts","unbind","issue_IssueView","store"],"mappings":"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","file":"js/280.707a1d69.chunk.js","sourcesContent":["var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".source-viewer{width:100%;min-height:200px;border:1px solid #cdcdcd;box-sizing:border-box;background-color:#fff;overflow-x:auto;overflow-y:hidden}.source-table{width:100%;border:none;border-collapse:collapse}.source-line:hover .source-line-coverage,.source-line:hover .source-line-duplications,.source-line:hover .source-line-duplications-extra,.source-line:hover .source-line-issues,.source-line:hover .source-line-number,.source-line:hover .source-line-scm{border-color:#e9e9e9;background-color:#e9e9e9}.source-line:hover .source-line-code{background-color:#f5f5f5}.source-line-highlighted .source-line-coverage,.source-line-highlighted .source-line-duplications,.source-line-highlighted .source-line-duplications-extra,.source-line-highlighted .source-line-issues,.source-line-highlighted .source-line-number,.source-line-highlighted .source-line-scm,.source-line-highlighted:hover .source-line-coverage,.source-line-highlighted:hover .source-line-duplications,.source-line-highlighted:hover .source-line-duplications-extra,.source-line-highlighted:hover .source-line-issues,.source-line-highlighted:hover .source-line-number,.source-line-highlighted:hover .source-line-scm{border-color:#c4dfec!important;background-color:#c4dfec}.source-line-highlighted .source-line-code,.source-line-highlighted:hover .source-line-code{background-color:#d9edf7}.source-line-filtered .source-line-code{background-color:#fbf3d5!important}.source-line-filtered.source-line-highlighted .source-line-code,.source-line-filtered.source-line-highlighted:hover .source-line-code{background-color:#cdd9c4!important}.source-line-filtered:hover .source-line-code{background-color:#f1e8cb!important}.source-line-filtered.source-line-filtered-dark .source-line-code{background-color:#f9ebb7!important}.source-line-filtered.source-line-filtered-dark:hover .source-line-code{background-color:#eaddb2!important}.source-line-last .source-line-code{padding-bottom:160px}.source-viewer pre{height:18px;padding:0}.source-line-number,.source-line-scm,.source-viewer pre{line-height:18px;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.source-line-code{position:relative;padding:0 10px}.source-line-code pre{float:left}.source-line-code .issue-list{margin-left:-10px;margin-right:-10px}.source-line-code-inner:after,.source-line-code-inner:before{display:table;content:\\\"\\\";line-height:0}.source-line-code-inner:after{clear:both}.source-line-code-issue{display:inline-block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAGCAYAAAAPDoR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1M0M2Rjk4M0M3QUYxMUUzODkzRUREMUM5OTNDMjY4QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1M0M2Rjk4NEM3QUYxMUUzODkzRUREMUM5OTNDMjY4QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzQzZGOTgxQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzQzZGOTgyQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bcqJtQAAAEhJREFUeNpi+G+swwDGDAwgbAWlwZiJAQFCgfgwEIfDRaC67ID4NRDnQ2kQnwFZwgFqnANMAQOUYY9sF0wBiCGH5CBkrAgQYACuWi4sSGW8yAAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-size:4px;background-position:bottom}.source-meta{position:relative;vertical-align:top;width:1px;background-clip:padding-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.source-meta:focus{outline:none}.source-meta[role=button]{cursor:pointer}.source-meta+.source-meta{border-left:1px solid #f3f3f3}.source-line-number{min-width:18px;padding:0 10px;background-color:#f3f3f3;color:#777;text-align:right}.source-line-number:before{content:attr(data-line-number)}.source-line-issues{position:relative;padding:0 2px;background-color:#f3f3f3}.source-line-issues-counter{position:absolute;top:-1px;right:-1px;line-height:8px;font-size:8px}.source-line-coverage,.source-line-duplications,.source-line-duplications-extra{background-color:#f3f3f3}.source-duplications-expanded .source-line-duplications,.source-line-duplications-extra{display:none}.source-duplications-expanded .source-line-duplications-extra{display:table-cell}.source-line-scm{padding:0 5px;background-color:#f3f3f3}.source-line-scm-inner{max-width:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.source-line-scm-inner:before{content:attr(data-author)}.source-line-bar{width:5px;height:18px}.source-line-covered{background-color:#0a0!important}.source-line-uncovered{background-color:#d4333f!important}.source-line-partially-covered{background-color:#ed7d20!important;background-image:repeating-linear-gradient(45deg,hsla(0,0%,100%,.5) 4px,transparent 0,transparent 8px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 12px,transparent 0,transparent 16px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 20px)!important}.source-line-duplicated{background-color:#797979!important}.source-viewer-header{position:relative;padding:2px 10px 4px;border-bottom:1px solid #e6e6e6;background-color:#f3f3f3}.source-viewer-header:after,.source-viewer-header:before{display:table;content:\\\"\\\";line-height:0}.source-viewer-header:after{clear:both}.source-viewer-header-bar+.source-viewer-header-bar{border-top:1px solid #e6e6e6}.source-viewer-header-component{float:left;padding-top:4px}.source-viewer-header-component-project{color:#777;font-size:12px}.source-viewer-header-component-name{font-weight:600}.source-viewer-header-favorite{position:relative;top:-2px;margin-left:4px;border-bottom:none}.source-viewer-header-measures{float:right}.source-viewer-header-measures-scope{position:relative;float:left}.source-viewer-header-measure{display:inline-block;vertical-align:middle;padding:3px 0;font-size:13px}.source-viewer-header-measure .rating{font-size:18px}.source-viewer-header-measure+.source-viewer-header-measure{margin-left:25px}.source-viewer-header-measure-label{display:block;margin-top:4px;line-height:12px;color:#777;font-size:12px}.source-viewer-header-measure-value{display:block;line-height:18px;color:#444;font-size:16px}.source-viewer-header-actions{float:right;display:block;margin-left:25px;padding:8px 5px}.source-viewer-header-actions svg{margin-top:2px}.source-viewer-header-more-actions{position:absolute;z-index:7500;right:0;top:100%;padding:10px;border:1px solid #e6e6e6;border-right:none;background-color:#fff;line-height:1.8}.source-viewer-measures-overlay{padding:20px 10px;background-color:#f3f3f3}.source-viewer-measures-overlay,.source-viewer-measures-overlay .modal-foot{width:1100px;left:50%;right:auto;margin-left:-550px}.source-viewer-measures-component{float:none;margin:0 10px 30px}.source-viewer-measures,.source-viewer-measures-modal{background-color:#f3f3f3}.source-viewer-measures{margin:0 -10px}.source-viewer-measures:after,.source-viewer-measures:before{display:table;content:\\\"\\\";line-height:0}.source-viewer-measures:after{clear:both}.source-viewer-measures+.source-viewer-measures{margin-top:40px}.source-viewer-measures-secondary .source-viewer-measures-card{background-color:hsla(0,0%,100%,.6)}.source-viewer-measures-section{float:left;width:25%;margin:-20px 0}.source-viewer-measures-section-big{width:50%}.source-viewer-measures-section-full{width:100%}.source-viewer-measures-section+.source-viewer-measures-section-full{margin-top:20px}.source-viewer-measures-card{margin:20px 10px;padding:10px;border:1px solid #e6e6e6;background-color:#fff}.source-viewer-measures-card-overflow{overflow:auto}.source-viewer-measures-card-fixed-height{max-height:36vh;overflow-y:scroll}.source-viewer-tests-list{width:100%;font-size:13px}.source-viewer-test-covered-lines,.source-viewer-test-duration,.source-viewer-test-status{width:1px}.source-viewer-test-covered-lines,.source-viewer-test-covered-name,.source-viewer-test-duration,.source-viewer-test-status{vertical-align:middle;padding:3px}.source-viewer-test-name{padding-left:10px;word-break:break-all}.source-viewer-test-covered-lines{text-align:right}.source-viewer-issue-location{max-width:200px;margin-right:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.source-viewer-flow-location+.source-viewer-flow-location{z-index:504}.source-line-issue-locations{float:right;margin-right:-10px}.source-line-issue-locations:empty{display:none}.source-viewer-more-code{padding:40px 0;border-bottom:1px solid #e6e6e6;background-color:#f3f3f3;text-align:center}.source-viewer-more-code .spinner{top:-1px}.source-table+.source-viewer-more-code{border-bottom:none;border-top:1px solid #e6e6e6}.source-viewer-bubble-popup{font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;font-size:13px;text-align:left}.issue-location{display:inline-block;vertical-align:top;line-height:18px;height:18px;box-sizing:border-box;background-color:#ffeaea;transition:background-color .3s ease}.issue-location.highlighted{border-color:#e1e1f2;background-color:#e1e1f2}.issue-location.selected{border-color:#f4b1b0;background-color:#f4b1b0}.measures+.measures{margin-top:15px;padding-top:15px;border-top:1px solid #e6e6e6}.measures-chart{display:inline-block;vertical-align:middle;width:70px;margin-right:20px;text-align:center}.measures-chart .rating{font-size:32px}.measure{line-height:1.3333333333333}.measure-name{display:block;font-size:13px}.measure-value{color:#236a97;font-size:16px;font-weight:400}.measure-big{display:inline-block;vertical-align:middle}.measure-big .measure-name{margin-top:2px;font-size:15px;font-weight:400}.measure-big .measure-value,.measure-big .rating{font-size:22px}.measure-big+.measure-big{margin-left:20px}.measure-one-line:after,.measure-one-line:before{display:table;content:\\\"\\\";line-height:0}.measure-one-line:after{clear:both}.measure-one-line .measure-name{float:left}.measure-one-line .measure-value{float:right}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\ninterface OwnProps {\n  medium?: boolean;\n  large?: boolean;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & OwnProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', { 'modal-medium': props.medium, 'modal-large': props.large })}\n      isOpen={true}\n      overlayClassName=\"modal-overlay\"\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  // eslint-disable-next-line camelcase\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\ninterface Props {\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: Props) {\n  const formatted = formatMeasure(props.level, 'LEVEL', null);\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n  return <span className={className}>{formatted}</span>;\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\nimport { Period, PeriodMode, PeriodMeasure } from '../app/types';\n\nfunction getPeriod<T extends Period | PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends Period | PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === PeriodMode.PreviousVersion && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === PeriodMode.Date && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#e00}a .rating-E{border-bottom-color:#e00}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:18px;line-height:18px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { Metric, Measure, MeasureEnhanced } from '../../app/types';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: Measure,\n  metrics: { [key: string]: Metric }\n): MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  favorite: boolean;\n}\n\nexport default function FavoriteIcon({ className, favorite, fill = theme.orange, size }: Props) {\n  return (\n    <Icon\n      className={classNames('icon-outline', { 'is-filled': favorite }, className)}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.988024,0,0,0.988024,0.0957953,0.717719)\">\n        <path d=\"M15.428,5.777C15.428,5.908 15.35,6.051 15.195,6.205L11.954,9.366L12.722,13.83C12.728,13.872 12.731,13.932 12.731,14.009C12.731,14.134 12.7,14.24 12.637,14.326C12.575,14.412 12.484,14.455 12.365,14.455C12.252,14.455 12.133,14.42 12.008,14.348L7.999,12.241L3.99,14.348C3.859,14.42 3.74,14.455 3.633,14.455C3.508,14.455 3.414,14.412 3.352,14.326C3.289,14.24 3.258,14.134 3.258,14.009C3.258,13.973 3.264,13.914 3.276,13.83L4.044,9.366L0.794,6.205C0.645,6.045 0.57,5.902 0.57,5.777C0.57,5.557 0.737,5.42 1.07,5.366L5.552,4.714L7.561,0.652C7.674,0.408 7.82,0.286 7.999,0.286C8.177,0.286 8.323,0.408 8.436,0.652L10.445,4.714L14.927,5.366C15.261,5.42 15.427,5.557 15.427,5.777L15.428,5.777Z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport FavoriteIcon from '../icons-components/FavoriteIcon';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  addFavorite: () => Promise<void>;\n  className?: string;\n  favorite: boolean;\n  qualifier: string;\n  removeFavorite: () => Promise<void>;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class FavoriteBase extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { favorite: this.props.favorite };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.favorite !== this.props.favorite || nextProps.favorite !== this.state.favorite) {\n      this.setState({ favorite: nextProps.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.state.favorite) {\n      this.removeFavorite();\n    } else {\n      this.addFavorite();\n    }\n  };\n\n  addFavorite() {\n    this.props.addFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  removeFavorite() {\n    this.props.removeFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: false });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const tooltip = this.state.favorite\n      ? translate('favorite.current', this.props.qualifier)\n      : translate('favorite.check', this.props.qualifier);\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames('display-inline-block', 'link-no-underline', this.props.className)}\n          href=\"#\"\n          onClick={this.toggleFavorite}>\n          <FavoriteIcon favorite={this.state.favorite} />\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteBase from './FavoriteBase';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n}\n\nexport default function Favorite({ component, ...other }: Props) {\n  return (\n    <FavoriteBase\n      {...other}\n      addFavorite={() => addFavorite(component)}\n      removeFavorite={() => removeFavorite(component)}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON } from '../helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\n\nconst DonutChart = lazyLoad(() => import('../charts/DonutChart'));\n\nconst SIZE_TO_WIDTH_MAPPING = { xs: 12, small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { xs: 2, small: 2, normal: 3, big: 3, huge: 4 };\n\ninterface Props {\n  muted?: boolean;\n  size?: 'xs' | 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({ muted = false, size = 'normal', value }: Props) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? theme.gray71 : theme.green },\n      { value: 100 - numberValue, fill: muted ? theme.barBackgroundColor : theme.red }\n    ];\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return <DonutChart data={data} height={width} thickness={thickness} width={width} />;\n}\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { inRange } from 'lodash';\nimport './DuplicationsRating.css';\n\ninterface Props {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number;\n}\n\nexport default function DuplicationsRating({ muted = false, size = 'normal', value }: Props) {\n  const className = classNames('duplications-rating', {\n    'duplications-rating-small': size === 'small',\n    'duplications-rating-big': size === 'big',\n    'duplications-rating-huge': size === 'huge',\n    'duplications-rating-muted': muted,\n    'duplications-rating-A': inRange(value, 0, 3),\n    'duplications-rating-B': inRange(value, 3, 5),\n    'duplications-rating-C': inRange(value, 5, 10),\n    'duplications-rating-D': inRange(value, 10, 20),\n    'duplications-rating-E': value >= 20\n  });\n\n  return <div className={className} />;\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".duplications-rating{position:relative;display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:24px;height:24px;border:3px solid #ed7d20;border-radius:24px;box-sizing:border-box}.duplications-rating-small{width:16px;height:16px;border-width:2px}.duplications-rating-big{width:40px;height:40px;border-width:3px}.duplications-rating-huge{width:60px;height:60px;border-width:4px;border-radius:30px}.duplications-rating-muted{border-color:#bdbdbd!important}.duplications-rating-muted:after{background-color:#bdbdbd!important}.duplications-rating:after{border-radius:24px;content:\\\"\\\"}.duplications-rating-A{border-color:#0a0}.duplications-rating-A:after{display:none}.duplications-rating-B{border-color:#b0d513}.duplications-rating-B:after{width:6px;height:6px;background-color:#b0d513}.duplications-rating-small.duplications-rating-B:after{width:2px;height:2px}.duplications-rating-big.duplications-rating-B:after{width:12px;height:12px}.duplications-rating-huge.duplications-rating-B:after{width:18px;height:18px}.duplications-rating-C{border-color:#eabe06}.duplications-rating-C:after{width:8px;height:8px;background-color:#eabe06}.duplications-rating-small.duplications-rating-C:after{width:6px;height:6px}.duplications-rating-big.duplications-rating-C:after{width:16px;height:16px}.duplications-rating-huge.duplications-rating-C:after{width:24px;height:24px}.duplications-rating-D{border-color:#ed7d20}.duplications-rating-D:after{width:12px;height:12px;background-color:#ed7d20}.duplications-rating-small.duplications-rating-D:after{width:8px;height:8px}.duplications-rating-big.duplications-rating-D:after{width:24px;height:24px}.duplications-rating-huge.duplications-rating-D:after{width:36px;height:36px}.duplications-rating-E{border-color:#d4333f}.duplications-rating-E:after{width:14px;height:14px;background-color:#d4333f}.duplications-rating-small.duplications-rating-E:after{width:10px;height:10px}.duplications-rating-big.duplications-rating-E:after{width:28px;height:28px}.duplications-rating-huge.duplications-rating-E:after{width:42px;height:42px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DuplicationsRating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DuplicationsRating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DuplicationsRating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\ninterface Props {\n  className?: string;\n  status: string;\n}\n\nconst statusIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  open: OpenStatusIcon,\n  confirmed: ConfirmedStatusIcon,\n  reopened: ReopenedStatusIcon,\n  resolved: ResolvedStatusIcon,\n  closed: ClosedStatusIcon\n};\n\nexport default function StatusIcon(props: Props) {\n  const status = props.status.toLowerCase();\n  const Icon = statusIcons[status];\n  return Icon ? <Icon className={props.className} /> : null;\n}\n\nfunction OpenStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ConfirmedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ReopenedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ResolvedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n\nfunction ClosedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from '../icons-components/StatusIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Metric } from '../../../app/types';\nimport Measure from '../../measure/Measure';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { getLocalizedMetricName } from '../../../helpers/l10n';\n\nexport interface MeasureWithMetric {\n  metric: Metric;\n  value?: string;\n}\n\ninterface Props {\n  measure: MeasureWithMetric;\n}\n\nexport default function MeasuresOverlayMeasure({ measure }: Props) {\n  return (\n    <div\n      className=\"measure measure-one-line\"\n      data-metric={measure.metric.key}\n      key={measure.metric.key}>\n      <span className=\"measure-name\">\n        {['bugs', 'vulnerabilities', 'code_smells'].includes(measure.metric.key) && (\n          <IssueTypeIcon className=\"little-spacer-right\" query={measure.metric.key} />\n        )}\n        {getLocalizedMetricName(measure.metric)}\n      </span>\n      <span className=\"measure-value\">\n        <Measure\n          metricKey={measure.metric.key}\n          metricType={measure.metric.type}\n          small={true}\n          value={measure.value}\n        />\n      </span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getCoveredFiles } from '../../../api/tests';\nimport { TestCase, CoveredFile } from '../../../app/types';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport DeferredSpinner from '../../common/DeferredSpinner';\n\ninterface Props {\n  testCase: TestCase;\n}\n\ninterface State {\n  coveredFiles?: CoveredFile[];\n  loading: boolean;\n}\n\nexport default class MeasuresOverlayCoveredFiles extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchCoveredFiles();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.testCase.id !== prevProps.testCase.id) {\n      this.fetchCoveredFiles();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchCoveredFiles = () => {\n    this.setState({ loading: true });\n    getCoveredFiles({ testId: this.props.testCase.id }).then(\n      coveredFiles => {\n        if (this.mounted) {\n          this.setState({ coveredFiles, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { testCase } = this.props;\n    const { loading, coveredFiles } = this.state;\n\n    return (\n      <div className=\"source-viewer-measures-section source-viewer-measures-section-big js-selected-test\">\n        <DeferredSpinner loading={loading}>\n          <div className=\"source-viewer-measures-card source-viewer-measures-card-fixed-height\">\n            {testCase.status !== 'ERROR' &&\n              testCase.status !== 'FAILURE' &&\n              coveredFiles !== undefined && (\n                <>\n                  <h6 className=\"spacer-bottom\">\n                    {translate('component_viewer.transition.covers')}\n                  </h6>\n                  {coveredFiles.length > 0\n                    ? coveredFiles.map(coveredFile => (\n                        <div className=\"spacer-top\" key={coveredFile.key}>\n                          <Link to={getProjectUrl(coveredFile.key)}>{coveredFile.longName}</Link>\n                          <span className=\"note spacer-left\">\n                            {translateWithParameters(\n                              'component_viewer.x_lines_are_covered',\n                              coveredFile.coveredLines\n                            )}\n                          </span>\n                        </div>\n                      ))\n                    : translate('none')}\n                </>\n              )}\n\n            {testCase.status !== 'OK' && (\n              <>\n                <h6 className=\"spacer-bottom\">{translate('component_viewer.details')}</h6>\n                {testCase.message && <pre>{testCase.message}</pre>}\n                <pre>{testCase.stacktrace}</pre>\n              </>\n            )}\n          </div>\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Paging, TestCase, CoveredFile, BranchParameters } from '../app/types';\nimport { getJSON } from '../helpers/request';\n\nexport function getTests(\n  parameters: {\n    p?: number;\n    ps?: number;\n    sourceFileKey?: string;\n    sourceFileLineNumber?: number;\n    testFileKey: string;\n    testId?: string;\n  } & BranchParameters\n): Promise<{ paging: Paging; tests: TestCase[] }> {\n  return getJSON('/api/tests/list', parameters).catch(throwGlobalError);\n}\n\nexport function getCoveredFiles(data: { testId: string }): Promise<CoveredFile[]> {\n  return getJSON('/api/tests/covered_files', data).then(r => r.files, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\ninterface Props {\n  className?: string;\n  status: string;\n}\n\nconst statusIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  ok: OkTestStatusIcon,\n  failure: FailureTestStatusIcon,\n  error: ErrorTestStatusIcon,\n  skipped: SkippedTestStatusIcon\n};\n\nexport default function TestStatusIcon(props: Props) {\n  const status = props.status.toLowerCase();\n  const Icon = statusIcons[status];\n  return Icon ? <Icon className={props.className} /> : null;\n}\n\nfunction OkTestStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.green }}\n      />\n    </Icon>\n  );\n}\n\nfunction FailureTestStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 14c-3.311 0-6-2.689-6-6s2.689-6 6-6 6 2.689 6 6-2.689 6-6 6zM7 9h2V4H7v5zm0 3h2v-2H7v2z\"\n        style={{ fill: theme.orange, fillRule: 'nonzero' }}\n      />\n    </Icon>\n  );\n}\n\nfunction ErrorTestStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10.977 9.766a.497.497 0 0 0-.149-.352L9.414 8l1.414-1.414a.497.497 0 0 0 0-.711l-.703-.703a.497.497 0 0 0-.71 0L8 6.586 6.586 5.172a.497.497 0 0 0-.711 0l-.703.703a.497.497 0 0 0 0 .71L6.586 8 5.172 9.414a.497.497 0 0 0 0 .711l.703.703a.497.497 0 0 0 .71 0L8 9.414l1.414 1.414a.497.497 0 0 0 .711 0l.703-.703a.515.515 0 0 0 .149-.36zM14 8c0 3.313-2.688 6-6 6-3.313 0-6-2.688-6-6 0-3.313 2.688-6 6-6 3.313 0 6 2.688 6 6z\"\n        style={{ fill: theme.red, fillRule: 'nonzero' }}\n      />\n    </Icon>\n  );\n}\n\nfunction SkippedTestStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.5 8.5v-1c0-.273-.227-.5-.5-.5H5c-.273 0-.5.227-.5.5v1c0 .273.227.5.5.5h6c.273 0 .5-.227.5-.5zM14 8c0 3.313-2.688 6-6 6-3.313 0-6-2.688-6-6 0-3.313 2.688-6 6-6 3.313 0 6 2.688 6 6z\"\n        style={{ fill: theme.gray71, fillRule: 'nonzero' }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { TestCase } from '../../../app/types';\nimport TestStatusIcon from '../../icons-components/TestStatusIcon';\n\ninterface Props {\n  onClick: (testId: string) => void;\n  testCase: TestCase;\n}\n\nexport default class MeasuresOverlayTestCase extends React.PureComponent<Props> {\n  handleTestCaseClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.testCase.id);\n  };\n\n  render() {\n    const { testCase } = this.props;\n    const { status } = testCase;\n    const hasAdditionalData = status !== 'OK' || (status === 'OK' && testCase.coveredLines);\n\n    return (\n      <tr>\n        <td className=\"source-viewer-test-status\">\n          <TestStatusIcon status={status} />\n        </td>\n        <td className=\"source-viewer-test-duration note\">\n          {status !== 'SKIPPED' && `${testCase.durationInMs}ms`}\n        </td>\n        <td className=\"source-viewer-test-name\">\n          {hasAdditionalData ? (\n            <a className=\"js-show-test\" href=\"#\" onClick={this.handleTestCaseClick}>\n              {testCase.name}\n            </a>\n          ) : (\n            testCase.name\n          )}\n        </td>\n        <td className=\"source-viewer-test-covered-lines note\">{testCase.coveredLines}</td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { orderBy } from 'lodash';\nimport MeasuresOverlayCoveredFiles from './MeasuresOverlayCoveredFiles';\nimport MeasuresOverlayTestCase from './MeasuresOverlayTestCase';\nimport { getTests } from '../../../api/tests';\nimport { TestCase, BranchLike } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n}\n\ninterface State {\n  loading: boolean;\n  selectedTestId?: string;\n  sort?: string;\n  sortAsc?: boolean;\n  testCases?: TestCase[];\n}\n\nexport default class MeasuresOverlayTestCases extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchTests();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.branchLike !== this.props.branchLike ||\n      prevProps.componentKey !== this.props.componentKey\n    ) {\n      this.fetchTests();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchTests = () => {\n    // TODO implement pagination one day...\n    this.setState({ loading: true });\n    getTests({\n      ps: 500,\n      testFileKey: this.props.componentKey,\n      ...getBranchLikeQuery(this.props.branchLike)\n    }).then(\n      ({ tests: testCases }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, testCases });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleTestCasesSortClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { sort } = event.currentTarget.dataset;\n    if (sort) {\n      this.setState((state: State) => ({\n        sort,\n        sortAsc: sort === state.sort ? !state.sortAsc : true\n      }));\n    }\n  };\n\n  handleTestCaseClick = (selectedTestId: string) => {\n    this.setState({ selectedTestId });\n  };\n\n  render() {\n    const { selectedTestId, sort = 'name', sortAsc = true, testCases } = this.state;\n\n    if (!testCases) {\n      return null;\n    }\n\n    const selectedTest = testCases.find(test => test.id === selectedTestId);\n\n    return (\n      <div className=\"source-viewer-measures\">\n        <div className=\"source-viewer-measures-section source-viewer-measures-section-big\">\n          <div className=\"source-viewer-measures-card source-viewer-measures-card-fixed-height js-test-list\">\n            <div className=\"measures\">\n              <table className=\"source-viewer-tests-list\">\n                <tbody>\n                  <tr>\n                    <td className=\"source-viewer-test-status note\" colSpan={3}>\n                      {translate('component_viewer.measure_section.unit_tests')}\n                      <br />\n                      <span className=\"spacer-right\">\n                        {translate('component_viewer.tests.ordered_by')}\n                      </span>\n                      <a\n                        className={classNames('js-sort-tests-by-duration', {\n                          'active-link': sort === 'duration'\n                        })}\n                        data-sort=\"duration\"\n                        href=\"#\"\n                        onClick={this.handleTestCasesSortClick}>\n                        {translate('component_viewer.tests.duration')}\n                      </a>\n                      <span className=\"slash-separator\" />\n                      <a\n                        className={classNames('js-sort-tests-by-name', {\n                          'active-link': sort === 'name'\n                        })}\n                        data-sort=\"name\"\n                        href=\"#\"\n                        onClick={this.handleTestCasesSortClick}>\n                        {translate('component_viewer.tests.test_name')}\n                      </a>\n                      <span className=\"slash-separator\" />\n                      <a\n                        className={classNames('js-sort-tests-by-status', {\n                          'active-link': sort === 'status'\n                        })}\n                        data-sort=\"status\"\n                        href=\"#\"\n                        onClick={this.handleTestCasesSortClick}>\n                        {translate('component_viewer.tests.status')}\n                      </a>\n                    </td>\n                    <td className=\"source-viewer-test-covered-lines note\">\n                      {translate('component_viewer.covered_lines')}\n                    </td>\n                  </tr>\n                  {sortTestCases(testCases, sort, sortAsc).map(testCase => (\n                    <MeasuresOverlayTestCase\n                      key={testCase.id}\n                      onClick={this.handleTestCaseClick}\n                      testCase={testCase}\n                    />\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        {selectedTest && <MeasuresOverlayCoveredFiles testCase={selectedTest} />}\n      </div>\n    );\n  }\n}\n\nfunction sortTestCases(testCases: TestCase[], sort: string, sortAsc: boolean) {\n  const mainOrder = sortAsc ? 'asc' : 'desc';\n  if (sort === 'duration') {\n    return orderBy(testCases, ['durationInMs', 'name'], [mainOrder, 'asc']);\n  } else if (sort === 'status') {\n    return orderBy(testCases, ['status', 'name'], [mainOrder, 'asc']);\n  } else {\n    return orderBy(testCases, ['name'], [mainOrder]);\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { keyBy, sortBy, groupBy } from 'lodash';\nimport MeasuresOverlayMeasure from './MeasuresOverlayMeasure';\nimport MeasuresOverlayTestCases from './MeasuresOverlayTestCases';\nimport { Button } from '../../ui/buttons';\nimport { getFacets } from '../../../api/issues';\nimport { getMeasures } from '../../../api/measures';\nimport { getAllMetrics } from '../../../api/metrics';\nimport {\n  FacetValue,\n  SourceViewerFile,\n  BranchLike,\n  MeasureEnhanced,\n  IssueType\n} from '../../../app/types';\nimport Modal from '../../controls/Modal';\nimport Measure from '../../measure/Measure';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport CoverageRating from '../../ui/CoverageRating';\nimport DuplicationsRating from '../../ui/DuplicationsRating';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { SEVERITIES, ISSUE_TYPES } from '../../../helpers/constants';\nimport { translate, getLocalizedMetricName } from '../../../helpers/l10n';\nimport {\n  formatMeasure,\n  getDisplayMetrics,\n  enhanceMeasuresWithMetrics\n} from '../../../helpers/measures';\nimport { getBranchLikeUrl } from '../../../helpers/urls';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport TagsIcon from '../../icons-components/TagsIcon';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  onClose: () => void;\n  sourceViewerFile: SourceViewerFile;\n}\n\ninterface Measures {\n  [metricKey: string]: MeasureEnhanced;\n}\n\ninterface State {\n  loading: boolean;\n  measures: Measures;\n  severitiesFacet?: FacetValue[];\n  showAllMeasures: boolean;\n  tagsFacet?: FacetValue[];\n  typesFacet?: FacetValue<IssueType>[];\n}\n\nexport default class MeasuresOverlay extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true, measures: {}, showAllMeasures: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData = () => {\n    Promise.all([this.fetchMeasures(), this.fetchIssues()]).then(\n      ([measures, facets]) => {\n        if (this.mounted) {\n          this.setState({ loading: false, measures, ...facets });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  fetchMeasures = () => {\n    return getAllMetrics().then(metrics => {\n      const metricKeys = getDisplayMetrics(metrics).map(metric => metric.key);\n\n      // eslint-disable-next-line promise/no-nesting\n      return getMeasures({\n        componentKey: this.props.sourceViewerFile.key,\n        metricKeys: metricKeys.join(),\n        ...getBranchLikeQuery(this.props.branchLike)\n      }).then(measures => {\n        const withMetrics = enhanceMeasuresWithMetrics(measures, metrics).filter(\n          measure => measure.metric\n        );\n        return keyBy(withMetrics, measure => measure.metric.key);\n      });\n    });\n  };\n\n  fetchIssues = () => {\n    return getFacets(\n      {\n        componentKeys: this.props.sourceViewerFile.key,\n        resolved: 'false',\n        ...getBranchLikeQuery(this.props.branchLike)\n      },\n      ['types', 'severities', 'tags']\n    ).then(({ facets }) => {\n      const severitiesFacet = facets.find(f => f.property === 'severities');\n      const tagsFacet = facets.find(f => f.property === 'tags');\n      const typesFacet = facets.find(f => f.property === 'types');\n      return {\n        severitiesFacet: severitiesFacet && severitiesFacet.values,\n        tagsFacet: tagsFacet && tagsFacet.values,\n        typesFacet: typesFacet && (typesFacet.values as FacetValue<IssueType>[])\n      };\n    });\n  };\n\n  handleAllMeasuresClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ showAllMeasures: true });\n  };\n\n  renderMeasure = (measure: MeasureEnhanced | undefined) => {\n    return measure ? <MeasuresOverlayMeasure key={measure.metric.key} measure={measure} /> : null;\n  };\n\n  renderLines = () => {\n    const { measures } = this.state;\n\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(measures.lines)}\n              {this.renderMeasure(measures.ncloc)}\n              {this.renderMeasure(measures.comment_lines)}\n              {this.renderMeasure(measures.comment_lines_density)}\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(measures.cognitive_complexity)}\n              {this.renderMeasure(measures.complexity)}\n              {this.renderMeasure(measures.function_complexity)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderBigMeasure = (measure: MeasureEnhanced | undefined) => {\n    return measure ? (\n      <div className=\"measure measure-big\" data-metric={measure.metric.key}>\n        <span className=\"measure-value\">\n          <Measure\n            metricKey={measure.metric.key}\n            metricType={measure.metric.type}\n            value={measure.value}\n          />\n        </span>\n        <span className=\"measure-name\">{getLocalizedMetricName(measure.metric, true)}</span>\n      </div>\n    ) : null;\n  };\n\n  renderIssues = () => {\n    const { measures, severitiesFacet, tagsFacet, typesFacet } = this.state;\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            {this.renderBigMeasure(measures.violations)}\n            {this.renderBigMeasure(measures.sqale_index)}\n          </div>\n          {measures.violations &&\n            !!measures.violations.value && (\n              <>\n                {typesFacet && (\n                  <div className=\"measures\">\n                    <div className=\"measures-list\">\n                      {sortBy(typesFacet, f => ISSUE_TYPES.indexOf(f.val)).map(f => (\n                        <div className=\"measure measure-one-line\" key={f.val}>\n                          <span className=\"measure-name\">\n                            <IssueTypeIcon className=\"little-spacer-right\" query={f.val} />\n                            {translate('issue.type', f.val)}\n                          </span>\n                          <span className=\"measure-value\">\n                            {formatMeasure(f.count, 'SHORT_INT')}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                {severitiesFacet && (\n                  <div className=\"measures\">\n                    <div className=\"measures-list\">\n                      {sortBy(severitiesFacet, f => SEVERITIES.indexOf(f.val)).map(f => (\n                        <div className=\"measure measure-one-line\" key={f.val}>\n                          <span className=\"measure-name\">\n                            <SeverityHelper severity={f.val} />\n                          </span>\n                          <span className=\"measure-value\">\n                            {formatMeasure(f.count, 'SHORT_INT')}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                {tagsFacet && (\n                  <div className=\"measures\">\n                    <div className=\"measures-list\">\n                      {tagsFacet.map(f => (\n                        <div className=\"measure measure-one-line\" key={f.val}>\n                          <span className=\"measure-name\">\n                            <TagsIcon className=\"little-spacer-right\" />\n                            {f.val}\n                          </span>\n                          <span className=\"measure-value\">\n                            {formatMeasure(f.count, 'SHORT_INT')}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </>\n            )}\n        </div>\n      </div>\n    );\n  };\n\n  renderCoverage = () => {\n    const { coverage } = this.state.measures;\n    if (!coverage) {\n      return null;\n    }\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            <div className=\"measures-chart\">\n              <CoverageRating size=\"big\" value={coverage.value} />\n            </div>\n            <div className=\"measure measure-big\" data-metric={coverage.metric.key}>\n              <span className=\"measure-value\">\n                <Measure\n                  metricKey={coverage.metric.key}\n                  metricType={coverage.metric.type}\n                  value={coverage.value}\n                />\n              </span>\n              <span className=\"measure-name\">{getLocalizedMetricName(coverage.metric)}</span>\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(this.state.measures.uncovered_lines)}\n              {this.renderMeasure(this.state.measures.lines_to_cover)}\n              {this.renderMeasure(this.state.measures.uncovered_conditions)}\n              {this.renderMeasure(this.state.measures.conditions_to_cover)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderDuplications = () => {\n    const { duplicated_lines_density: duplications } = this.state.measures;\n    if (!duplications) {\n      return null;\n    }\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            <div className=\"measures-chart\">\n              <DuplicationsRating\n                muted={duplications.value === undefined}\n                size=\"big\"\n                value={Number(duplications.value || 0)}\n              />\n            </div>\n            <div className=\"measure measure-big\" data-metric={duplications.metric.key}>\n              <span className=\"measure-value\">\n                <Measure\n                  metricKey={duplications.metric.key}\n                  metricType={duplications.metric.type}\n                  value={duplications.value}\n                />\n              </span>\n              <span className=\"measure-name\">\n                {getLocalizedMetricName(duplications.metric, true)}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(this.state.measures.duplicated_blocks)}\n              {this.renderMeasure(this.state.measures.duplicated_lines)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderTests = () => {\n    const { measures } = this.state;\n    return (\n      <div className=\"source-viewer-measures\">\n        <div className=\"source-viewer-measures-section\">\n          <div className=\"source-viewer-measures-card\">\n            <div className=\"measures\">\n              <div className=\"measures-list\">\n                {this.renderMeasure(measures.tests)}\n                {this.renderMeasure(measures.test_success_density)}\n                {this.renderMeasure(measures.test_failures)}\n                {this.renderMeasure(measures.test_errors)}\n                {this.renderMeasure(measures.skipped_tests)}\n                {this.renderMeasure(measures.test_execution_time)}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderDomain = (domain: string, measures: MeasureEnhanced[]) => {\n    return (\n      <div className=\"source-viewer-measures-card\" key={domain}>\n        <div className=\"measures\">\n          <div className=\"measures-list\">\n            <div className=\"measure measure-one-line measure-big\">\n              <span className=\"measure-name\">{domain}</span>\n            </div>\n            {sortBy(measures.filter(measure => measure.value !== undefined), measure =>\n              getLocalizedMetricName(measure.metric)\n            ).map(measure => this.renderMeasure(measure))}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderAllMeasures = () => {\n    const domains = groupBy(Object.values(this.state.measures), measure => measure.metric.domain);\n    const domainKeys = Object.keys(domains);\n    const odd = domainKeys.filter((_, index) => index % 2 === 1);\n    const even = domainKeys.filter((_, index) => index % 2 === 0);\n    return (\n      <div className=\"source-viewer-measures source-viewer-measures-secondary js-all-measures\">\n        <div className=\"source-viewer-measures-section source-viewer-measures-section-big\">\n          {odd.map(domain => this.renderDomain(domain, domains[domain]))}\n        </div>\n        <div className=\"source-viewer-measures-section source-viewer-measures-section-big\">\n          {even.map(domain => this.renderDomain(domain, domains[domain]))}\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { branchLike, sourceViewerFile } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <Modal contentLabel=\"\" large={true} onRequestClose={this.props.onClose}>\n        <div className=\"modal-container source-viewer-measures-modal\">\n          <div className=\"source-viewer-header-component source-viewer-measures-component\">\n            <div className=\"source-viewer-header-component-project\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n              <Link to={getBranchLikeUrl(sourceViewerFile.project, branchLike)}>\n                {sourceViewerFile.projectName}\n              </Link>\n\n              {sourceViewerFile.subProject && (\n                <>\n                  <QualifierIcon className=\"big-spacer-left little-spacer-right\" qualifier=\"BRC\" />\n                  <Link to={getBranchLikeUrl(sourceViewerFile.subProject, branchLike)}>\n                    {sourceViewerFile.subProjectName}\n                  </Link>\n                </>\n              )}\n            </div>\n\n            <div className=\"source-viewer-header-component-name\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier={sourceViewerFile.q} />\n              {sourceViewerFile.path}\n            </div>\n          </div>\n\n          {loading ? (\n            <i className=\"spinner\" />\n          ) : (\n            <>\n              {sourceViewerFile.q === 'UTS' ? (\n                <>\n                  {this.renderTests()}\n                  <MeasuresOverlayTestCases\n                    branchLike={branchLike}\n                    componentKey={sourceViewerFile.key}\n                  />\n                </>\n              ) : (\n                <div className=\"source-viewer-measures\">\n                  {this.renderLines()}\n                  {this.renderIssues()}\n                  {this.renderCoverage()}\n                  {this.renderDuplications()}\n                </div>\n              )}\n            </>\n          )}\n\n          <div className=\"spacer-top\">\n            {this.state.showAllMeasures ? (\n              this.renderAllMeasures()\n            ) : (\n              <a className=\"js-show-all-measures\" href=\"#\" onClick={this.handleAllMeasuresClick}>\n                {translate('component_viewer.show_all_measures')}\n              </a>\n            )}\n          </div>\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"button-link\" onClick={this.props.onClose}>\n            {translate('close')}\n          </Button>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as PropTypes from 'prop-types';\nimport MeasuresOverlay from './components/MeasuresOverlay';\nimport { SourceViewerFile, BranchLike } from '../../app/types';\nimport QualifierIcon from '../icons-components/QualifierIcon';\nimport Dropdown from '../controls/Dropdown';\nimport Favorite from '../controls/Favorite';\nimport ListIcon from '../icons-components/ListIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { PopupPlacement } from '../ui/popups';\nimport { WorkspaceContext } from '../workspace/context';\nimport {\n  getPathUrlAsString,\n  getBranchLikeUrl,\n  getComponentIssuesUrl,\n  getBaseUrl\n} from '../../helpers/urls';\nimport { collapsedDirFromPath, fileFromPath } from '../../helpers/path';\nimport { translate } from '../../helpers/l10n';\nimport { getBranchLikeQuery, isMainBranch } from '../../helpers/branches';\nimport { formatMeasure } from '../../helpers/measures';\nimport { omitNil } from '../../helpers/request';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  sourceViewerFile: SourceViewerFile;\n}\n\ninterface State {\n  measuresOverlay: boolean;\n}\n\nexport default class SourceViewerHeader extends React.PureComponent<Props, State> {\n  context!: { workspace: WorkspaceContext };\n\n  static contextTypes = {\n    workspace: PropTypes.object.isRequired\n  };\n\n  state: State = { measuresOverlay: false };\n\n  handleShowMeasuresClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ measuresOverlay: true });\n  };\n\n  handleMeasuresOverlayClose = () => {\n    this.setState({ measuresOverlay: false });\n  };\n\n  openInWorkspace = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    const { key } = this.props.sourceViewerFile;\n    this.context.workspace.openComponent({ branchLike: this.props.branchLike, key });\n  };\n\n  render() {\n    const {\n      key,\n      measures,\n      path,\n      project,\n      projectName,\n      q,\n      subProject,\n      subProjectName,\n      uuid\n    } = this.props.sourceViewerFile;\n    const isUnitTest = q === 'UTS';\n    const workspace = false;\n    const rawSourcesLink =\n      getBaseUrl() +\n      '/api/sources/raw?' +\n      stringify(omitNil({ key, ...getBranchLikeQuery(this.props.branchLike) }));\n\n    // TODO favorite\n    return (\n      <div className=\"source-viewer-header\">\n        <div className=\"source-viewer-header-component\">\n          <div className=\"component-name\">\n            <div className=\"component-name-parent\">\n              <a\n                className=\"link-with-icon\"\n                href={getPathUrlAsString(getBranchLikeUrl(project, this.props.branchLike))}>\n                <QualifierIcon qualifier=\"TRK\" /> <span>{projectName}</span>\n              </a>\n            </div>\n\n            {subProject != null && (\n              <div className=\"component-name-parent\">\n                <a\n                  className=\"link-with-icon\"\n                  href={getPathUrlAsString(getBranchLikeUrl(subProject, this.props.branchLike))}>\n                  <QualifierIcon qualifier=\"BRC\" /> <span>{subProjectName}</span>\n                </a>\n              </div>\n            )}\n\n            <div className=\"component-name-path\">\n              <QualifierIcon qualifier={q} /> <span>{collapsedDirFromPath(path)}</span>\n              <span className=\"component-name-file\">{fileFromPath(path)}</span>\n              {this.props.sourceViewerFile.canMarkAsFavorite &&\n                (!this.props.branchLike || isMainBranch(this.props.branchLike)) && (\n                  <Favorite\n                    className=\"component-name-favorite\"\n                    component={key}\n                    favorite={this.props.sourceViewerFile.fav || false}\n                    qualifier={this.props.sourceViewerFile.q}\n                  />\n                )}\n            </div>\n          </div>\n        </div>\n\n        <Dropdown\n          className=\"source-viewer-header-actions\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a className=\"js-measures\" href=\"#\" onClick={this.handleShowMeasuresClick}>\n                  {translate('component_viewer.show_details')}\n                </a>\n              </li>\n              <li>\n                <a\n                  className=\"js-new-window\"\n                  href={getPathUrlAsString({\n                    pathname: '/component',\n                    query: { id: key, ...getBranchLikeQuery(this.props.branchLike) }\n                  })}\n                  target=\"_blank\">\n                  {translate('component_viewer.new_window')}\n                </a>\n              </li>\n              {!workspace && (\n                <li>\n                  <a className=\"js-workspace\" href=\"#\" onClick={this.openInWorkspace}>\n                    {translate('component_viewer.open_in_workspace')}\n                  </a>\n                </li>\n              )}\n              <li>\n                <a className=\"js-raw-source\" href={rawSourcesLink} target=\"_blank\">\n                  {translate('component_viewer.show_raw_source')}\n                </a>\n              </li>\n            </ul>\n          }\n          overlayPlacement={PopupPlacement.BottomRight}>\n          <ButtonIcon className=\"js-actions\">\n            <ListIcon />\n          </ButtonIcon>\n        </Dropdown>\n\n        {this.state.measuresOverlay && (\n          <MeasuresOverlay\n            branchLike={this.props.branchLike}\n            onClose={this.handleMeasuresOverlayClose}\n            sourceViewerFile={this.props.sourceViewerFile}\n          />\n        )}\n\n        <div className=\"source-viewer-header-measures\">\n          {isUnitTest && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.tests, 'SHORT_INT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('metric.tests.name')}\n              </span>\n            </div>\n          )}\n\n          {!isUnitTest && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.lines, 'SHORT_INT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('metric.lines.name')}\n              </span>\n            </div>\n          )}\n\n          <div className=\"source-viewer-header-measure\">\n            <span className=\"source-viewer-header-measure-value\">\n              <Link\n                to={getComponentIssuesUrl(project, {\n                  resolved: 'false',\n                  fileUuids: uuid,\n                  ...getBranchLikeQuery(this.props.branchLike)\n                })}>\n                {measures.issues != null ? formatMeasure(measures.issues, 'SHORT_INT') : 0}\n              </Link>\n            </span>\n            <span className=\"source-viewer-header-measure-label\">\n              {translate('metric.violations.name')}\n            </span>\n          </div>\n\n          {measures.coverage != null && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.coverage, 'PERCENT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('metric.coverage.name')}\n              </span>\n            </div>\n          )}\n\n          {measures.duplicationDensity != null && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.duplicationDensity, 'PERCENT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('duplications')}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { BranchLike, SourceLine } from '../../../app/types';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\nimport { translate } from '../../../helpers/l10n';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n  line: SourceLine;\n}\n\nexport default function LineOptionsPopup({ branchLike, componentKey, line }: Props) {\n  const permalink = {\n    pathname: '/component',\n    query: { id: componentKey, line: line.line, ...getBranchLikeQuery(branchLike) }\n  };\n  return (\n    <DropdownOverlay placement={PopupPlacement.RightTop}>\n      <div className=\"source-viewer-bubble-popup nowrap\">\n        <Link className=\"js-get-permalink\" to={permalink}>\n          {translate('component_viewer.get_permalink')}\n        </Link>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LineOptionsPopup from './LineOptionsPopup';\nimport { BranchLike, SourceLine } from '../../../app/types';\nimport Toggler from '../../controls/Toggler';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n  line: SourceLine;\n  onPopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  popupOpen: boolean;\n}\n\nexport default class LineNumber extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'line-number' });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'line-number', open });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { branchLike, componentKey, line, popupOpen } = this.props;\n    const { line: lineNumber } = line;\n    const hasLineNumber = !!lineNumber;\n    return hasLineNumber ? (\n      <td\n        className=\"source-meta source-line-number\"\n        data-line-number={lineNumber}\n        onClick={this.handleClick}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        tabIndex={0}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={\n            <LineOptionsPopup branchLike={branchLike} componentKey={componentKey} line={line} />\n          }\n        />\n      </td>\n    ) : (\n      <td className=\"source-meta source-line-number\" />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { SourceLine } from '../../../app/types';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport DateFormatter from '../../intl/DateFormatter';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  line: SourceLine;\n}\n\nexport default function SCMPopup({ line }: Props) {\n  const hasAuthor = line.scmAuthor !== '';\n  return (\n    <DropdownOverlay placement={PopupPlacement.RightTop}>\n      <div className=\"source-viewer-bubble-popup abs-width-400\">\n        {hasAuthor && <div>{line.scmAuthor}</div>}\n        {line.scmDate && (\n          <div className={classNames({ 'spacer-top': hasAuthor })}>\n            <DateFormatter date={line.scmDate} />\n          </div>\n        )}\n        {line.scmRevision && <div className=\"spacer-top\">{line.scmRevision}</div>}\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SCMPopup from './SCMPopup';\nimport { SourceLine } from '../../../app/types';\nimport Toggler from '../../controls/Toggler';\n\ninterface Props {\n  line: SourceLine;\n  onPopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  popupOpen: boolean;\n  previousLine: SourceLine | undefined;\n}\n\nexport default class LineSCM extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'scm' });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'scm', open });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { line, popupOpen, previousLine } = this.props;\n    const hasPopup = !!line.line;\n    const cell = isSCMChanged(line, previousLine) && (\n      <div className=\"source-line-scm-inner\" data-author={line.scmAuthor || '…'} />\n    );\n    return hasPopup ? (\n      <td\n        className=\"source-meta source-line-scm\"\n        data-line-number={line.line}\n        onClick={this.handleClick}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        tabIndex={0}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={<SCMPopup line={line} />}>\n          {cell}\n        </Toggler>\n      </td>\n    ) : (\n      <td className=\"source-meta source-line-scm\" data-line-number={line.line}>\n        {cell}\n      </td>\n    );\n  }\n}\n\nfunction isSCMChanged(s: SourceLine, p: SourceLine | undefined) {\n  let changed = true;\n  if (p != null && s.scmRevision != null && p.scmRevision != null) {\n    changed = s.scmRevision !== p.scmRevision || s.scmDate !== p.scmDate;\n  }\n  return changed;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { groupBy } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport { getTests } from '../../../api/components';\nimport { BranchLike, SourceLine, TestCase } from '../../../app/types';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport TestStatusIcon from '../../icons-components/TestStatusIcon';\nimport { PopupPlacement } from '../../ui/popups';\nimport { WorkspaceContext } from '../../workspace/context';\nimport { isSameBranchLike, getBranchLikeQuery } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n  line: SourceLine;\n  onClose: () => void;\n}\n\ninterface State {\n  loading: boolean;\n  testCases: TestCase[];\n}\n\nexport default class CoveragePopup extends React.PureComponent<Props, State> {\n  context!: { workspace: WorkspaceContext };\n  mounted = false;\n\n  static contextTypes = {\n    workspace: PropTypes.object.isRequired\n  };\n\n  state: State = { loading: true, testCases: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchTests();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.componentKey !== this.props.componentKey ||\n      prevProps.line.line !== this.props.line.line\n    ) {\n      this.fetchTests();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchTests = () => {\n    this.setState({ loading: true });\n    getTests({\n      sourceFileKey: this.props.componentKey,\n      sourceFileLineNumber: this.props.line.line,\n      ...getBranchLikeQuery(this.props.branchLike)\n    }).then(\n      testCases => {\n        if (this.mounted) {\n          this.setState({ loading: false, testCases });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleTestClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { key } = event.currentTarget.dataset;\n    if (key) {\n      this.context.workspace.openComponent({ branchLike: this.props.branchLike, key });\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { line } = this.props;\n    const testCasesByFile = groupBy(this.state.testCases || [], 'fileKey');\n    const testFiles = Object.keys(testCasesByFile).map(fileKey => {\n      const testSet = testCasesByFile[fileKey];\n      const test = testSet[0];\n      return {\n        file: { key: test.fileKey, longName: test.fileName },\n        tests: testSet\n      };\n    });\n\n    return (\n      <DropdownOverlay placement={PopupPlacement.RightTop}>\n        <div className=\"abs-width-400\">\n          <h6 className=\"spacer-bottom\">\n            {translate('source_viewer.covered')}\n            {!!line.conditions && (\n              <div>\n                {'('}\n                {line.coveredConditions || '0'}\n                {' of '}\n                {line.conditions} {translate('source_viewer.conditions')}\n                {')'}\n              </div>\n            )}\n          </h6>\n          {this.state.loading ? (\n            <i className=\"spinner\" />\n          ) : (\n            <>\n              {testFiles.length === 0 &&\n                translate('source_viewer.tooltip.no_information_about_tests')}\n              {testFiles.map(testFile => (\n                <div className=\"spacer-top text-ellipsis\" key={testFile.file.key}>\n                  <a\n                    data-key={testFile.file.key}\n                    href=\"#\"\n                    onClick={this.handleTestClick}\n                    title={testFile.file.longName}>\n                    <span>{collapsePath(testFile.file.longName)}</span>\n                  </a>\n                  <ul>\n                    {testFile.tests.map(testCase => (\n                      <li\n                        className=\"display-flex-center little-spacer-top\"\n                        key={testCase.id}\n                        title={testCase.name}>\n                        <TestStatusIcon className=\"spacer-right\" status={testCase.status} />\n                        <div className=\"display-inline-block text-ellipsis\">{testCase.name}</div>\n                        {testCase.status !== 'SKIPPED' && (\n                          <span className=\"spacer-left note\">\n                            {testCase.durationInMs}\n                            ms\n                          </span>\n                        )}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CoveragePopup from './CoveragePopup';\nimport { BranchLike, SourceLine } from '../../../app/types';\nimport Tooltip from '../../controls/Tooltip';\nimport Toggler from '../../controls/Toggler';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n  line: SourceLine;\n  onPopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  popupOpen: boolean;\n}\n\nexport default class LineCoverage extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'coverage' });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'coverage', open });\n  };\n\n  closePopup = () => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'coverage', open: false });\n  };\n\n  render() {\n    const { branchLike, componentKey, line, popupOpen } = this.props;\n\n    const className =\n      'source-meta source-line-coverage' +\n      (line.coverageStatus != null ? ` source-line-${line.coverageStatus}` : '');\n\n    const hasPopup =\n      line.coverageStatus === 'covered' || line.coverageStatus === 'partially-covered';\n\n    const cell = line.coverageStatus ? (\n      <Tooltip\n        overlay={popupOpen ? undefined : translate('source_viewer.tooltip', line.coverageStatus)}\n        placement=\"right\">\n        <div className=\"source-line-bar\" />\n      </Tooltip>\n    ) : (\n      <div className=\"source-line-bar\" />\n    );\n\n    if (hasPopup) {\n      return (\n        <td\n          className={className}\n          data-line-number={line.line}\n          onClick={this.handleClick}\n          // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n          role=\"button\"\n          tabIndex={0}>\n          <Toggler\n            onRequestClose={this.closePopup}\n            open={popupOpen}\n            overlay={\n              <CoveragePopup\n                branchLike={branchLike}\n                componentKey={componentKey}\n                line={line}\n                onClose={this.closePopup}\n              />\n            }>\n            {cell}\n          </Toggler>\n        </td>\n      );\n    }\n\n    return (\n      <td className={className} data-line-number={line.line}>\n        {cell}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { SourceLine } from '../../../app/types';\nimport Tooltip from '../../controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  line: SourceLine;\n  onClick: (line: SourceLine) => void;\n}\n\nexport default class LineDuplications extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.line);\n  };\n\n  render() {\n    const { line } = this.props;\n    const className = classNames('source-meta', 'source-line-duplications', {\n      'source-line-duplicated': line.duplicated\n    });\n\n    const cell = (\n      <td\n        className={className}\n        onClick={line.duplicated ? this.handleClick : undefined}\n        role={line.duplicated ? 'button' : undefined}\n        tabIndex={line.duplicated ? 0 : undefined}>\n        <div className=\"source-line-bar\" />\n      </td>\n    );\n\n    return line.duplicated ? (\n      <Tooltip overlay={translate('source_viewer.tooltip.duplicated_line')} placement=\"right\">\n        {cell}\n      </Tooltip>\n    ) : (\n      cell\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { SourceLine } from '../../../app/types';\nimport Tooltip from '../../controls/Tooltip';\nimport Toggler from '../../controls/Toggler';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  duplicated: boolean;\n  index: number;\n  line: SourceLine;\n  onPopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  popupOpen: boolean;\n  renderDuplicationPopup: (index: number, line: number) => JSX.Element;\n}\n\nexport default class LineDuplicationBlock extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({\n      index: this.props.index,\n      line: this.props.line.line,\n      name: 'duplications'\n    });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({\n      index: this.props.index,\n      line: this.props.line.line,\n      name: 'duplications',\n      open\n    });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { duplicated, index, line, popupOpen } = this.props;\n    const className = classNames('source-meta', 'source-line-duplications-extra', {\n      'source-line-duplicated': duplicated\n    });\n\n    const cell = <div className=\"source-line-bar\" />;\n\n    return duplicated ? (\n      <td\n        className={className}\n        data-index={index}\n        data-line-number={line.line}\n        onClick={this.handleClick}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        tabIndex={0}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={this.props.renderDuplicationPopup(index, line.line)}>\n          <Tooltip overlay={translate('source_viewer.tooltip.duplicated_block')} placement=\"right\">\n            {cell}\n          </Tooltip>\n        </Toggler>\n      </td>\n    ) : (\n      <td className={className} data-index={index} data-line-number={line.line}>\n        {cell}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport SeverityIcon from '../../icons-components/SeverityIcon';\nimport { sortBySeverity } from '../../../helpers/issues';\nimport { Issue, SourceLine } from '../../../app/types';\n\ninterface Props {\n  issues: Issue[];\n  line: SourceLine;\n  onClick: () => void;\n}\n\nexport default class LineIssuesIndicator extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick();\n  };\n\n  render() {\n    const { issues, line } = this.props;\n    const hasIssues = issues.length > 0;\n    const className = classNames('source-meta', 'source-line-issues', {\n      'source-line-with-issues': hasIssues\n    });\n    const mostImportantIssue = hasIssues ? sortBySeverity(issues)[0] : null;\n\n    return (\n      <td\n        className={className}\n        data-line-number={line.line}\n        onClick={hasIssues ? this.handleClick : undefined}\n        role={hasIssues ? 'button' : undefined}\n        tabIndex={hasIssues ? 0 : undefined}>\n        {mostImportantIssue != null && <SeverityIcon severity={mostImportantIssue.severity} />}\n        {issues.length > 1 && <span className=\"source-line-issues-counter\">{issues.length}</span>}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike, Issue as IssueType } from '../../../app/types';\nimport Issue from '../../issue/Issue';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: IssueType[];\n  onIssueChange: (issue: IssueType) => void;\n  onIssueClick: (issueKey: string) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  selectedIssue: string | undefined;\n}\n\nexport default function LineIssuesList(props: Props) {\n  const { issuePopup } = props;\n\n  return (\n    <div className=\"issue-list\">\n      {props.issues.map(issue => (\n        <Issue\n          branchLike={props.branchLike}\n          displayLocationsCount={props.displayIssueLocationsCount}\n          displayLocationsLink={props.displayIssueLocationsLink}\n          issue={issue}\n          key={issue.key}\n          onChange={props.onIssueChange}\n          onClick={props.onIssueClick}\n          onPopupToggle={props.onIssuePopupToggle}\n          openPopup={issuePopup && issuePopup.issue === issue.key ? issuePopup.name : undefined}\n          selected={props.selectedIssue === issue.key}\n        />\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport { LinearIssueLocation } from '../../../app/types';\n\nexport interface Token {\n  className: string;\n  markers: number[];\n  text: string;\n}\n\nconst ISSUE_LOCATION_CLASS = 'source-line-code-issue';\n\nexport function splitByTokens(code: string, rootClassName = ''): Token[] {\n  const container = document.createElement('div');\n  let tokens: Token[] = [];\n  container.innerHTML = code;\n  [].forEach.call(container.childNodes, (node: Element) => {\n    if (node.nodeType === 1) {\n      // ELEMENT NODE\n      const fullClassName = rootClassName ? rootClassName + ' ' + node.className : node.className;\n      const innerTokens = splitByTokens(node.innerHTML, fullClassName);\n      tokens = tokens.concat(innerTokens);\n    }\n    if (node.nodeType === 3 && node.nodeValue) {\n      // TEXT NODE\n      tokens.push({ className: rootClassName, markers: [], text: node.nodeValue });\n    }\n  });\n  return tokens;\n}\n\nexport function highlightSymbol(tokens: Token[], symbol: string): Token[] {\n  const symbolRegExp = new RegExp(`\\\\b${symbol}\\\\b`);\n  return tokens.map(\n    token =>\n      symbolRegExp.test(token.className)\n        ? { ...token, className: `${token.className} highlighted` }\n        : token\n  );\n}\n\n/**\n * Intersect two ranges\n * @param s1 Start position of the first range\n * @param e1 End position of the first range\n * @param s2 Start position of the second range\n * @param e2 End position of the second range\n */\nfunction intersect(s1: number, e1: number, s2: number, e2: number) {\n  return { from: Math.max(s1, s2), to: Math.min(e1, e2) };\n}\n\n/**\n * Get the substring of a string\n * @param str A string\n * @param from \"From\" offset\n * @param to \"To\" offset\n * @param acc Global offset to eliminate\n */\nfunction part(str: string, from: number, to: number, acc: number): string {\n  // we do not want negative number as the first argument of `substr`\n  return from >= acc ? str.substr(from - acc, to - from) : str.substr(0, to - from);\n}\n\n/**\n * Highlight issue locations in the list of tokens\n */\nexport function highlightIssueLocations(\n  tokens: Token[],\n  issueLocations: LinearIssueLocation[],\n  rootClassName: string = ISSUE_LOCATION_CLASS\n): Token[] {\n  issueLocations.forEach(location => {\n    const nextTokens: Token[] = [];\n    let acc = 0;\n    let markerAdded = location.line !== location.startLine;\n    tokens.forEach(token => {\n      const x = intersect(acc, acc + token.text.length, location.from, location.to);\n      const p1 = part(token.text, acc, x.from, acc);\n      const p2 = part(token.text, x.from, x.to, acc);\n      const p3 = part(token.text, x.to, acc + token.text.length, acc);\n      if (p1.length) {\n        nextTokens.push({ ...token, text: p1 });\n      }\n      if (p2.length) {\n        const newClassName =\n          token.className.indexOf(rootClassName) === -1\n            ? `${token.className} ${rootClassName}`\n            : token.className;\n        nextTokens.push({\n          className: newClassName,\n          markers:\n            !markerAdded && location.index != null\n              ? uniq([...token.markers, location.index])\n              : token.markers,\n          text: p2\n        });\n        markerAdded = true;\n      }\n      if (p3.length) {\n        nextTokens.push({ ...token, text: p3 });\n      }\n      acc += token.text.length;\n    });\n    tokens = nextTokens.slice();\n  });\n  return tokens;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport LineIssuesList from './LineIssuesList';\nimport { BranchLike, Issue, LinearIssueLocation, SourceLine } from '../../../app/types';\nimport LocationIndex from '../../common/LocationIndex';\nimport LocationMessage from '../../common/LocationMessage';\nimport {\n  highlightIssueLocations,\n  highlightSymbol,\n  splitByTokens,\n  Token\n} from '../helpers/highlight';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: Issue[];\n  line: SourceLine;\n  onIssueChange: (issue: Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: ((index: number) => void) | undefined;\n  onSymbolClick: (symbols: Array<string>) => void;\n  scroll?: (element: HTMLElement) => void;\n  secondaryIssueLocations: Array<{\n    from: number;\n    to: number;\n    line: number;\n    index: number;\n    startLine: number;\n  }>;\n  selectedIssue: string | undefined;\n  showIssues?: boolean;\n}\n\ninterface State {\n  tokens: Token[];\n}\n\nexport default class LineCode extends React.PureComponent<Props, State> {\n  activeMarkerNode?: HTMLElement | null;\n  codeNode?: HTMLElement | null;\n  symbols?: NodeListOf<HTMLElement>;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tokens: splitByTokens(props.line.code || '')\n    };\n  }\n\n  componentDidMount() {\n    this.attachEvents();\n    if (this.props.highlightedLocationMessage && this.activeMarkerNode && this.props.scroll) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.line.code !== this.props.line.code) {\n      this.setState({\n        tokens: splitByTokens(nextProps.line.code || '')\n      });\n    }\n  }\n\n  componentWillUpdate() {\n    this.detachEvents();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    this.attachEvents();\n    if (\n      this.props.highlightedLocationMessage &&\n      prevProps.highlightedLocationMessage !== this.props.highlightedLocationMessage &&\n      this.activeMarkerNode &&\n      this.props.scroll\n    ) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachEvents();\n  }\n\n  attachEvents() {\n    if (this.codeNode) {\n      this.symbols = this.codeNode.querySelectorAll('.sym');\n      if (this.symbols) {\n        for (let i = 0; i < this.symbols.length; i++) {\n          const symbol = this.symbols[i];\n          symbol.addEventListener('click', this.handleSymbolClick);\n        }\n      }\n    }\n  }\n\n  detachEvents() {\n    if (this.symbols) {\n      for (let i = 0; i < this.symbols.length; i++) {\n        const symbol = this.symbols[i];\n        symbol.addEventListener('click', this.handleSymbolClick);\n      }\n    }\n  }\n\n  handleSymbolClick = (event: MouseEvent) => {\n    event.preventDefault();\n    const keys = (event.currentTarget as HTMLElement).className.match(/sym-\\d+/g);\n    if (keys && keys.length > 0) {\n      this.props.onSymbolClick(keys);\n    }\n  };\n\n  renderMarker(index: number, message: string | undefined, selected: boolean, leading: boolean) {\n    const { onLocationSelect } = this.props;\n    const onClick = onLocationSelect ? () => onLocationSelect(index) : undefined;\n    const ref = selected ? (node: HTMLElement | null) => (this.activeMarkerNode = node) : undefined;\n    return (\n      <LocationIndex\n        key={`marker-${index}`}\n        leading={leading}\n        onClick={onClick}\n        selected={selected}>\n        <span ref={ref}>{index + 1}</span>\n        {message && <LocationMessage selected={true}>{message}</LocationMessage>}\n      </LocationIndex>\n    );\n  }\n\n  render() {\n    const {\n      highlightedLocationMessage,\n      highlightedSymbols,\n      issues,\n      issueLocations,\n      line,\n      onIssueSelect,\n      secondaryIssueLocations,\n      selectedIssue,\n      showIssues\n    } = this.props;\n\n    let tokens = [...this.state.tokens];\n\n    if (highlightedSymbols) {\n      highlightedSymbols.forEach(symbol => {\n        tokens = highlightSymbol(tokens, symbol);\n      });\n    }\n\n    if (issueLocations.length > 0) {\n      tokens = highlightIssueLocations(tokens, issueLocations);\n    }\n\n    if (secondaryIssueLocations) {\n      tokens = highlightIssueLocations(tokens, secondaryIssueLocations, 'issue-location');\n\n      if (highlightedLocationMessage) {\n        const location = secondaryIssueLocations.find(\n          location => location.index === highlightedLocationMessage.index\n        );\n        if (location) {\n          tokens = highlightIssueLocations(tokens, [location], 'selected');\n        }\n      }\n    }\n\n    const className = classNames('source-line-code', 'code', {\n      'has-issues': issues.length > 0\n    });\n\n    const renderedTokens: React.ReactNode[] = [];\n\n    // track if the first marker is displayed before the source code\n    // set `false` for the first token in a row\n    let leadingMarker = false;\n\n    tokens.forEach((token, index) => {\n      if (this.props.displayLocationMarkers && token.markers.length > 0) {\n        token.markers.forEach(marker => {\n          const selected =\n            highlightedLocationMessage !== undefined && highlightedLocationMessage.index === marker;\n          const message = selected ? highlightedLocationMessage!.text : undefined;\n          renderedTokens.push(this.renderMarker(marker, message, selected, leadingMarker));\n        });\n      }\n      renderedTokens.push(\n        <span className={token.className} key={index}>\n          {token.text}\n        </span>\n      );\n\n      // keep leadingMarker truthy if previous token has only whitespaces\n      leadingMarker = (index === 0 ? true : leadingMarker) && !token.text.trim().length;\n    });\n\n    return (\n      <td className={className} data-line-number={line.line}>\n        <div className=\"source-line-code-inner\">\n          <pre ref={node => (this.codeNode = node)}>{renderedTokens}</pre>\n        </div>\n        {showIssues &&\n          issues.length > 0 && (\n            <LineIssuesList\n              branchLike={this.props.branchLike}\n              displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n              displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n              issuePopup={this.props.issuePopup}\n              issues={issues}\n              onIssueChange={this.props.onIssueChange}\n              onIssueClick={onIssueSelect}\n              onIssuePopupToggle={this.props.onIssuePopupToggle}\n              selectedIssue={selectedIssue}\n            />\n          )}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { times } from 'lodash';\nimport LineNumber from './LineNumber';\nimport LineSCM from './LineSCM';\nimport LineCoverage from './LineCoverage';\nimport LineDuplications from './LineDuplications';\nimport LineDuplicationBlock from './LineDuplicationBlock';\nimport LineIssuesIndicator from './LineIssuesIndicator';\nimport LineCode from './LineCode';\nimport { BranchLike, Issue, LinearIssueLocation, SourceLine } from '../../../app/types';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n  displayAllIssues?: boolean;\n  displayCoverage: boolean;\n  displayDuplications: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayIssues: boolean;\n  displayLocationMarkers?: boolean;\n  duplications: number[];\n  duplicationsCount: number;\n  highlighted: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: Issue[];\n  last: boolean;\n  line: SourceLine;\n  linePopup: { index?: number; line: number; name: string } | undefined;\n  loadDuplications: (line: SourceLine) => void;\n  onLinePopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  onIssueChange: (issue: Issue) => void;\n  onIssuePopupToggle: (issueKey: string, popupName: string, open?: boolean) => void;\n  onIssuesClose: (line: SourceLine) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onIssuesOpen: (line: SourceLine) => void;\n  onIssueUnselect: () => void;\n  onLocationSelect: ((x: number) => void) | undefined;\n  onSymbolClick: (symbols: string[]) => void;\n  openIssues: boolean;\n  previousLine: SourceLine | undefined;\n  renderDuplicationPopup: (index: number, line: number) => JSX.Element;\n  scroll?: (element: HTMLElement) => void;\n  secondaryIssueLocations: Array<{\n    from: number;\n    to: number;\n    line: number;\n    index: number;\n    startLine: number;\n  }>;\n  selectedIssue: string | undefined;\n}\n\nexport default class Line extends React.PureComponent<Props> {\n  isPopupOpen = (name: string, index?: number) => {\n    const { line, linePopup } = this.props;\n    return (\n      linePopup !== undefined &&\n      linePopup.index === index &&\n      linePopup.line === line.line &&\n      linePopup.name === name\n    );\n  };\n\n  handleIssuesIndicatorClick = () => {\n    if (this.props.openIssues) {\n      this.props.onIssuesClose(this.props.line);\n      this.props.onIssueUnselect();\n    } else {\n      this.props.onIssuesOpen(this.props.line);\n\n      const { issues } = this.props;\n      if (issues.length > 0) {\n        this.props.onIssueSelect(issues[0].key);\n      }\n    }\n  };\n\n  render() {\n    const { displayCoverage, duplications, duplicationsCount, issuePopup, line } = this.props;\n    const className = classNames('source-line', {\n      'source-line-highlighted': this.props.highlighted,\n      'source-line-filtered': line.isNew,\n      'source-line-filtered-dark':\n        displayCoverage &&\n        (line.coverageStatus === 'uncovered' || line.coverageStatus === 'partially-covered'),\n      'source-line-last': this.props.last\n    });\n\n    return (\n      <tr className={className} data-line-number={line.line}>\n        <LineNumber\n          branchLike={this.props.branchLike}\n          componentKey={this.props.componentKey}\n          line={line}\n          onPopupToggle={this.props.onLinePopupToggle}\n          popupOpen={this.isPopupOpen('line-number')}\n        />\n\n        <LineSCM\n          line={line}\n          onPopupToggle={this.props.onLinePopupToggle}\n          popupOpen={this.isPopupOpen('scm')}\n          previousLine={this.props.previousLine}\n        />\n\n        {this.props.displayCoverage && (\n          <LineCoverage\n            branchLike={this.props.branchLike}\n            componentKey={this.props.componentKey}\n            line={line}\n            onPopupToggle={this.props.onLinePopupToggle}\n            popupOpen={this.isPopupOpen('coverage')}\n          />\n        )}\n\n        {this.props.displayDuplications && (\n          <LineDuplications line={line} onClick={this.props.loadDuplications} />\n        )}\n\n        {times(duplicationsCount, index => (\n          <LineDuplicationBlock\n            duplicated={duplications.includes(index)}\n            index={index}\n            key={index}\n            line={this.props.line}\n            onPopupToggle={this.props.onLinePopupToggle}\n            popupOpen={this.isPopupOpen('duplications', index)}\n            renderDuplicationPopup={this.props.renderDuplicationPopup}\n          />\n        ))}\n\n        {this.props.displayIssues &&\n          !this.props.displayAllIssues && (\n            <LineIssuesIndicator\n              issues={this.props.issues}\n              line={line}\n              onClick={this.handleIssuesIndicatorClick}\n            />\n          )}\n\n        <LineCode\n          branchLike={this.props.branchLike}\n          displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n          displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n          displayLocationMarkers={this.props.displayLocationMarkers}\n          highlightedLocationMessage={this.props.highlightedLocationMessage}\n          highlightedSymbols={this.props.highlightedSymbols}\n          issueLocations={this.props.issueLocations}\n          issuePopup={issuePopup}\n          issues={this.props.issues}\n          line={line}\n          onIssueChange={this.props.onIssueChange}\n          onIssuePopupToggle={this.props.onIssuePopupToggle}\n          onIssueSelect={this.props.onIssueSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          onSymbolClick={this.props.onSymbolClick}\n          scroll={this.props.scroll}\n          secondaryIssueLocations={this.props.secondaryIssueLocations}\n          selectedIssue={this.props.selectedIssue}\n          showIssues={this.props.openIssues || this.props.displayAllIssues}\n        />\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { LinearIssueLocation, TextRange } from '../../../app/types';\n\nexport function getLinearLocations(textRange: TextRange | undefined): LinearIssueLocation[] {\n  if (!textRange) {\n    return [];\n  }\n  const locations = [];\n\n  // go through all lines of the `textRange`\n  for (let line = textRange.startLine; line <= textRange.endLine; line++) {\n    // TODO fix 999999\n    const from = line === textRange.startLine ? textRange.startOffset : 0;\n    const to = line === textRange.endLine ? textRange.endOffset : 999999;\n    locations.push({ line, from, to });\n  }\n  return locations;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { intersection } from 'lodash';\nimport Line from './components/Line';\nimport { getLinearLocations } from './helpers/issueLocations';\nimport {\n  BranchLike,\n  Duplication,\n  FlowLocation,\n  Issue,\n  LinearIssueLocation,\n  SourceLine\n} from '../../app/types';\nimport { translate } from '../../helpers/l10n';\nimport { Button } from '../ui/buttons';\n\nconst EMPTY_ARRAY: any[] = [];\n\nconst ZERO_LINE = {\n  code: '',\n  duplicated: false,\n  isNew: false,\n  line: 0\n};\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n  displayAllIssues?: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  duplications: Duplication[] | undefined;\n  duplicationsByLine: { [line: number]: number[] };\n  hasSourcesAfter: boolean;\n  hasSourcesBefore: boolean;\n  highlightedLine: number | undefined;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  // `undefined` elements mean they are located in a different file,\n  // but kept to maintain the location indexes\n  highlightedLocations: (FlowLocation | undefined)[] | undefined;\n  highlightedSymbols: string[];\n  issueLocationsByLine: { [line: number]: LinearIssueLocation[] };\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: Issue[] | undefined;\n  issuesByLine: { [line: number]: Issue[] };\n  linePopup: { index?: number; line: number; name: string } | undefined;\n  loadDuplications: (line: SourceLine) => void;\n  loadingSourcesAfter: boolean;\n  loadingSourcesBefore: boolean;\n  loadSourcesAfter: () => void;\n  loadSourcesBefore: () => void;\n  onIssueChange: (issue: Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onIssuesClose: (line: SourceLine) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onIssuesOpen: (line: SourceLine) => void;\n  onIssueUnselect: () => void;\n  onLinePopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  onLocationSelect: ((index: number) => void) | undefined;\n  onSymbolClick: (symbols: string[]) => void;\n  openIssuesByLine: { [line: number]: boolean };\n  renderDuplicationPopup: (index: number, line: number) => JSX.Element;\n  scroll?: (element: HTMLElement) => void;\n  selectedIssue: string | undefined;\n  sources: SourceLine[];\n  symbolsByLine: { [line: number]: string[] };\n}\n\nexport default class SourceViewerCode extends React.PureComponent<Props> {\n  getDuplicationsForLine = (line: SourceLine): number[] => {\n    return this.props.duplicationsByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getIssuesForLine = (line: SourceLine): Issue[] => {\n    return this.props.issuesByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getIssueLocationsForLine = (line: SourceLine): LinearIssueLocation[] => {\n    return this.props.issueLocationsByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getSecondaryIssueLocationsForLine = (line: SourceLine): LinearIssueLocation[] => {\n    const { highlightedLocations } = this.props;\n    if (!highlightedLocations) {\n      return EMPTY_ARRAY;\n    }\n    return highlightedLocations.reduce((locations, location, index) => {\n      const linearLocations: LinearIssueLocation[] = location\n        ? getLinearLocations(location.textRange)\n            .filter(l => l.line === line.line)\n            .map(l => ({ ...l, startLine: location.textRange.startLine, index }))\n        : [];\n      return [...locations, ...linearLocations];\n    }, []);\n  };\n\n  renderLine = ({\n    line,\n    index,\n    displayCoverage,\n    displayDuplications,\n    displayIssues\n  }: {\n    line: SourceLine;\n    index: number;\n    displayCoverage: boolean;\n    displayDuplications: boolean;\n    displayIssues: boolean;\n  }) => {\n    const { highlightedLocationMessage, selectedIssue, sources } = this.props;\n\n    const secondaryIssueLocations = this.getSecondaryIssueLocationsForLine(line);\n\n    const duplicationsCount = this.props.duplications ? this.props.duplications.length : 0;\n\n    const issuesForLine = this.getIssuesForLine(line);\n\n    // for the following properties pass null if the line for sure is not impacted\n    const symbolsForLine = this.props.symbolsByLine[line.line] || [];\n    const { highlightedSymbols } = this.props;\n    let optimizedHighlightedSymbols: string[] | undefined = intersection(\n      symbolsForLine,\n      highlightedSymbols\n    );\n    if (!optimizedHighlightedSymbols.length) {\n      optimizedHighlightedSymbols = undefined;\n    }\n\n    const optimizedSelectedIssue =\n      selectedIssue !== undefined && issuesForLine.find(issue => issue.key === selectedIssue)\n        ? selectedIssue\n        : undefined;\n\n    const optimizedSecondaryIssueLocations =\n      secondaryIssueLocations.length > 0 ? secondaryIssueLocations : EMPTY_ARRAY;\n\n    const optimizedLocationMessage =\n      highlightedLocationMessage != null &&\n      optimizedSecondaryIssueLocations.some(\n        location => location.index === highlightedLocationMessage.index\n      )\n        ? highlightedLocationMessage\n        : undefined;\n\n    return (\n      <Line\n        branchLike={this.props.branchLike}\n        componentKey={this.props.componentKey}\n        displayAllIssues={this.props.displayAllIssues}\n        displayCoverage={displayCoverage}\n        displayDuplications={displayDuplications}\n        displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n        displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n        displayIssues={displayIssues}\n        displayLocationMarkers={this.props.displayLocationMarkers}\n        duplications={this.getDuplicationsForLine(line)}\n        duplicationsCount={duplicationsCount}\n        highlighted={line.line === this.props.highlightedLine}\n        highlightedLocationMessage={optimizedLocationMessage}\n        highlightedSymbols={optimizedHighlightedSymbols}\n        issueLocations={this.getIssueLocationsForLine(line)}\n        issuePopup={this.props.issuePopup}\n        issues={issuesForLine}\n        key={line.line}\n        last={index === this.props.sources.length - 1 && !this.props.hasSourcesAfter}\n        line={line}\n        linePopup={this.props.linePopup}\n        loadDuplications={this.props.loadDuplications}\n        onIssueChange={this.props.onIssueChange}\n        onIssuePopupToggle={this.props.onIssuePopupToggle}\n        onIssueSelect={this.props.onIssueSelect}\n        onIssueUnselect={this.props.onIssueUnselect}\n        onIssuesClose={this.props.onIssuesClose}\n        onIssuesOpen={this.props.onIssuesOpen}\n        onLinePopupToggle={this.props.onLinePopupToggle}\n        onLocationSelect={this.props.onLocationSelect}\n        onSymbolClick={this.props.onSymbolClick}\n        openIssues={this.props.openIssuesByLine[line.line] || false}\n        previousLine={index > 0 ? sources[index - 1] : undefined}\n        renderDuplicationPopup={this.props.renderDuplicationPopup}\n        scroll={this.props.scroll}\n        secondaryIssueLocations={optimizedSecondaryIssueLocations}\n        selectedIssue={optimizedSelectedIssue}\n      />\n    );\n  };\n\n  render() {\n    const { issues = [], sources } = this.props;\n\n    const displayCoverage = sources.some(s => s.coverageStatus != null);\n    const displayDuplications = sources.some(s => !!s.duplicated);\n    const displayIssues = issues.length > 0;\n\n    const hasFileIssues = displayIssues && issues.some(issue => !issue.textRange);\n\n    return (\n      <div>\n        {this.props.hasSourcesBefore && (\n          <div className=\"source-viewer-more-code\">\n            {this.props.loadingSourcesBefore ? (\n              <div className=\"js-component-viewer-loading-before\">\n                <i className=\"spinner\" />\n                <span className=\"note spacer-left\">\n                  {translate('source_viewer.loading_more_code')}\n                </span>\n              </div>\n            ) : (\n              <Button\n                className=\"js-component-viewer-source-before\"\n                onClick={this.props.loadSourcesBefore}>\n                {translate('source_viewer.load_more_code')}\n              </Button>\n            )}\n          </div>\n        )}\n\n        <table className=\"source-table\">\n          <tbody>\n            {hasFileIssues &&\n              this.renderLine({\n                line: ZERO_LINE,\n                index: -1,\n                displayCoverage,\n                displayDuplications,\n                displayIssues\n              })}\n            {sources.map((line, index) =>\n              this.renderLine({ line, index, displayCoverage, displayDuplications, displayIssues })\n            )}\n          </tbody>\n        </table>\n\n        {this.props.hasSourcesAfter && (\n          <div className=\"source-viewer-more-code\">\n            {this.props.loadingSourcesAfter ? (\n              <div className=\"js-component-viewer-loading-after\">\n                <i className=\"spinner\" />\n                <span className=\"note spacer-left\">\n                  {translate('source_viewer.loading_more_code')}\n                </span>\n              </div>\n            ) : (\n              <Button\n                className=\"js-component-viewer-source-after\"\n                onClick={this.props.loadSourcesAfter}>\n                {translate('source_viewer.load_more_code')}\n              </Button>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as PropTypes from 'prop-types';\nimport { groupBy, sortBy } from 'lodash';\nimport { BranchLike, DuplicatedFile, DuplicationBlock, SourceViewerFile } from '../../../app/types';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport { PopupPlacement } from '../../ui/popups';\nimport { WorkspaceContext } from '../../workspace/context';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsedDirFromPath, fileFromPath } from '../../../helpers/path';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  blocks: DuplicationBlock[];\n  branchLike: BranchLike | undefined;\n  duplicatedFiles?: { [ref: string]: DuplicatedFile };\n  inRemovedComponent: boolean;\n  onClose: () => void;\n  popupPosition?: any;\n  sourceViewerFile: SourceViewerFile;\n}\n\nexport default class DuplicationPopup extends React.PureComponent<Props> {\n  context!: { workspace: WorkspaceContext };\n\n  static contextTypes = {\n    workspace: PropTypes.object.isRequired\n  };\n\n  isDifferentComponent = (\n    a: { project: string; subProject?: string },\n    b: { project: string; subProject?: string }\n  ) => {\n    return Boolean(a && b && (a.project !== b.project || a.subProject !== b.subProject));\n  };\n\n  handleFileClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { key, line } = event.currentTarget.dataset;\n    if (key) {\n      this.context.workspace.openComponent({\n        branchLike: this.props.branchLike,\n        key,\n        line: line ? Number(line) : undefined\n      });\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { duplicatedFiles = {}, sourceViewerFile } = this.props;\n\n    const groupedBlocks = groupBy(this.props.blocks, '_ref');\n    let duplications = Object.keys(groupedBlocks).map(fileRef => {\n      return {\n        blocks: groupedBlocks[fileRef],\n        file: duplicatedFiles[fileRef]\n      };\n    });\n\n    // first duplications in the same file\n    // then duplications in the same sub-project\n    // then duplications in the same project\n    // then duplications in other projects\n    duplications = sortBy(\n      duplications,\n      d => d.file.projectName !== sourceViewerFile.projectName,\n      d => d.file.subProjectName !== sourceViewerFile.subProjectName,\n      d => d.file.key !== sourceViewerFile.key\n    );\n\n    return (\n      <DropdownOverlay placement={PopupPlacement.RightTop}>\n        <div className=\"source-viewer-bubble-popup abs-width-400\">\n          {this.props.inRemovedComponent && (\n            <div className=\"alert alert-warning\">\n              {translate('duplications.dups_found_on_deleted_resource')}\n            </div>\n          )}\n          {duplications.length > 0 && (\n            <>\n              <h6 className=\"spacer-bottom\">\n                {translate('component_viewer.transition.duplication')}\n              </h6>\n              {duplications.map(duplication => (\n                <div className=\"spacer-top text-ellipsis\" key={duplication.file.key}>\n                  <div className=\"component-name\">\n                    {this.isDifferentComponent(duplication.file, this.props.sourceViewerFile) && (\n                      <>\n                        <div className=\"component-name-parent\">\n                          <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n                          <Link to={getProjectUrl(duplication.file.project)}>\n                            {duplication.file.projectName}\n                          </Link>\n                        </div>\n                        {duplication.file.subProject &&\n                          duplication.file.subProjectName && (\n                            <div className=\"component-name-parent\">\n                              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n                              <Link to={getProjectUrl(duplication.file.subProject)}>\n                                {duplication.file.subProjectName}\n                              </Link>\n                            </div>\n                          )}\n                      </>\n                    )}\n\n                    {duplication.file.key !== this.props.sourceViewerFile.key && (\n                      <div className=\"component-name-path\">\n                        <a\n                          className=\"link-action\"\n                          data-key={duplication.file.key}\n                          href=\"#\"\n                          onClick={this.handleFileClick}\n                          title={duplication.file.name}>\n                          <span>{collapsedDirFromPath(duplication.file.name)}</span>\n                          <span className=\"component-name-file\">\n                            {fileFromPath(duplication.file.name)}\n                          </span>\n                        </a>\n                      </div>\n                    )}\n\n                    <div className=\"component-name-path\">\n                      {'Lines: '}\n                      {duplication.blocks.map((block, index) => (\n                        <React.Fragment key={index}>\n                          <a\n                            data-key={duplication.file.key}\n                            data-line={block.from}\n                            href=\"#\"\n                            onClick={this.handleFileClick}>\n                            {block.from}\n                            {' – '}\n                            {block.from + block.size - 1}\n                          </a>\n                          {index < duplication.blocks.length - 1 && ', '}\n                        </React.Fragment>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { searchIssues } from '../../../api/issues';\nimport { BranchLike, Issue } from '../../../app/types';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { parseIssueFromResponse } from '../../../helpers/issues';\nimport { RawQuery } from '../../../helpers/query';\n\n// maximum possible value\nconst PAGE_SIZE = 500;\n\nfunction buildQuery(component: string, branchLike: BranchLike | undefined) {\n  return {\n    additionalFields: '_all',\n    resolved: 'false',\n    componentKeys: component,\n    s: 'FILE_LINE',\n    ...getBranchLikeQuery(branchLike)\n  };\n}\n\nexport function loadPage(query: RawQuery, page: number, pageSize = PAGE_SIZE): Promise<Issue[]> {\n  return searchIssues({\n    ...query,\n    p: page,\n    ps: pageSize\n  }).then(r =>\n    r.issues.map(issue => parseIssueFromResponse(issue, r.components, r.users, r.rules))\n  );\n}\n\nexport function loadPageAndNext(\n  query: RawQuery,\n  toLine: number,\n  page: number,\n  pageSize = PAGE_SIZE\n): Promise<Issue[]> {\n  return loadPage(query, page).then(issues => {\n    if (issues.length === 0) {\n      return [];\n    }\n\n    const lastIssue = issues[issues.length - 1];\n\n    if (\n      (lastIssue.textRange != null && lastIssue.textRange.endLine > toLine) ||\n      issues.length < pageSize\n    ) {\n      return issues;\n    }\n\n    return loadPageAndNext(query, toLine, page + 1, pageSize).then(nextIssues => {\n      return [...issues, ...nextIssues];\n    });\n  });\n}\n\nexport default function loadIssues(\n  component: string,\n  _fromLine: number,\n  toLine: number,\n  branchLike: BranchLike | undefined\n): Promise<Issue[]> {\n  const query = buildQuery(component, branchLike);\n  return new Promise(resolve => {\n    loadPageAndNext(query, toLine, 1).then(issues => {\n      resolve(issues);\n    });\n  });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten } from 'lodash';\nimport { splitByTokens } from './highlight';\nimport { getLinearLocations } from './issueLocations';\nimport { Duplication, Issue, LinearIssueLocation, SourceLine } from '../../../app/types';\n\nexport function issuesByLine(issues: Issue[]) {\n  const index: { [line: number]: Issue[] } = {};\n  issues.forEach(issue => {\n    const line = issue.textRange ? issue.textRange.endLine : 0;\n    if (!(line in index)) {\n      index[line] = [];\n    }\n    index[line].push(issue);\n  });\n  return index;\n}\n\nexport function locationsByLine(issues: Issue[]) {\n  const index: { [line: number]: LinearIssueLocation[] } = {};\n  issues.forEach(issue => {\n    getLinearLocations(issue.textRange).forEach(location => {\n      if (!(location.line in index)) {\n        index[location.line] = [];\n      }\n      index[location.line].push(location);\n    });\n  });\n  return index;\n}\n\nexport function duplicationsByLine(duplications: Duplication[] | undefined) {\n  if (duplications == null) {\n    return {};\n  }\n\n  const duplicationsByLine: { [line: number]: number[] } = {};\n\n  duplications.forEach(({ blocks }, duplicationIndex) => {\n    blocks.forEach(block => {\n      // eslint-disable-next-line no-underscore-dangle\n      if (block._ref === '1') {\n        for (let line = block.from; line < block.from + block.size; line++) {\n          if (!(line in duplicationsByLine)) {\n            duplicationsByLine[line] = [];\n          }\n          duplicationsByLine[line].push(duplicationIndex);\n        }\n      }\n    });\n  });\n\n  return duplicationsByLine;\n}\n\nexport function symbolsByLine(sources: SourceLine[]) {\n  const index: { [line: number]: string[] } = {};\n  sources.forEach(line => {\n    const tokens = splitByTokens(line.code || '');\n    const symbols = flatten(\n      tokens.map(token => {\n        const keys = token.className.match(/sym-\\d+/g);\n        return keys != null ? keys : [];\n      })\n    );\n    index[line.line] = symbols.filter(key => key);\n  });\n  return index;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { intersection, uniqBy } from 'lodash';\nimport SourceViewerHeader from './SourceViewerHeader';\nimport SourceViewerCode from './SourceViewerCode';\nimport DuplicationPopup from './components/DuplicationPopup';\nimport defaultLoadIssues from './helpers/loadIssues';\nimport getCoverageStatus from './helpers/getCoverageStatus';\nimport {\n  duplicationsByLine,\n  issuesByLine,\n  locationsByLine,\n  symbolsByLine\n} from './helpers/indexing';\nimport {\n  getComponentData,\n  getComponentForSourceViewer,\n  getDuplications,\n  getSources\n} from '../../api/components';\nimport {\n  BranchLike,\n  DuplicatedFile,\n  Duplication,\n  FlowLocation,\n  Issue,\n  LinearIssueLocation,\n  SourceLine,\n  SourceViewerFile\n} from '../../app/types';\nimport { isSameBranchLike, getBranchLikeQuery } from '../../helpers/branches';\nimport { translate } from '../../helpers/l10n';\nimport './styles.css';\n\n// TODO react-virtualized\n\nexport interface Props {\n  aroundLine?: number;\n  branchLike: BranchLike | undefined;\n  component: string;\n  displayAllIssues?: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  highlightedLine?: number;\n  // `undefined` elements mean they are located in a different file,\n  // but kept to maintaint the location indexes\n  highlightedLocations?: (FlowLocation | undefined)[];\n  highlightedLocationMessage?: { index: number; text: string | undefined };\n  loadComponent: (\n    component: string,\n    branchLike: BranchLike | undefined\n  ) => Promise<SourceViewerFile>;\n  loadIssues: (\n    component: string,\n    from: number,\n    to: number,\n    branchLike: BranchLike | undefined\n  ) => Promise<Issue[]>;\n  loadSources: (\n    component: string,\n    from: number,\n    to: number,\n    branchLike: BranchLike | undefined\n  ) => Promise<SourceLine[]>;\n  onLoaded?: (component: SourceViewerFile, sources: SourceLine[], issues: Issue[]) => void;\n  onLocationSelect?: (index: number) => void;\n  onIssueChange?: (issue: Issue) => void;\n  onIssueSelect?: (issueKey: string) => void;\n  onIssueUnselect?: () => void;\n  scroll?: (element: HTMLElement) => void;\n  selectedIssue?: string;\n}\n\ninterface State {\n  component?: SourceViewerFile;\n  displayDuplications: boolean;\n  duplicatedFiles?: { [ref: string]: DuplicatedFile };\n  duplications?: Duplication[];\n  duplicationsByLine: { [line: number]: number[] };\n  hasSourcesAfter: boolean;\n  highlightedSymbols: string[];\n  issueLocationsByLine: { [line: number]: LinearIssueLocation[] };\n  issuePopup?: { issue: string; name: string };\n  issues?: Issue[];\n  issuesByLine: { [line: number]: Issue[] };\n  linePopup?: { index?: number; line: number; name: string };\n  loading: boolean;\n  loadingSourcesAfter: boolean;\n  loadingSourcesBefore: boolean;\n  notAccessible: boolean;\n  notExist: boolean;\n  openIssuesByLine: { [line: number]: boolean };\n  selectedIssue?: string;\n  sourceRemoved: boolean;\n  sources?: SourceLine[];\n  symbolsByLine: { [line: number]: string[] };\n}\n\nconst LINES = 500;\n\nexport default class SourceViewerBase extends React.PureComponent<Props, State> {\n  node?: HTMLElement | null;\n  mounted = false;\n\n  static defaultProps = {\n    displayAllIssues: false,\n    displayIssueLocationsCount: true,\n    displayIssueLocationsLink: true,\n    displayLocationMarkers: true,\n    loadComponent: defaultLoadComponent,\n    loadIssues: defaultLoadIssues,\n    loadSources: defaultLoadSources\n  };\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      displayDuplications: false,\n      duplicationsByLine: {},\n      hasSourcesAfter: false,\n      highlightedSymbols: [],\n      issuesByLine: {},\n      issueLocationsByLine: {},\n      loading: true,\n      loadingSourcesAfter: false,\n      loadingSourcesBefore: false,\n      notAccessible: false,\n      notExist: false,\n      openIssuesByLine: {},\n      selectedIssue: props.selectedIssue,\n      sourceRemoved: false,\n      symbolsByLine: {}\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    // if a component or a branch has changed,\n    // set `loading: true` immediately to avoid unwanted scrolling in `LineCode`\n    if (\n      nextProps.component !== this.props.component ||\n      !isSameBranchLike(nextProps.branchLike, this.props.branchLike)\n    ) {\n      this.setState({ loading: true });\n    }\n    if (\n      nextProps.onIssueSelect !== undefined &&\n      nextProps.selectedIssue !== this.props.selectedIssue\n    ) {\n      this.setState({ selectedIssue: nextProps.selectedIssue });\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.fetchComponent();\n    } else if (\n      this.props.aroundLine !== undefined &&\n      prevProps.aroundLine !== this.props.aroundLine &&\n      this.isLineOutsideOfRange(this.props.aroundLine)\n    ) {\n      this.fetchSources();\n    } else {\n      const { selectedIssue } = this.props;\n      const { issues } = this.state;\n      if (\n        selectedIssue !== undefined &&\n        issues !== undefined &&\n        issues.find(issue => issue.key === selectedIssue) === undefined\n      ) {\n        this.reloadIssues();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  computeCoverageStatus(lines: SourceLine[]) {\n    return lines.map(line => ({ ...line, coverageStatus: getCoverageStatus(line) }));\n  }\n\n  isLineOutsideOfRange(lineNumber: number) {\n    const { sources } = this.state;\n    if (sources && sources.length > 0) {\n      const firstLine = sources[0];\n      const lastList = sources[sources.length - 1];\n      return lineNumber < firstLine.line || lineNumber > lastList.line;\n    } else {\n      return true;\n    }\n  }\n\n  fetchComponent() {\n    this.setState({ loading: true });\n\n    const to = (this.props.aroundLine || 0) + LINES;\n    const loadIssues = (component: SourceViewerFile, sources: SourceLine[]) => {\n      this.props.loadIssues(this.props.component, 1, to, this.props.branchLike).then(\n        issues => {\n          if (this.mounted) {\n            const finalSources = sources.slice(0, LINES);\n\n            this.setState(\n              {\n                component,\n                displayDuplications: false,\n                duplicatedFiles: undefined,\n                duplications: undefined,\n                duplicationsByLine: {},\n                hasSourcesAfter: sources.length > LINES,\n                highlightedSymbols: [],\n                issueLocationsByLine: locationsByLine(issues),\n                issues,\n                issuesByLine: issuesByLine(issues),\n                linePopup: undefined,\n                loading: false,\n                notAccessible: false,\n                notExist: false,\n                openIssuesByLine: {},\n                issuePopup: undefined,\n                sourceRemoved: false,\n                sources: this.computeCoverageStatus(finalSources),\n                symbolsByLine: symbolsByLine(sources.slice(0, LINES))\n              },\n              () => {\n                if (this.props.onLoaded) {\n                  this.props.onLoaded(component, finalSources, issues);\n                }\n              }\n            );\n          }\n        },\n        () => {\n          // TODO\n        }\n      );\n    };\n\n    const onFailLoadComponent = ({ response }: { response: Response }) => {\n      // TODO handle other statuses\n      if (this.mounted) {\n        if (response.status === 403) {\n          this.setState({ loading: false, notAccessible: true });\n        } else if (response.status === 404) {\n          this.setState({ loading: false, notExist: true });\n        }\n      }\n    };\n\n    const onFailLoadSources = (response: Response, component: SourceViewerFile) => {\n      // TODO handle other statuses\n      if (this.mounted) {\n        if (response.status === 403) {\n          this.setState({ component, loading: false, notAccessible: true });\n        } else if (response.status === 404) {\n          this.setState({ component, loading: false, sourceRemoved: true });\n        }\n      }\n    };\n\n    const onResolve = (component: SourceViewerFile) => {\n      const sourcesRequest =\n        component.q === 'FIL' || component.q === 'UTS' ? this.loadSources() : Promise.resolve([]);\n      sourcesRequest.then(\n        sources => loadIssues(component, sources),\n        response => onFailLoadSources(response, component)\n      );\n    };\n\n    this.props\n      .loadComponent(this.props.component, this.props.branchLike)\n      .then(onResolve, onFailLoadComponent);\n  }\n\n  fetchSources() {\n    this.loadSources().then(\n      sources => {\n        if (this.mounted) {\n          const finalSources = sources.slice(0, LINES);\n          this.setState(\n            {\n              sources: sources.slice(0, LINES),\n              hasSourcesAfter: sources.length > LINES\n            },\n            () => {\n              if (this.props.onLoaded && this.state.component && this.state.issues) {\n                this.props.onLoaded(this.state.component, finalSources, this.state.issues);\n              }\n            }\n          );\n        }\n      },\n      () => {\n        // TODO\n      }\n    );\n  }\n\n  reloadIssues() {\n    if (!this.state.sources) {\n      return;\n    }\n    const firstSourceLine = this.state.sources[0];\n    const lastSourceLine = this.state.sources[this.state.sources.length - 1];\n    this.props\n      .loadIssues(\n        this.props.component,\n        firstSourceLine && firstSourceLine.line,\n        lastSourceLine && lastSourceLine.line,\n        this.props.branchLike\n      )\n      .then(\n        issues => {\n          if (this.mounted) {\n            this.setState({\n              issues,\n              issuesByLine: issuesByLine(issues),\n              issueLocationsByLine: locationsByLine(issues)\n            });\n          }\n        },\n        () => {\n          // TODO\n        }\n      );\n  }\n\n  loadSources = (): Promise<SourceLine[]> => {\n    return new Promise((resolve, reject) => {\n      const onFailLoadSources = ({ response }: { response: Response }) => {\n        // TODO handle other statuses\n        if (this.mounted) {\n          if ([403, 404].includes(response.status)) {\n            reject(response);\n          } else {\n            resolve([]);\n          }\n        }\n      };\n\n      const from = this.props.aroundLine ? Math.max(1, this.props.aroundLine - LINES / 2 + 1) : 1;\n\n      let to = this.props.aroundLine ? this.props.aroundLine + LINES / 2 + 1 : LINES + 1;\n      // make sure we try to download `LINES` lines\n      if (from === 1 && to < LINES) {\n        to = LINES;\n      }\n      // request one additional line to define `hasSourcesAfter`\n      to++;\n\n      return this.props\n        .loadSources(this.props.component, from, to, this.props.branchLike)\n        .then(sources => resolve(sources), onFailLoadSources);\n    });\n  };\n\n  loadSourcesBefore = () => {\n    if (!this.state.sources) {\n      return;\n    }\n    const firstSourceLine = this.state.sources[0];\n    this.setState({ loadingSourcesBefore: true });\n    const from = Math.max(1, firstSourceLine.line - LINES);\n    this.props\n      .loadSources(this.props.component, from, firstSourceLine.line - 1, this.props.branchLike)\n      .then(\n        sources => {\n          this.props\n            .loadIssues(this.props.component, from, firstSourceLine.line - 1, this.props.branchLike)\n            .then(\n              issues => {\n                if (this.mounted) {\n                  this.setState(prevState => {\n                    const nextIssues = uniqBy(\n                      [...issues, ...(prevState.issues || [])],\n                      issue => issue.key\n                    );\n                    return {\n                      issues: nextIssues,\n                      issuesByLine: issuesByLine(nextIssues),\n                      issueLocationsByLine: locationsByLine(nextIssues),\n                      loadingSourcesBefore: false,\n                      sources: [\n                        ...this.computeCoverageStatus(sources),\n                        ...(prevState.sources || [])\n                      ],\n                      symbolsByLine: { ...prevState.symbolsByLine, ...symbolsByLine(sources) }\n                    };\n                  });\n                }\n              },\n              () => {\n                // TODO\n              }\n            );\n        },\n        () => {\n          // TODO\n        }\n      );\n  };\n\n  loadSourcesAfter = () => {\n    if (!this.state.sources) {\n      return;\n    }\n    const lastSourceLine = this.state.sources[this.state.sources.length - 1];\n    this.setState({ loadingSourcesAfter: true });\n    const fromLine = lastSourceLine.line + 1;\n    // request one additional line to define `hasSourcesAfter`\n    const toLine = lastSourceLine.line + LINES + 1;\n    this.props.loadSources(this.props.component, fromLine, toLine, this.props.branchLike).then(\n      sources => {\n        this.props.loadIssues(this.props.component, fromLine, toLine, this.props.branchLike).then(\n          issues => {\n            if (this.mounted) {\n              this.setState(prevState => {\n                const nextIssues = uniqBy(\n                  [...(prevState.issues || []), ...issues],\n                  issue => issue.key\n                );\n                return {\n                  issues: nextIssues,\n                  issuesByLine: issuesByLine(nextIssues),\n                  issueLocationsByLine: locationsByLine(nextIssues),\n                  hasSourcesAfter: sources.length > LINES,\n                  loadingSourcesAfter: false,\n                  sources: [\n                    ...(prevState.sources || []),\n                    ...this.computeCoverageStatus(sources.slice(0, LINES))\n                  ],\n                  symbolsByLine: {\n                    ...prevState.symbolsByLine,\n                    ...symbolsByLine(sources.slice(0, LINES))\n                  }\n                };\n              });\n            }\n          },\n          () => {\n            // TODO\n          }\n        );\n      },\n      () => {\n        // TODO\n      }\n    );\n  };\n\n  loadDuplications = (line: SourceLine) => {\n    getDuplications({\n      key: this.props.component,\n      ...getBranchLikeQuery(this.props.branchLike)\n    }).then(\n      r => {\n        if (this.mounted) {\n          this.setState(state => ({\n            displayDuplications: true,\n            duplications: r.duplications,\n            duplicationsByLine: duplicationsByLine(r.duplications),\n            duplicatedFiles: r.files,\n            linePopup:\n              r.duplications.length === 1\n                ? { index: 0, line: line.line, name: 'duplications' }\n                : state.linePopup\n          }));\n        }\n      },\n      () => {\n        // TODO\n      }\n    );\n  };\n\n  handleLinePopupToggle = ({\n    index,\n    line,\n    name,\n    open\n  }: {\n    index?: number;\n    line: number;\n    name: string;\n    open?: boolean;\n  }) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.linePopup !== undefined &&\n        state.linePopup.name === name &&\n        state.linePopup.line === line &&\n        state.linePopup.index === index;\n      if (open !== false && !samePopup) {\n        return { linePopup: { index, line, name } };\n      } else if (open !== true && samePopup) {\n        return { linePopup: undefined };\n      }\n      return null;\n    });\n  };\n\n  closeLinePopup = () => {\n    this.setState({ linePopup: undefined });\n  };\n\n  handleIssuePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.issuePopup && state.issuePopup.name === popupName && state.issuePopup.issue === issue;\n      if (open !== false && !samePopup) {\n        return { issuePopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { issuePopup: undefined };\n      }\n      return null;\n    });\n  };\n\n  handleSymbolClick = (symbols: string[]) => {\n    this.setState(state => {\n      const shouldDisable = intersection(state.highlightedSymbols, symbols).length > 0;\n      const highlightedSymbols = shouldDisable ? [] : symbols;\n      return { highlightedSymbols };\n    });\n  };\n\n  handleIssueSelect = (issue: string) => {\n    if (this.props.onIssueSelect) {\n      this.props.onIssueSelect(issue);\n    } else {\n      this.setState({ selectedIssue: issue });\n    }\n  };\n\n  handleIssueUnselect = () => {\n    if (this.props.onIssueUnselect) {\n      this.props.onIssueUnselect();\n    } else {\n      this.setState({ selectedIssue: undefined });\n    }\n  };\n\n  handleOpenIssues = (line: SourceLine) => {\n    this.setState(state => ({\n      openIssuesByLine: { ...state.openIssuesByLine, [line.line]: true }\n    }));\n  };\n\n  handleCloseIssues = (line: SourceLine) => {\n    this.setState(state => ({\n      openIssuesByLine: { ...state.openIssuesByLine, [line.line]: false }\n    }));\n  };\n\n  handleIssueChange = (issue: Issue) => {\n    this.setState(({ issues = [] }) => {\n      const newIssues = issues.map(candidate => (candidate.key === issue.key ? issue : candidate));\n      return { issues: newIssues, issuesByLine: issuesByLine(newIssues) };\n    });\n    if (this.props.onIssueChange) {\n      this.props.onIssueChange(issue);\n    }\n  };\n\n  renderDuplicationPopup = (index: number, line: number) => {\n    const { component, duplicatedFiles, duplications } = this.state;\n\n    if (!component || !duplicatedFiles) return <></>;\n\n    const duplication = duplications && duplications[index];\n    let blocks = (duplication && duplication.blocks) || [];\n    /* eslint-disable no-underscore-dangle */\n    const inRemovedComponent = blocks.some(b => b._ref === undefined);\n    let foundOne = false;\n    blocks = blocks.filter(b => {\n      const outOfBounds = b.from > line || b.from + b.size < line;\n      const currentFile = b._ref === '1';\n      const shouldDisplayForCurrentFile = outOfBounds || foundOne;\n      const shouldDisplay = !currentFile || shouldDisplayForCurrentFile;\n      const isOk = b._ref !== undefined && shouldDisplay;\n      if (b._ref === '1' && !outOfBounds) {\n        foundOne = true;\n      }\n      return isOk;\n    });\n    /* eslint-enable no-underscore-dangle */\n\n    return (\n      <DuplicationPopup\n        blocks={blocks}\n        branchLike={this.props.branchLike}\n        duplicatedFiles={duplicatedFiles}\n        inRemovedComponent={inRemovedComponent}\n        onClose={this.closeLinePopup}\n        sourceViewerFile={component}\n      />\n    );\n  };\n\n  renderCode(sources: SourceLine[]) {\n    const hasSourcesBefore = sources.length > 0 && sources[0].line > 1;\n    return (\n      <SourceViewerCode\n        branchLike={this.props.branchLike}\n        componentKey={this.props.component}\n        displayAllIssues={this.props.displayAllIssues}\n        displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n        displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n        displayLocationMarkers={this.props.displayLocationMarkers}\n        duplications={this.state.duplications}\n        duplicationsByLine={this.state.duplicationsByLine}\n        hasSourcesAfter={this.state.hasSourcesAfter}\n        hasSourcesBefore={hasSourcesBefore}\n        highlightedLine={this.props.highlightedLine}\n        highlightedLocationMessage={this.props.highlightedLocationMessage}\n        highlightedLocations={this.props.highlightedLocations}\n        highlightedSymbols={this.state.highlightedSymbols}\n        issueLocationsByLine={this.state.issueLocationsByLine}\n        issuePopup={this.state.issuePopup}\n        issues={this.state.issues}\n        issuesByLine={this.state.issuesByLine}\n        linePopup={this.state.linePopup}\n        loadDuplications={this.loadDuplications}\n        loadSourcesAfter={this.loadSourcesAfter}\n        loadSourcesBefore={this.loadSourcesBefore}\n        loadingSourcesAfter={this.state.loadingSourcesAfter}\n        loadingSourcesBefore={this.state.loadingSourcesBefore}\n        onIssueChange={this.handleIssueChange}\n        onIssuePopupToggle={this.handleIssuePopupToggle}\n        onIssueSelect={this.handleIssueSelect}\n        onIssueUnselect={this.handleIssueUnselect}\n        onIssuesClose={this.handleCloseIssues}\n        onIssuesOpen={this.handleOpenIssues}\n        onLinePopupToggle={this.handleLinePopupToggle}\n        onLocationSelect={this.props.onLocationSelect}\n        onSymbolClick={this.handleSymbolClick}\n        openIssuesByLine={this.state.openIssuesByLine}\n        renderDuplicationPopup={this.renderDuplicationPopup}\n        scroll={this.props.scroll}\n        selectedIssue={this.state.selectedIssue}\n        sources={sources}\n        symbolsByLine={this.state.symbolsByLine}\n      />\n    );\n  }\n\n  render() {\n    const { component, loading, sources, notAccessible, sourceRemoved } = this.state;\n\n    if (loading) {\n      return null;\n    }\n\n    if (this.state.notExist) {\n      return (\n        <div className=\"alert alert-warning spacer-top\">\n          {translate('component_viewer.no_component')}\n        </div>\n      );\n    }\n\n    if (notAccessible) {\n      return (\n        <div className=\"alert alert-warning spacer-top\">\n          {translate('code_viewer.no_source_code_displayed_due_to_security')}\n        </div>\n      );\n    }\n\n    if (!component) {\n      return null;\n    }\n\n    const className = classNames('source-viewer', {\n      'source-duplications-expanded': this.state.displayDuplications\n    });\n\n    return (\n      <div className={className} ref={node => (this.node = node)}>\n        {this.state.component && (\n          <SourceViewerHeader\n            branchLike={this.props.branchLike}\n            sourceViewerFile={this.state.component}\n          />\n        )}\n        {sourceRemoved && (\n          <div className=\"alert alert-warning spacer-top\">\n            {translate('code_viewer.no_source_code_displayed_due_to_source_removed')}\n          </div>\n        )}\n        {!sourceRemoved && sources !== undefined && this.renderCode(sources)}\n      </div>\n    );\n  }\n}\n\nfunction defaultLoadComponent(component: string, branchLike: BranchLike | undefined) {\n  return Promise.all([\n    getComponentForSourceViewer({ component, ...getBranchLikeQuery(branchLike) }),\n    getComponentData({ component, ...getBranchLikeQuery(branchLike) })\n  ]).then(([component, data]) => ({\n    ...component,\n    leakPeriodDate: data.leakPeriodDate\n  }));\n}\n\nfunction defaultLoadSources(\n  key: string,\n  from: number | undefined,\n  to: number | undefined,\n  branchLike: BranchLike | undefined\n) {\n  return getSources({ key, from, to, ...getBranchLikeQuery(branchLike) });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { SourceLine } from '../../../app/types';\n\nexport default function getCoverageStatus(s: SourceLine): string | undefined {\n  let status: string | undefined;\n  if (s.lineHits != null && s.lineHits > 0) {\n    status = 'partially-covered';\n  }\n  if (s.lineHits != null && s.lineHits > 0 && s.conditions === s.coveredConditions) {\n    status = 'covered';\n  }\n  if (s.lineHits === 0 || s.coveredConditions === 0) {\n    status = 'uncovered';\n  }\n  return status;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function EllipsisIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M5.273 7.182v1.636a.818.818 0 0 1-.818.818H2.818A.818.818 0 0 1 2 8.818V7.182c0-.452.366-.818.818-.818h1.637c.451 0 .818.366.818.818zm4.363 0v1.636a.818.818 0 0 1-.818.818H7.182a.818.818 0 0 1-.818-.818V7.182c0-.452.366-.818.818-.818h1.636c.452 0 .818.366.818.818zm4.364 0v1.636a.818.818 0 0 1-.818.818h-1.637a.818.818 0 0 1-.818-.818V7.182c0-.452.367-.818.818-.818h1.637c.452 0 .818.366.818.818z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ListIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M15.045 11.526v1.007q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 8.506v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 5.487v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 2.468v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\n/*::\nexport type ChangelogDiff = {\n  key: string,\n  oldValue?: string,\n  newValue?: string\n};\n*/\n\nexport default function IssueChangelogDiff(props /*: { diff: ChangelogDiff } */) {\n  const { diff } = props;\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n  if (diff.key === 'from_long_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_long_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n  if (diff.key === 'from_short_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_short_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let newValue /*: string */ = diff.newValue;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let oldValue /*: string */ = diff.oldValue;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { getIssueChangelog } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { ChangelogDiff } from '../components/IssueChangelogDiff'; */\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Changelog = {\n  avatar?: string,\n  creationDate: string,\n  diffs: Array<ChangelogDiff>,\n  user: string,\n  userName: string\n};\n*/\n\n/*::\ntype Props = {\n  issue: Issue,\n  popupPosition?: {}\n};\n*/\n\n/*::\ntype State = {\n  changelogs: Array<Changelog>\n};\n*/\n\nexport default class ChangelogPopup extends React.PureComponent {\n  /*:: mounted: boolean; */\n  /*:: props: Props; */\n  state /*: State */ = {\n    changelogs: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      changelogs => {\n        if (this.mounted) {\n          this.setState({ changelogs });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelogs.map((item, idx) => (\n                <tr key={idx}>\n                  <td className=\"thin text-left text-top nowrap\">\n                    <DateTimeFormatter date={item.creationDate} />\n                  </td>\n                  <td className=\"text-left text-top\">\n                    {item.userName && (\n                      <p>\n                        <Avatar\n                          className=\"little-spacer-right\"\n                          hash={item.avatar}\n                          name={item.userName}\n                          size={16}\n                        />\n                        {item.userName}\n                      </p>\n                    )}\n                    {item.diffs.map(diff => (\n                      <IssueChangelogDiff diff={diff} key={diff.key} />\n                    ))}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ChangelogPopup from '../popups/ChangelogPopup';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport DateFromNow from '../../intl/DateFromNow';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport Toggler from '../../controls/Toggler';\nimport Tooltip from '../../controls/Tooltip';\nimport { Button } from '../../ui/buttons';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  isOpen: boolean,\n  issue: Issue,\n  creationDate: string,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueChangelog extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleChangelog = (open /*: boolean | void */) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport EllipsisIcon from '../../icons-components/EllipsisIcon';\nimport Tooltip from '../../controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button } from '../../ui/buttons';\n\nexport default class IssueMessage extends React.PureComponent {\n  /*:: props: {\n    engine?: string,\n    manualVulnerability: boolean,\n    message: string,\n    organization: string,\n    rule: string\n  };\n  */\n\n  static contextTypes = {\n    workspace: PropTypes.object.isRequired\n  };\n\n  handleClick = () => {\n    this.context.workspace.openRule({\n      key: this.props.rule,\n      organization: this.props.organization\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"issue-message\">\n        {this.props.message}\n        <Button\n          aria-label={translate('issue.rule_details')}\n          className=\"button-link issue-rule little-spacer-left\"\n          onClick={this.handleClick}>\n          <EllipsisIcon />\n        </Button>\n        {this.props.engine && (\n          <Tooltip\n            overlay={translateWithParameters('issue.from_external_rule_engine', this.props.engine)}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {this.props.engine}\n            </div>\n          </Tooltip>\n        )}\n        {this.props.manualVulnerability && (\n          <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {translate('issue.manual_vulnerability')}\n            </div>\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport Tooltip from '../controls/Tooltip';\n\n/*::\ntype Props = {\n  active?: string,\n  children?: React.Element<*>,\n  item: string,\n  onSelect?: string => void,\n  onHover?: string => void,\n  title?: string\n};\n*/\n\nexport default class SelectListItem extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleSelect = (evt /*: SyntheticInputEvent */) => {\n    evt.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    let children = this.props.item;\n    if (this.props.children) {\n      children = this.props.children;\n    }\n    return (\n      <li>\n        <a\n          className={classNames({ active: this.props.active === this.props.item })}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport classNames from 'classnames';\nimport SelectListItem from './SelectListItem';\n\n/*::\ntype Props = {\n  children?: SelectListItem,\n  className?: string,\n  items: Array<string>,\n  currentItem: string,\n  onSelect: string => void\n};\n*/\n\n/*::\ntype State = {\n  active: string\n};\n*/\n\nexport default class SelectList extends React.PureComponent {\n  /*:: currentKeyScope: string; */\n  /*:: previousFilter: Function; */\n  /*:: previousKeyScope: string; */\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (\n      nextProps.currentItem !== this.props.currentItem &&\n      !nextProps.items.includes(this.state.active)\n    ) {\n      this.setState({ active: nextProps.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    key.filter = (event /*: KeyboardEvent & { target: HTMLElement } */) => {\n      const tagName = (event.target || event.srcElement).tagName;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    key.setScope(this.previousKeyScope);\n    key.deleteScope(this.currentKeyScope);\n    key.filter = this.previousFilter;\n  };\n\n  handleSelect = (item /*: string */) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item /*: string */) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state /*: State */, props /*: Props */) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state /*: State */, props /*: Props */) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child /*: Object */) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport TagsIcon from '../../icons-components/TagsIcon';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport Avatar from '../../ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport { fileFromPath, limitComponentName } from '../../../helpers/path';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  issue: Issue,\n  onFilter: (property: string, issue: Issue) => void,\n|};\n*/\n\nexport default class SimilarIssuesPopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleSelect = (property /*: string */) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      // $FlowFixMe items are filtered later\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item);\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper status={issue.status} />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {issue.assignee != null ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={issue.assigneeName || issue.assignee}\n                  size={16}\n                />\n                {issue.assigneeName || issue.assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport FilterIcon from '../../icons-components/FilterIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  isOpen: boolean,\n  issue: Issue,\n  togglePopup: (string, boolean | void) => void,\n  onFilter: (property: string, issue: Issue) => void\n|};\n*/\n\nexport default class SimilarIssuesFilter extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleClick = (evt /*: SyntheticInputEvent */) => {\n    evt.preventDefault();\n    this.togglePopup();\n  };\n\n  handleFilter = (property /*: string */, issue /*: Issue */) => {\n    this.togglePopup(false);\n    this.props.onFilter(property, issue);\n  };\n\n  togglePopup = (open /*: boolean | void */) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <Button\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"js-issue-filter button-link issue-action issue-action-with-options\"\n            onClick={this.handleClick}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </Button>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { Link } from 'react-router';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\nimport LinkIcon from '../../icons-components/LinkIcon';\nimport LocationIndex from '../../common/LocationIndex';\nimport Tooltip from '../../controls/Tooltip';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { IssueType } from '../../../app/types';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  branchLike?: { id?: string; name: string },\n  currentPopup: ?string,\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: Issue,\n  onFilter?: (property: string, issue: Issue) => void,\n  togglePopup: (string, boolean | void) => void\n|};\n*/\n\nexport default function IssueTitleBar(props /*: Props */) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount)\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <IssueMessage\n        engine={issue.externalRuleEngine}\n        manualVulnerability={issue.fromHotspot && issue.type === IssueType.Vulnerability}\n        message={issue.message}\n        organization={issue.organization}\n        rule={issue.rule}\n      />\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { map } from 'lodash';\nimport { connect } from 'react-redux';\nimport * as PropTypes from 'prop-types';\nimport Avatar from '../../ui/Avatar';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SearchBox from '../../controls/SearchBox';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { translate } from '../../../helpers/l10n';\nimport { getCurrentUser } from '../../../store/rootReducer';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype User = {\n  avatar?: string,\n  email?: string,\n  login: string,\n  name: string\n};\n*/\n\n/*::\ntype Props = {\n  currentUser: User,\n  issue: Issue,\n  onSelect: string => void,\n  popupPosition?: {}\n};\n*/\n\n/*::\ntype State = {\n  query: string,\n  users: Array<User>,\n  currentUser: string\n};\n*/\n\nconst LIST_SIZE = 10;\n\nclass SetAssigneePopup extends React.PureComponent {\n  /*:: defaultUsersArray: Array<User>; */\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    organizationsEnabled: PropTypes.bool\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (props.currentUser.isLoggedIn) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query /*: string */) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query /*: string */) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = (data /*: Object */) => {\n    this.setState({\n      users: data.users,\n      currentUser: data.users.length > 0 ? data.users[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query /*: string */) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (this.context.organizationsEnabled) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span\n                  className=\"vertical-middle\"\n                  style={{ marginLeft: !user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  isOpen: boolean,\n  issue: Issue,\n  canAssign: boolean,\n  onAssign: string => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueAssign extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleAssign = (open /*: boolean | void */) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    return (\n      <span>\n        {issue.assignee && (\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n        )}\n        <span className=\"issue-meta-label\">\n          {issue.assignee ? issue.assigneeName || issue.assignee : translate('unassigned')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport { parseIssueFromResponse } from '../../helpers/issues';\n/*:: import type { Issue } from './types'; */\n\nexport const updateIssue = (\n  onChange /*: Issue => void */,\n  resultPromise /*: Promise<*> */,\n  oldIssue /*: ?Issue */,\n  newIssue /*: ?Issue */\n) => {\n  const optimisticUpdate = oldIssue != null && newIssue != null;\n  if (optimisticUpdate) {\n    // $FlowFixMe `newIssue` is not null, because `optimisticUpdate` is true\n    onChange(newIssue);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    error => {\n      if (optimisticUpdate) {\n        // $FlowFixMe `oldIssue` is not null, because `optimisticUpdate` is true\n        onChange(oldIssue);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport MarkdownTips from '../../common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { IssueComment } from '../types'; */\n\n/*::\ntype Props = {\n  comment?: IssueComment,\n  onComment: string => void,\n  toggleComment: boolean => void,\n  placeholder: string,\n  popupPosition?: {}\n};\n*/\n\n/*::\ntype State = {\n  textComment: string\n};\n*/\n\nexport default class CommentPopup extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  constructor(props /*: Props */) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (evt /*: SyntheticInputEvent */) => {\n    this.setState({ textComment: evt.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (evt /*: KeyboardEvent */) => {\n    if (evt.keyCode === 13 && (evt.metaKey || evt.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(evt.keyCode)) {\n      // Arrow keys\n      evt.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <DropdownOverlay>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows=\"2\"\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { updateIssue } from '../actions';\nimport Toggler from '../../controls/Toggler';\nimport { Button } from '../../ui/buttons';\nimport CommentPopup from '../popups/CommentPopup';\nimport { addIssueComment } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  commentPlaceholder: string,\n  currentPopup: ?string,\n  issueKey: string,\n  onChange: Issue => void,\n  toggleComment: (open?: boolean, placeholder?: string) => void\n|};\n*/\n\nexport default class IssueCommentAction extends React.PureComponent {\n  /*:: props: Props; */\n\n  addComment = (text /*: string */) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <Button\n            className=\"button-link issue-action js-issue-comment\"\n            onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </Button>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityIcon from '../../icons-components/SeverityIcon';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  issue: Issue,\n  onSelect: string => void,\n};\n*/\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default class SetSeverityPopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    return (\n      <DropdownOverlay>\n        <SelectList\n          currentItem={this.props.issue.severity}\n          items={SEVERITY}\n          onSelect={this.props.onSelect}>\n          {SEVERITY.map(severity => (\n            <SelectListItem item={severity} key={severity}>\n              <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n              {translate('severity', severity)}\n            </SelectListItem>\n          ))}\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\nimport { setIssueSeverity } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport { Button } from '../../ui/buttons';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  canSetSeverity: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  setIssueProperty: (string, string, apiCall: (Object) => Promise<*>, string) => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueSeverity extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleSetSeverity = (open /*: boolean | void */) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity /*: string */) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { difference, without } from 'lodash';\nimport TagsSelector from '../../tags/TagsSelector';\nimport { searchIssueTags } from '../../../api/issues';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\nimport { setIssueTags } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport TagsList from '../../tags/TagsList';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {|\n  canSetTags: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  onChange: Issue => void,\n  togglePopup: (string, boolean | void) => void\n|};\n*/\n\nexport default class IssueTags extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleSetTags = (open /*: boolean | void */) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags /*: Array<string> */) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue,\n      newIssue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <Button\n              className={'js-issue-edit-tags button-link issue-action issue-action-with-options'}\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\n/*::\ntype Props = {\n  transitions: Array<string>,\n  onSelect: string => void,\n};\n*/\n\nexport default class SetTransitionPopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const { transitions } = this.props;\n    return (\n      <DropdownOverlay>\n        <SelectList currentItem={transitions[0]} items={transitions} onSelect={this.props.onSelect}>\n          {transitions.map(transition => {\n            return (\n              <SelectListItem\n                item={transition}\n                key={transition}\n                title={translate('issue.transition', transition, 'description')}>\n                {translate('issue.transition', transition)}\n              </SelectListItem>\n            );\n          })}\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\nimport { setIssueTransition } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { Button } from '../../ui/buttons';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  hasTransitions: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  onChange: Issue => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueTransition extends React.PureComponent {\n  /*:: props: Props; */\n\n  setTransition = (transition /*: string */) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open /*: boolean | void */) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup onSelect={this.setTransition} transitions={issue.transitions} />\n            }>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { IssueType } from '../../../app/types';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  issue: Issue,\n  onSelect: string => void,\n};\n*/\n\nconst TYPES = [IssueType.Bug, IssueType.Vulnerability, IssueType.CodeSmell];\n\nexport default class SetTypePopup extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    return (\n      <DropdownOverlay>\n        <SelectList\n          currentItem={this.props.issue.type}\n          items={TYPES}\n          onSelect={this.props.onSelect}>\n          {TYPES.map(type => (\n            <SelectListItem item={type} key={type}>\n              <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n              {translate('issue.type', type)}\n            </SelectListItem>\n          ))}\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport SetTypePopup from '../popups/SetTypePopup';\nimport { setIssueType } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  canSetType: boolean,\n  isOpen: boolean,\n  issue: Issue,\n  setIssueProperty: (string, string, apiCall: (Object) => Promise<*>, string) => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\nexport default class IssueType extends React.PureComponent {\n  /*:: props: Props; */\n\n  toggleSetType = (open /*: boolean | void */) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type /*: string */) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\nimport { updateIssue } from '../actions';\nimport { IssueType as IssueTypes } from '../../../app/types';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n/*:: import type { Issue } from '../types'; */\n\n/*::\ntype Props = {\n  issue: Issue,\n  currentPopup: ?string,\n  onAssign: string => void,\n  onChange: Issue => void,\n  togglePopup: (string, boolean | void) => void\n};\n*/\n\n/*::\ntype State = {\n  commentPlaceholder: string\n};\n*/\n\nexport default class IssueActionsBar extends React.PureComponent {\n  /*:: props: Props; */\n  state /*: State */ = {\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property /*: string */,\n    popup /*: string */,\n    apiCall /*: Object => Promise<*> */,\n    value /*: string */\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open /*: boolean | void */, placeholder /*: string | void */) => {\n    this.setState({ commentPlaceholder: placeholder || '' });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue /*: Issue */) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== IssueTypes.Hotspot)\n    ) {\n      this.toggleComment(true, translate('issue.comment.tell_why'));\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === IssueTypes.Hotspot;\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueAssign\n                canAssign={canAssign}\n                isOpen={this.props.currentPopup === 'assign' && canAssign}\n                issue={issue}\n                onAssign={this.props.onAssign}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          {!isSecurityHotspot &&\n            issue.effort && (\n              <li className=\"issue-meta\">\n                <span className=\"issue-meta-label\">\n                  {translateWithParameters('issue.x_effort', issue.effort)}\n                </span>\n              </li>\n            )}\n          {canComment && (\n            <IssueCommentAction\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\n/*::\ntype Props = {\n  onDelete: () => void,\n  popupPosition?: {}\n};\n*/\n\nexport default function CommentDeletePopup(props /*: Props */) {\n  return (\n    <DropdownOverlay>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={props.onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport EditIcon from '../../icons-components/EditIcon';\nimport { EditButton, DeleteButton } from '../../ui/buttons';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\nimport DateFromNow from '../../intl/DateFromNow';\n/*:: import type { IssueComment } from '../types'; */\n\n/*::\ntype Props = {\n  comment: IssueComment,\n  onDelete: string => void,\n  onEdit: (string, string) => void\n};\n*/\n\n/*::\ntype State = {\n  openPopup: string\n};\n*/\n\nexport default class IssueCommentLine extends React.PureComponent {\n  /*:: props: Props; */\n  state /*: State */ = {\n    openPopup: ''\n  };\n\n  handleEdit = (text /*: string */) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName /*: string */, force /*: ?boolean */) => {\n    this.setState((prevState /*: State */) => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force /*: ?boolean */) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force /*: ?boolean */) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={comment.authorName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={comment.authorName || comment.author}\n            size={16}\n          />\n          {comment.authorName || comment.author}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: comment.htmlText }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                className=\"display-inline-block\"\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                className=\"display-inline-block\"\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport IssueTitleBar from './components/IssueTitleBar';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport { updateIssue } from './actions';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\n/*:: import type { Issue } from './types'; */\n\n/*::\ntype Props = {|\n  branchLike?: { id?: string; name: string },\n  checked?: boolean,\n  currentPopup: ?string,\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: Issue,\n  onAssign: string => void,\n  onChange: Issue => void,\n  onCheck?: (issue: string, event: Event) => void,\n  onClick: string => void,\n  onFilter?: (property: string, issue: Issue) => void,\n  selected: boolean,\n  togglePopup: (string, boolean | void) => void\n|};\n*/\n\nexport default class IssueView extends React.PureComponent {\n  /*:: props: Props; */\n\n  handleCheck = (event /*: Event */) => {\n    event.preventDefault();\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key, event);\n    }\n  };\n\n  handleClick = (event /*: Event & { target: HTMLElement } */) => {\n    if (!isClickable(event.target) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment /*: string */, text /*: string */) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment /*: string */) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments &&\n          issue.comments.length > 0 && (\n            <div className=\"issue-comments\">\n              {issue.comments.map(comment => (\n                <IssueCommentLine\n                  comment={comment}\n                  key={comment.key}\n                  onDelete={this.deleteComment}\n                  onEdit={this.editComment}\n                />\n              ))}\n            </div>\n          )}\n        {hasCheckbox && (\n          <a className=\"js-toggle issue-checkbox-container\" href=\"#\" onClick={this.handleCheck}>\n            <i\n              className={classNames('issue-checkbox', 'icon-checkbox', {\n                'icon-checkbox-checked': this.props.checked\n              })}\n            />\n          </a>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node /*: any */) {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentNode);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport key from 'keymaster';\nimport PropTypes from 'prop-types';\nimport IssueView from './IssueView';\nimport { updateIssue } from './actions';\nimport { setIssueAssignee } from '../../api/issues';\n/*:: import type { Issue as IssueType } from './types'; */\nimport './Issue.css';\n\n/*::\ntype Props = {|\n  branchLike?: { id?: string; name: string },\n  checked?: boolean,\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: IssueType,\n  onChange: IssueType => void,\n  onCheck?: (issue: string, event: Event) => void,\n  onClick: string => void,\n  onFilter?: (property: string, issue: IssueType) => void,\n  onPopupToggle: (issue: string, popupName: string, open: ?boolean) => void,\n  openPopup: ?string,\n  selected: boolean\n|};\n*/\n\nexport default class Issue extends React.PureComponent {\n  /*:: props: Props; */\n\n  static contextTypes = {\n    store: PropTypes.object\n  };\n\n  static defaultProps = {\n    displayLocationsCount: true,\n    displayLocationsLink: true,\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps /*: Props */) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps /*: Props */) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', (event /*: Event*/) => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key, event);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName /*: string */, open /*: ?boolean */) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login /*: string */) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{position:absolute;bottom:calc(100% + 4px);left:0}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationMessage.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationMessage.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationMessage.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#ffeaea;box-shadow:inset 0 0 0 1px #ffeaea;transition:all .3s ease,border 0 ease}.issue.selected{box-shadow:none;border:1px solid #dd4040!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:1.5;font-size:13px;font-weight:600;text-overflow:ellipsis;overflow:hidden}.issue-message .button-link{height:16px}.issue-rule{vertical-align:top;margin-top:2px;padding:0 3px;opacity:.5}.issue-rule,.issue-rule:hover{background:rgba(75,159,213,.3)}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:table;width:100%}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{display:table-cell;vertical-align:top;width:1px;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{padding-right:5px;line-height:18px;line-height:1.5;outline:none;word-break:break-all}.issue-comment-actions,.issue-comment-text{display:table-cell;vertical-align:top;padding-left:5px}.issue-comment-actions{width:1px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:block}.issue-checkbox-container{display:none;position:absolute;width:29px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue-checkbox{position:absolute;top:50%;left:50%;margin:-8px 0 0 -8px}.issue:not(.selected) .location-index{background-color:#ccc}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Issue.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Issue.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./Issue.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#bc5e5e}.location-index.muted{background-color:#ccc}.location-index.is-leading{position:absolute;margin:1px 0 0 -4px!important;transform:translateX(-100%)}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#bc5e5e}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px;margin-left:4px;margin-right:4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationIndex.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationIndex.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./LocationIndex.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}