{"version":3,"sources":["webpack:///./src/main/js/apps/projects/create/AlmRepositoryItem.tsx","webpack:///./src/main/js/apps/projects/create/AutoProjectCreate.tsx","webpack:///./src/main/js/api/alm-integration.ts","webpack:///./src/main/js/apps/projects/create/ManualProjectCreate.tsx","webpack:///./src/main/js/apps/projects/create/utils.ts","webpack:///./src/main/js/apps/projects/create/CreateProjectPage.tsx","webpack:///./src/main/js/components/controls/Select.tsx","webpack:///./src/main/js/components/controls/react-select.css","webpack:///./src/main/js/components/controls/react-select.css?761c","webpack:///./src/main/js/components/controls/Checkbox.tsx","webpack:///./src/main/js/app/utils/handleRequiredAuthentication.ts","webpack:///./src/main/js/components/icons-components/CheckIcon.tsx","webpack:///./src/main/js/components/ui/IdentityProviderLink.css","webpack:///./src/main/js/components/ui/IdentityProviderLink.css?e309","webpack:///./src/main/js/components/ui/IdentityProviderLink.tsx"],"names":["_super","AlmRepositoryItem","_this","apply","this","arguments","handleChange","props","toggleRepository","repository","__extends","prototype","render","_a","identityProvider","selected","alreadyImported","Boolean","linkedProjectKey","index_js_exposed","Checkbox","checked","disabled","onCheck","alt","name","className","height","src","Object","urls","key","style","opacity","width","label","CheckIcon","fill","theme","react_router_es","to","l10n","AutoProjectCreate","mounted","state","loading","repositories","selectedRepositories","submitting","fetchRepositories","request","catch","throwGlobalError","then","almIntegration","setState","AutoProjectCreate_assign","handleFormSubmit","event","preventDefault","isValid","selectedRepositories_1","data","installationKeys","keys","filter","__assign","join","projects","onProjectCreate","map","project","projectKey","some","repo","installationKey","_b","undefined","renderContent","installed","onSubmit","create_AlmRepositoryItem","buttons","DeferredSpinner","IdentityProviderLink","small","url","installationUrl","AutoProjectCreate_extends","componentDidMount","componentWillUnmount","ManualProjectCreate_ManualProjectCreate","ManualProjectCreate","call","projectName","selectedOrganization","components","organization","handleOrganizationSelect","value","handleProjectNameChange","currentTarget","handleProjectKeyChange","getInitialSelectedOrganization","ManualProjectCreate_extends","userOrganizations","length","htmlFor","Select","autoFocus","clearable","id","onChange","options","sortBy_default","o","toLowerCase","required","maxLength","minLength","type","mapDispatchToProps","fetchMyOrganizations","actions","create_ManualProjectCreate","es","rootReducer","parseQuery","memoize_default","urlQuery","error","helpers_query","manual","serializeQuery","query","CreateProjectPage_CreateProjectPage","CreateProjectPage","handleProjectCreate","projectKeys","api_users","skipOnboardingAction","router","push","pathname","canAutoCreate","currentUser","includes","externalProvider","fetchIdentityProviders","identityProviders","find","showAuto","updateQuery","showManual","changes","replace","location","CreateProjectPage_assign","CreateProjectPage_extends","types","addGlobalErrorMessage","document","body","classList","add","documentElement","handleRequiredAuthentication","remove","displayManual","header","hasAutoProvisioning","Helmet_default","a","title","titleTemplate","classnames","href","onClick","alert-info","alert-muted","create_AutoProjectCreate","CreateProjectPage_mapDispatchToProps","globalMessages","users","__webpack_exports__","ReactSelectLib","__webpack_require__","e","bind","ReactSelect","_lazyLoad__WEBPACK_IMPORTED_MODULE_4__","ReactCreatable","lib","default","Creatable","ReactAsync","Async","renderInput","react__WEBPACK_IMPORTED_MODULE_0__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","color","_app_theme__WEBPACK_IMPORTED_MODULE_1__","_icons_components_ClearIcon__WEBPACK_IMPORTED_MODULE_2__","size","innerRef","__rest","ReactSelectAny","clearRenderer","ref","ReactCreatableAny","AsyncSelect","module","exports","i","content","hmr","transform","insertInto","locals","handleClick","blur","classnames__WEBPACK_IMPORTED_MODULE_1__","icon-checkbox-checked","icon-checkbox-single","thirdState","icon-checkbox-disabled","children","note","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","defaultProps","_getHistory__WEBPACK_IMPORTED_MODULE_0__","history","returnTo","window","search","hash","return_to","_Icon__WEBPACK_IMPORTED_MODULE_1__","d","dark-text","_helpers_colors__WEBPACK_IMPORTED_MODULE_2__","backgroundColor","_helpers_urls__WEBPACK_IMPORTED_MODULE_3__","iconPath"],"mappings":"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","file":"js/297.e98213eb.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as theme from '../../../app/theme';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport CheckIcon from '../../../components/icons-components/CheckIcon';\nimport { AlmRepository, IdentityProvider } from '../../../app/types';\nimport { getBaseUrl, getProjectUrl } from '../../../helpers/urls';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  identityProvider: IdentityProvider;\n  repository: AlmRepository;\n  selected: boolean;\n  toggleRepository: (repository: AlmRepository) => void;\n}\n\nexport default class AlmRepositoryItem extends React.PureComponent<Props> {\n  handleChange = () => {\n    this.props.toggleRepository(this.props.repository);\n  };\n\n  render() {\n    const { identityProvider, repository, selected } = this.props;\n    const alreadyImported = Boolean(repository.linkedProjectKey);\n    return (\n      <>\n        <Checkbox\n          checked={selected || alreadyImported}\n          disabled={alreadyImported}\n          onCheck={this.handleChange}>\n          <img\n            alt={identityProvider.name}\n            className=\"spacer-left\"\n            height={14}\n            src={`${getBaseUrl()}/images/sonarcloud/${identityProvider.key}.svg`}\n            style={{ opacity: alreadyImported ? 0.5 : 1 }}\n            width={14}\n          />\n          <span className=\"spacer-left\">{this.props.repository.label}</span>\n        </Checkbox>\n        {repository.linkedProjectKey && (\n          <span className=\"big-spacer-left\">\n            <CheckIcon className=\"little-spacer-right\" fill={theme.green} />\n            <Link to={getProjectUrl(repository.linkedProjectKey)}>\n              {translate('onboarding.create_project.already_imported')}\n            </Link>\n          </span>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AlmRepositoryItem from './AlmRepositoryItem';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport IdentityProviderLink from '../../../components/ui/IdentityProviderLink';\nimport { getRepositories, provisionProject } from '../../../api/alm-integration';\nimport { IdentityProvider, AlmRepository } from '../../../app/types';\nimport { SubmitButton } from '../../../components/ui/buttons';\nimport { translateWithParameters, translate } from '../../../helpers/l10n';\n\ninterface Props {\n  identityProvider: IdentityProvider;\n  onProjectCreate: (projectKeys: string[]) => void;\n}\n\ninterface State {\n  installationUrl?: string;\n  installed?: boolean;\n  loading: boolean;\n  repositories: AlmRepository[];\n  selectedRepositories: { [key: string]: AlmRepository | undefined };\n  submitting: boolean;\n}\n\nexport default class AutoProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true,\n    repositories: [],\n    selectedRepositories: {},\n    submitting: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRepositories();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRepositories = () => {\n    getRepositories().then(\n      ({ almIntegration, repositories }) => {\n        if (this.mounted) {\n          this.setState({ ...almIntegration, loading: false, repositories });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (this.isValid()) {\n      const { selectedRepositories } = this.state;\n      this.setState({ submitting: true });\n      provisionProject({\n        installationKeys: Object.keys(selectedRepositories).filter(key =>\n          Boolean(selectedRepositories[key])\n        )\n      }).then(\n        ({ projects }) => this.props.onProjectCreate(projects.map(project => project.projectKey)),\n        () => {\n          if (this.mounted) {\n            this.setState({ loading: true, submitting: false });\n            this.fetchRepositories();\n          }\n        }\n      );\n    }\n  };\n\n  isValid = () => {\n    return this.state.repositories.some(repo =>\n      Boolean(this.state.selectedRepositories[repo.installationKey])\n    );\n  };\n\n  toggleRepository = (repository: AlmRepository) => {\n    this.setState(({ selectedRepositories }) => ({\n      selectedRepositories: {\n        ...selectedRepositories,\n        [repository.installationKey]: selectedRepositories[repository.installationKey]\n          ? undefined\n          : repository\n      }\n    }));\n  };\n\n  renderContent = () => {\n    const { identityProvider } = this.props;\n    const { selectedRepositories, submitting } = this.state;\n\n    if (this.state.installed) {\n      return (\n        <form onSubmit={this.handleFormSubmit}>\n          <ul>\n            {this.state.repositories.map(repo => (\n              <li className=\"big-spacer-bottom\" key={repo.installationKey}>\n                <AlmRepositoryItem\n                  identityProvider={identityProvider}\n                  repository={repo}\n                  selected={Boolean(selectedRepositories[repo.installationKey])}\n                  toggleRepository={this.toggleRepository}\n                />\n              </li>\n            ))}\n          </ul>\n          <SubmitButton disabled={!this.isValid() || submitting}>\n            {translate('create')}\n          </SubmitButton>\n          <DeferredSpinner className=\"spacer-left\" loading={submitting} />\n        </form>\n      );\n    }\n    return (\n      <div>\n        <p className=\"spacer-bottom\">\n          {translateWithParameters(\n            'onboarding.create_project.install_app_x',\n            identityProvider.name\n          )}\n        </p>\n        <IdentityProviderLink\n          className=\"display-inline-block\"\n          identityProvider={identityProvider}\n          small={true}\n          url={this.state.installationUrl}>\n          {translateWithParameters(\n            'onboarding.create_project.install_app_x.button',\n            identityProvider.name\n          )}\n        </IdentityProviderLink>\n      </div>\n    );\n  };\n\n  render() {\n    const { identityProvider } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <>\n        <p className=\"alert alert-info width-60 big-spacer-bottom\">\n          {translateWithParameters(\n            'onboarding.create_project.beta_feature_x',\n            identityProvider.name\n          )}\n        </p>\n        {loading ? <DeferredSpinner /> : this.renderContent()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, postJSON } from '../helpers/request';\nimport { AlmRepository } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getRepositories(): Promise<{\n  almIntegration: {\n    installed: boolean;\n    installationUrl: string;\n  };\n  repositories: AlmRepository[];\n}> {\n  return getJSON('/api/alm_integration/list_repositories').catch(throwGlobalError);\n}\n\nexport function provisionProject(data: {\n  installationKeys: string[];\n}): Promise<{ projects: Array<{ projectKey: string }> }> {\n  return postJSON('/api/alm_integration/provision_projects', {\n    ...data,\n    installationKeys: data.installationKeys.join(',')\n  }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport Select from '../../../components/controls/Select';\nimport { SubmitButton } from '../../../components/ui/buttons';\nimport { LoggedInUser, Organization } from '../../../app/types';\nimport { fetchMyOrganizations } from '../../account/organizations/actions';\nimport { getMyOrganizations, Store } from '../../../store/rootReducer';\nimport { translate } from '../../../helpers/l10n';\nimport { createProject } from '../../../api/components';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface StateProps {\n  userOrganizations: Organization[];\n}\n\ninterface DispatchProps {\n  fetchMyOrganizations: () => Promise<void>;\n}\n\ninterface OwnProps {\n  currentUser: LoggedInUser;\n  onProjectCreate: (projectKeys: string[]) => void;\n  organization?: string;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\ninterface State {\n  projectName: string;\n  projectKey: string;\n  selectedOrganization: string;\n  submitting: boolean;\n}\n\nexport class ManualProjectCreate extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      projectName: '',\n      projectKey: '',\n      selectedOrganization: this.getInitialSelectedOrganization(props),\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getInitialSelectedOrganization(props: Props) {\n    if (props.organization) {\n      return props.organization;\n    } else if (props.userOrganizations.length === 1) {\n      return props.userOrganizations[0].key;\n    } else {\n      return '';\n    }\n  }\n\n  handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    if (this.isValid()) {\n      const { projectKey, projectName, selectedOrganization } = this.state;\n      this.setState({ submitting: true });\n      createProject({\n        project: projectKey,\n        name: projectName,\n        organization: selectedOrganization\n      }).then(\n        ({ project }) => this.props.onProjectCreate([project.key]),\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleOrganizationSelect = ({ value }: { value: string }) => {\n    this.setState({ selectedOrganization: value });\n  };\n\n  handleProjectNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ projectName: event.currentTarget.value });\n  };\n\n  handleProjectKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ projectKey: event.currentTarget.value });\n  };\n\n  isValid = () => {\n    const { projectKey, projectName, selectedOrganization } = this.state;\n    return Boolean(projectKey && projectName && selectedOrganization);\n  };\n\n  render() {\n    const { submitting } = this.state;\n    return (\n      <>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"form-field\">\n            <label htmlFor=\"select-organization\">\n              {translate('onboarding.create_project.organization')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <Select\n              autoFocus={true}\n              className=\"input-super-large\"\n              clearable={false}\n              id=\"select-organization\"\n              onChange={this.handleOrganizationSelect}\n              options={sortBy(this.props.userOrganizations, o => o.name.toLowerCase()).map(\n                organization => ({\n                  label: organization.name,\n                  value: organization.key\n                })\n              )}\n              required={true}\n              value={this.state.selectedOrganization}\n            />\n            <Link className=\"big-spacer-left js-new-org\" to=\"/create-organization\">\n              {translate('onboarding.create_project.create_new_org')}\n            </Link>\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"project-name\">\n              {translate('onboarding.create_project.project_name')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              className=\"input-super-large\"\n              id=\"project-name\"\n              maxLength={400}\n              minLength={1}\n              onChange={this.handleProjectNameChange}\n              required={true}\n              type=\"text\"\n              value={this.state.projectName}\n            />\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"project-key\">\n              {translate('onboarding.create_project.project_key')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              className=\"input-super-large\"\n              id=\"project-key\"\n              maxLength={400}\n              minLength={1}\n              onChange={this.handleProjectKeyChange}\n              required={true}\n              type=\"text\"\n              value={this.state.projectKey}\n            />\n          </div>\n          <SubmitButton disabled={!this.isValid() || submitting}>\n            {translate('create')}\n          </SubmitButton>\n          <DeferredSpinner className=\"spacer-left\" loading={submitting} />\n        </form>\n      </>\n    );\n  }\n}\n\nconst mapDispatchToProps = ({\n  fetchMyOrganizations\n} as any) as DispatchProps;\n\nconst mapStateToProps = (state: Store): StateProps => {\n  return {\n    userOrganizations: getMyOrganizations(state)\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ManualProjectCreate);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport {\n  cleanQuery,\n  RawQuery,\n  parseAsBoolean,\n  serializeOptionalBoolean,\n  parseAsOptionalString,\n  serializeString\n} from '../../../helpers/query';\n\nexport interface Query {\n  error?: string;\n  manual: boolean;\n  organization?: string;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: RawQuery): Query => {\n    return {\n      error: parseAsOptionalString(urlQuery['error']),\n      manual: parseAsBoolean(urlQuery['manual'], false),\n      organization: parseAsOptionalString(urlQuery['organization'])\n    };\n  }\n);\n\nexport const serializeQuery = memoize(\n  (query: Query): RawQuery =>\n    cleanQuery({\n      manual: serializeOptionalBoolean(query.manual || undefined),\n      organization: serializeString(query.organization)\n    })\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport { InjectedRouter } from 'react-router';\nimport { Location } from 'history';\nimport Helmet from 'react-helmet';\nimport AutoProjectCreate from './AutoProjectCreate';\nimport ManualProjectCreate from './ManualProjectCreate';\nimport { serializeQuery, Query, parseQuery } from './utils';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport handleRequiredAuthentication from '../../../app/utils/handleRequiredAuthentication';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport { addGlobalErrorMessage } from '../../../store/globalMessages';\nimport { skipOnboarding as skipOnboardingAction } from '../../../store/users';\nimport { CurrentUser, IdentityProvider, isLoggedIn, LoggedInUser } from '../../../app/types';\nimport { skipOnboarding, getIdentityProviders } from '../../../api/users';\nimport { translate } from '../../../helpers/l10n';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport '../../../app/styles/sonarcloud.css';\n\ninterface OwnProps {\n  location: Location;\n  router: Pick<InjectedRouter, 'push' | 'replace'>;\n}\n\ninterface StateProps {\n  currentUser: CurrentUser;\n}\n\ninterface DispatchProps {\n  addGlobalErrorMessage: (message: string) => void;\n  skipOnboardingAction: () => void;\n}\n\ntype Props = StateProps & DispatchProps & OwnProps;\n\ninterface State {\n  identityProvider?: IdentityProvider;\n  loading: boolean;\n}\n\nexport class CreateProjectPage extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    if (isLoggedIn(this.props.currentUser)) {\n      this.mounted = true;\n      const query = parseQuery(this.props.location.query);\n      if (query.error) {\n        this.props.addGlobalErrorMessage(query.error);\n      }\n      if (!this.canAutoCreate()) {\n        this.setState({ loading: false });\n        this.updateQuery({ manual: true });\n      } else {\n        this.fetchIdentityProviders();\n      }\n      document.body.classList.add('white-page');\n      if (document.documentElement) {\n        document.documentElement.classList.add('white-page');\n      }\n    } else {\n      handleRequiredAuthentication();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    document.body.classList.remove('white-page');\n    if (document.documentElement) {\n      document.documentElement.classList.remove('white-page');\n    }\n  }\n\n  handleProjectCreate = (projectKeys: string[]) => {\n    skipOnboarding().catch(() => {});\n    this.props.skipOnboardingAction();\n    if (projectKeys.length > 1) {\n      this.props.router.push({ pathname: '/projects' });\n    } else if (projectKeys.length === 1) {\n      this.props.router.push(getProjectUrl(projectKeys[0]));\n    }\n  };\n\n  canAutoCreate = ({ currentUser } = this.props) => {\n    return ['bitbucket', 'github'].includes((currentUser as LoggedInUser).externalProvider || '');\n  };\n\n  fetchIdentityProviders = () => {\n    getIdentityProviders().then(\n      ({ identityProviders }) => {\n        if (this.mounted) {\n          this.setState({\n            identityProvider: identityProviders.find(\n              identityProvider =>\n                identityProvider.key === (this.props.currentUser as LoggedInUser).externalProvider\n            ),\n            loading: false\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  showAuto = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.updateQuery({ manual: false });\n  };\n\n  showManual = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.updateQuery({ manual: true });\n  };\n\n  updateQuery = (changes: Partial<Query>) => {\n    this.props.router.replace({\n      pathname: this.props.location.pathname,\n      query: serializeQuery({ ...parseQuery(this.props.location.query), ...changes })\n    });\n  };\n\n  render() {\n    const { currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { identityProvider, loading } = this.state;\n    const displayManual = parseQuery(this.props.location.query).manual;\n    const header = translate('onboarding.create_project.header');\n    const hasAutoProvisioning = this.canAutoCreate() && identityProvider;\n    const query = parseQuery(this.props.location.query);\n    return (\n      <>\n        <Helmet title={header} titleTemplate=\"%s\" />\n        <div className=\"sonarcloud page page-limited\">\n          <div className=\"page-header\">\n            <h1 className=\"page-title\">{header}</h1>\n          </div>\n          {loading ? (\n            <DeferredSpinner />\n          ) : (\n            <>\n              {hasAutoProvisioning && (\n                <ul className=\"flex-tabs\">\n                  <li>\n                    <a\n                      className={classNames('js-auto', { selected: !displayManual })}\n                      href=\"#\"\n                      onClick={this.showAuto}>\n                      {translate('onboarding.create_project.select_repositories')}\n                      <span\n                        className={classNames(\n                          'rounded alert alert-small spacer-left display-inline-block',\n                          {\n                            'alert-info': !displayManual,\n                            'alert-muted': displayManual\n                          }\n                        )}>\n                        {translate('beta')}\n                      </span>\n                    </a>\n                  </li>\n                  <li>\n                    <a\n                      className={classNames('js-manual', { selected: displayManual })}\n                      href=\"#\"\n                      onClick={this.showManual}>\n                      {translate('onboarding.create_project.create_manually')}\n                    </a>\n                  </li>\n                </ul>\n              )}\n\n              {displayManual || !hasAutoProvisioning || !identityProvider ? (\n                <ManualProjectCreate\n                  currentUser={currentUser}\n                  onProjectCreate={this.handleProjectCreate}\n                  organization={query.organization}\n                />\n              ) : (\n                <AutoProjectCreate\n                  identityProvider={identityProvider}\n                  onProjectCreate={this.handleProjectCreate}\n                />\n              )}\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { addGlobalErrorMessage, skipOnboardingAction };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CreateProjectPage);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReactSelectProps, ReactCreatableSelectProps, ReactAsyncSelectProps } from 'react-select';\nimport * as theme from '../../app/theme';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { lazyLoad } from '../lazyLoad';\nimport './react-select.css';\n\nconst ReactSelectLib = import('react-select');\nconst ReactSelect = lazyLoad(() => ReactSelectLib);\nconst ReactCreatable = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Creatable })));\nconst ReactAsync = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Async })));\n\nfunction renderInput() {\n  return (\n    <ButtonIcon className=\"button-tiny spacer-left text-middle\" color={theme.gray60}>\n      <ClearIcon size={12} />\n    </ButtonIcon>\n  );\n}\n\ninterface WithInnerRef {\n  innerRef?: (element: React.Component) => void;\n}\n\nexport default function Select({ innerRef, ...props }: WithInnerRef & ReactSelectProps) {\n  // TODO try to define good defaults, if any\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactSelectAny = ReactSelect as any;\n  // hide the \"x\" icon when select is empty\n  const clearable = props.clearable ? Boolean(props.value) : false;\n  return (\n    <ReactSelectAny {...props} clearRenderer={renderInput} clearable={clearable} ref={innerRef} />\n  );\n}\n\nexport function Creatable(props: ReactCreatableSelectProps) {\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactCreatableAny = ReactCreatable as any;\n  return <ReactCreatableAny {...props} clearRenderer={renderInput} />;\n}\n\n// TODO figure out why `ref` prop is incompatible\nexport function AsyncSelect(props: ReactAsyncSelectProps & { ref?: any }) {\n  return <ReactAsync {...props} />;\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Select{position:relative;display:inline-block;vertical-align:middle;font-size:12px;text-align:left}.Select,.Select div,.Select input,.Select span{box-sizing:border-box}.Select.is-disabled>.Select-control{background-color:#ebebeb!important;border-color:#ddd!important}.Select.is-disabled>.Select-control:hover{box-shadow:none!important}.Select.is-disabled .Select-arrow-zone{cursor:not-allowed!important;pointer-events:none!important}.Select.is-disabled .Select-placeholder,.Select.is-disabled .Select-value{color:#bbb!important}.Select-control{position:relative;display:table;width:100%;height:24px;line-height:22px;border:1px solid #cdcdcd;border-collapse:separate;border-radius:2px;background-color:#fff;color:#444;cursor:default;outline:none;overflow:hidden}.is-searchable.is-open>.Select-control{cursor:text}.is-open>.Select-control{border-bottom-right-radius:0;border-bottom-left-radius:0;background:#fff}.is-open>.Select-control>.Select-arrow{border-color:transparent transparent #999;border-width:0 5px 5px}.is-searchable.is-focused:not(.is-open)>.Select-control{cursor:text}.is-focused:not(.is-open)>.Select-control{border-color:#4b9fd5}.Select-placeholder,:not(.Select--multi)>.Select-control .Select-value{bottom:0;left:0;line-height:23px;padding-left:8px;padding-right:24px;position:absolute;right:0;top:0;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select-value [class^=icon-]{padding-top:5px}.Select-value img,.Select-value svg{padding-top:3px}.Select-option [class^=icon-],.Select-option img,.Select-option svg{padding-top:2px}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value .Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value .Select-value-label{color:#444}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label{cursor:pointer;text-decoration:none}.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value.is-pseudo-focused:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:focus,.has-value:not(.Select--multi)>.Select-control>.Select-value a.Select-value-label:hover{color:#007eff;outline:none;text-decoration:underline}.Select-input{vertical-align:top;height:22px;padding-left:8px;padding-right:8px;outline:none}.Select-input>input{background:none transparent;border:0 none;cursor:default;display:inline-block;font-family:inherit;font-size:12px;height:22px;margin:0;outline:none;padding:0;box-shadow:none;-webkit-appearance:none}.is-focused .Select-input>input{cursor:text}.has-value.is-pseudo-focused .Select-input{opacity:0}.Select-control:not(.is-searchable)>.Select-input{outline:none}.Select-loading-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:16px}.Select-loading{animation:Select-animation-spin .4s infinite linear;box-sizing:border-box;border-radius:50%;border:2px solid #ccc;border-right-color:#444;display:inline-block}.Select-clear-zone,.Select-loading{width:16px;height:16px;position:relative;vertical-align:middle}.Select-clear-zone{animation:Select-animation-fadeIn .2s;color:#999;cursor:pointer;display:table-cell;text-align:center;padding-right:4px}.Select-clear-zone:hover .Select-clear{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxNCAxNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij4gICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjM0Mzc1LDAsMCwwLjAyMzQzNzUsLTUuMDE1NjIsLTUuMDE1NjIpIj4gICAgICAgIDxwYXRoIGQ9Ik04MTAsMjc0TDU3Miw1MTJMODEwLDc1MEw3NTAsODEwTDUxMiw1NzJMMjc0LDgxMEwyMTQsNzUwTDQ1Miw1MTJMMjE0LDI3NEwyNzQsMjE0TDUxMiw0NTJMNzUwLDIxNEw4MTAsMjc0WiIgc3R5bGU9ImZpbGw6cmdiKDIzMSwyMCw1Nik7ZmlsbC1ydWxlOm5vbnplcm87Ii8+ICAgIDwvZz48L3N2Zz4=)}.Select-clear{display:block;width:9px;height:9px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxNCAxNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij4gICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjM0Mzc1LDAsMCwwLjAyMzQzNzUsLTUuMDE1NjIsLTUuMDE1NjIpIj4gICAgICAgIDxwYXRoIGQ9Ik04MTAsMjc0TDU3Miw1MTJMODEwLDc1MEw3NTAsODEwTDUxMiw1NzJMMjc0LDgxMEwyMTQsNzUwTDQ1Miw1MTJMMjE0LDI3NEwyNzQsMjE0TDUxMiw0NTJMNzUwLDIxNEw4MTAsMjc0WiIgc3R5bGU9ImZpbGw6cmdiKDE1MywxNTMsMTUzKTtmaWxsLXJ1bGU6bm9uemVybzsiLz4gICAgPC9nPjwvc3ZnPg==);background-size:9px 9px;text-indent:-9999px}.Select--multi .Select-clear-zone{width:17px}.Select-arrow-zone{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:20px;padding-right:5px}.Select-arrow{border-color:#999 transparent transparent;border-style:solid;border-width:4px 4px 2px;display:inline-block;height:0;width:0}.is-open .Select-arrow,.Select-arrow-zone:hover>.Select-arrow{border-top-color:#666}@keyframes Select-animation-fadeIn{0%{opacity:0}to{opacity:1}}.Select-menu-outer{border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-sizing:border-box;margin-top:-1px;max-height:200px;position:absolute;top:100%;width:100%;z-index:7500;-webkit-overflow-scrolling:touch;box-shadow:0 6px 12px rgba(0,0,0,.175)}.Select-menu{max-height:198px;padding:5px 0;overflow-y:auto}.Select-option{display:block;line-height:20px;padding:0 8px;box-sizing:border-box;color:#444;font-size:12px;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.Select-option:last-child{border-bottom-right-radius:2px;border-bottom-left-radius:2px}.Select-option.is-focused{background-color:#f3f3f3}.Select-option.is-disabled{font-weight:600;cursor:default}.Select-noresults{box-sizing:border-box;color:#999;cursor:default;display:block;padding:8px 10px}.Select--multi .Select-value{background-color:rgba(0,126,255,.08);border-radius:2px;border:1px solid rgba(0,126,255,.24);color:#444;display:inline-block;font-size:12px;line-height:14px;margin:1px 4px 1px 1px;vertical-align:top}.Select-value-label{font-size:12px}.is-searchable.is-open .Select-value-label{opacity:.5}.Select-big .Select-control{padding-top:4px;padding-bottom:4px}.Select-big .Select-placeholder{margin-top:4px;margin-bottom:4px}.Select-big .Select-value-label{display:inline-block;margin-top:7px;line-height:16px}.Select-big .Select-option{padding:7px 8px;line-height:16px}.Select-big img,.Select-big svg{padding-top:0}.Select--multi .Select-value-icon,.Select--multi .Select-value-label{display:inline-block;vertical-align:middle}.Select--multi .Select-value-label{display:inline-block;max-width:200px;border-bottom-right-radius:2px;border-top-right-radius:2px;cursor:default;padding:2px 5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Select--multi a.Select-value-label{color:#007eff;cursor:pointer;text-decoration:none}.Select--multi a.Select-value-label:hover{text-decoration:underline}.Select--multi .Select-value-icon{cursor:pointer;border-bottom-left-radius:2px;border-top-left-radius:2px;border-right:1px solid rgba(0,126,255,.24);padding:1px 5px}.Select--multi .Select-value-icon:focus,.Select--multi .Select-value-icon:hover{background-color:rgba(0,113,230,.08);color:#0071e6}.Select--multi .Select-value-icon:active{background-color:rgba(0,126,255,.24)}.Select--multi.is-disabled .Select-value{background-color:#fcfcfc;border:1px solid #e3e3e3;color:#444}.Select--multi.is-disabled .Select-value-icon{cursor:not-allowed;border-right:1px solid #e3e3e3}.Select--multi.is-disabled .Select-value-icon:active,.Select--multi.is-disabled .Select-value-icon:focus,.Select--multi.is-disabled .Select-value-icon:hover{background-color:#fcfcfc}.Select-aria-only{display:none}@keyframes Select-animation-spin{to{transform:rotate(1turn)}}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./react-select.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./react-select.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./react-select.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\n\ninterface Props {\n  checked: boolean;\n  disabled?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id?: string;\n  loading?: boolean;\n  onCheck: (checked: boolean, id?: string) => void;\n  thirdState?: boolean;\n}\n\nexport default class Checkbox extends React.PureComponent<Props> {\n  static defaultProps = {\n    thirdState: false\n  };\n\n  handleClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onCheck(!this.props.checked, this.props.id);\n    }\n  };\n\n  render() {\n    const className = classNames('icon-checkbox', {\n      'icon-checkbox-checked': this.props.checked,\n      'icon-checkbox-single': this.props.thirdState,\n      'icon-checkbox-disabled': this.props.disabled\n    });\n\n    if (this.props.children) {\n      return (\n        <a\n          className={classNames('link-checkbox', this.props.className, {\n            note: this.props.disabled,\n            disabled: this.props.disabled\n          })}\n          href=\"#\"\n          id={this.props.id}\n          onClick={this.handleClick}>\n          <DeferredSpinner loading={Boolean(this.props.loading)}>\n            <i className={className} />\n          </DeferredSpinner>\n          {this.props.children}\n        </a>\n      );\n    }\n\n    if (this.props.loading) {\n      return <DeferredSpinner />;\n    }\n\n    return (\n      <a\n        className={classNames(className, this.props.className)}\n        href=\"#\"\n        id={this.props.id}\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from './getHistory';\n\nexport default function handleRequiredAuthentication() {\n  const history = getHistory();\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  history.replace({\n    pathname: '/sessions/new',\n    query: { return_to: returnTo } // eslint-disable-line camelcase\n  });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CheckIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.92 4.804q0 0.357-0.25 0.607l-7.679 7.679q-0.25 0.25-0.607 0.25t-0.607-0.25l-4.446-4.446q-0.25-0.25-0.25-0.607t0.25-0.607l1.214-1.214q0.25-0.25 0.607-0.25t0.607 0.25l2.625 2.634 5.857-5.866q0.25-0.25 0.607-0.25t0.607 0.25l1.214 1.214q0.25 0.25 0.25 0.607z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"a.identity-provider-link{display:block;width:auto;line-height:22px;padding:8px 12px;border:1px solid rgba(0,0,0,.15);border-radius:2px;box-sizing:border-box;background-color:#236a97;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}a.identity-provider-link.small{line-height:14px;padding:4px 8px}a.identity-provider-link:focus,a.identity-provider-link:hover{box-shadow:inset 0 0 0 100px hsla(0,0%,100%,.1)}a.identity-provider-link.dark-text{color:#777}a.identity-provider-link.dark-text:focus,a.identity-provider-link.dark-text:hover{box-shadow:inset 0 0 0 100px rgba(0,0,0,.1)}a.identity-provider-link>img{padding-right:12px}a.identity-provider-link.small>img{padding-right:8px}a.identity-provider-link>span:before{content:\\\"\\\";opacity:.4;border-left:1px solid #b4b4b4;margin-right:12px}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./IdentityProviderLink.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./IdentityProviderLink.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./IdentityProviderLink.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { isDarkColor } from '../../helpers/colors';\nimport { getBaseUrl } from '../../helpers/urls';\nimport { IdentityProvider } from '../../app/types';\nimport './IdentityProviderLink.css';\n\ninterface Props {\n  children: React.ReactNode;\n  className?: string;\n  identityProvider: IdentityProvider;\n  small?: boolean;\n  url: string | undefined;\n}\n\nexport default function IdentityProviderLink({\n  children,\n  className,\n  identityProvider,\n  small,\n  url\n}: Props) {\n  const size = small ? 14 : 20;\n\n  return (\n    <a\n      className={classNames(\n        'identity-provider-link',\n        { 'dark-text': !isDarkColor(identityProvider.backgroundColor), small },\n        className\n      )}\n      href={url}\n      style={{ backgroundColor: identityProvider.backgroundColor }}>\n      <img\n        alt={identityProvider.name}\n        height={size}\n        src={getBaseUrl() + identityProvider.iconPath}\n        width={size}\n      />\n      {children}\n    </a>\n  );\n}\n"],"sourceRoot":""}