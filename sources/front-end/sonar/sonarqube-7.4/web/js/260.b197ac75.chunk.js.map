{"version":3,"sources":["webpack:///./src/main/js/apps/coding-rules/components/RemoveExtendedDescriptionModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsDescription.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsTagsPopup.tsx","webpack:///./src/main/js/components/icons-components/RuleScopeIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsMeta.tsx","webpack:///./src/main/js/apps/coding-rules/styles.css?76a6","webpack:///./src/main/js/apps/coding-rules/components/SimilarRulesFilter.tsx","webpack:///./src/main/js/apps/coding-rules/styles.css","webpack:///../sonar-docs/src/tooltips/rules/custom-rules.md","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/HelpTooltip.css?42d2","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/api/rules.ts"],"names":["RemoveExtendedDescriptionModal","_a","onCancel","onSubmit","header","Object","l10n","index_js_exposed","SimpleModal","onClose","onCloseClick","onFormSubmit","submitting","className","buttons","disabled","id","onClick","RuleDetailsDescription_RuleDetailsDescription","_super","RuleDetailsDescription","_this","apply","this","arguments","mounted","state","description","descriptionForm","removeDescriptionModal","handleDescriptionChange","event","setState","currentTarget","value","handleCancelClick","handleSaveClick","updateDescription","handleRemoveDescriptionClick","handleCancelRemoving","handleConfirmRemoving","text","rules","key","props","ruleDetails","markdown_note","organization","then","onChange","handleExtendDescriptionClick","mdNote","renderDescription","undefined","htmlNote","dangerouslySetInnerHTML","__html","canWrite","renderForm","colSpan","autoFocus","rows","style","width","marginBottom","MarkdownTips","__extends","prototype","componentDidMount","componentWillUnmount","render","hasDescription","isExternal","type","htmlDesc","name","templateKey","LIST_SIZE","RuleDetailsTagsPopup","searchResult","onSearch","query","q","ps","Math","min","tags","length","without_default","a","concat","sysTags","onSelect","tag","setTags","uniq_default","onUnselect","availableTags","difference_default","TagsSelector","listSize","selectedTags","RuleScopeIcon","_b","fill","size","Icon","d","EXTERNAL_RULE_REPO_PREFIX","RuleDetailsMeta_RuleDetailsMeta","RuleDetailsMeta","renderType","Tooltip","overlay","data-meta","IssueTypeIcon","renderSeverity","SeverityHelper","severity","renderStatus","status","renderTags","_c","allTags","Dropdown","closeOnClick","closeOnClickOutside","components_RuleDetailsTagsPopup","onTagsChange","overlayPlacement","popups","BottomLeft","TagsList","allowUpdate","renderCreationDate","DateFormatter","date","createdAt","renderRepository","referencedRepositories","repository","repo","langName","renderTemplate","isTemplate","renderParentTemplate","es","to","urls","DocTooltip","doc","Promise","resolve","__webpack_require__","t","bind","renderRemediation","debtRemFnType","debtRemFnOffset","debtRemFnCoeff","effortToFixDescription","renderScope","scope","types","Main","renderExternalBadge","engine","replace","RegExp","RuleDetailsMeta_extends","hasTypeData","title","LinkIcon","hideSimilarRulesFilter","SimilarRulesFilter","onFilterChange","rule","content","module","i","options","hmr","transform","insertInto","locals","exports","handleLanguageClick","preventDefault","blur","lang","languages","handleTypeClick","handleSeverityClick","severities","handleTagClick","dataset","react__WEBPACK_IMPORTED_MODULE_0__","_components_controls_Dropdown__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","data-field","href","_components_shared_SeverityHelper__WEBPACK_IMPORTED_MODULE_3__","map","data-tag","_components_icons_components_TagsIcon__WEBPACK_IMPORTED_MODULE_6__","_components_icons_components_FilterIcon__WEBPACK_IMPORTED_MODULE_4__","_components_icons_components_DropdownIcon__WEBPACK_IMPORTED_MODULE_5__","push","Modal","react_modal__WEBPACK_IMPORTED_MODULE_1__","__assign","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-medium","medium","modal-large","large","isOpen","overlayClassName","HelpTooltip","children","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","_app_theme__WEBPACK_IMPORTED_MODULE_4__","tagName","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","mouseLeaveDelay","onShow","placement","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","all","e","open","close","default","document","addEventListener","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","stopSubmitting","handleCloseClick","handleFormSubmit","submit","handleSubmitClick","result","_Modal__WEBPACK_IMPORTED_MODULE_1__","contentLabel","onRequestClose","onSubmitClick","formatterOption","year","month","day","longFormatterOption","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","getRulesApp","data","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","catch","searchRules","takeFacet","response","property","facet","facets","find","values","getRuleDetails","parameters","getRuleTags","r","createRule","error","reject","deleteRule","updateRule"],"mappings":"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","file":"js/260.b197ac75.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal from '../../../components/controls/SimpleModal';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onCancel: () => void;\n  onSubmit: () => void;\n}\n\nexport default function RemoveExtendedDescriptionModal({ onCancel, onSubmit }: Props) {\n  const header = translate('coding_rules.remove_extended_description');\n  return (\n    <SimpleModal header={header} onClose={onCancel} onSubmit={onSubmit}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {translate('coding_rules.remove_extended_description.confirm')}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton\n              className=\"button-red\"\n              disabled={submitting}\n              id=\"coding-rules-detail-extend-description-remove-submit\">\n              {translate('remove')}\n            </SubmitButton>\n            <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RemoveExtendedDescriptionModal from './RemoveExtendedDescriptionModal';\nimport { updateRule } from '../../../api/rules';\nimport { RuleDetails } from '../../../app/types';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  onChange: (newRuleDetails: RuleDetails) => void;\n  organization: string | undefined;\n  ruleDetails: RuleDetails;\n}\n\ninterface State {\n  description: string;\n  descriptionForm: boolean;\n  removeDescriptionModal: boolean;\n  submitting: boolean;\n}\n\nexport default class RuleDetailsDescription extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    description: '',\n    descriptionForm: false,\n    submitting: false,\n    removeDescriptionModal: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleCancelClick = () => {\n    this.setState({ descriptionForm: false });\n  };\n\n  handleSaveClick = () => {\n    this.updateDescription(this.state.description);\n  };\n\n  handleRemoveDescriptionClick = () => {\n    this.setState({ removeDescriptionModal: true });\n  };\n\n  handleCancelRemoving = () => this.setState({ removeDescriptionModal: false });\n\n  handleConfirmRemoving = () => {\n    this.setState({ removeDescriptionModal: false });\n    this.updateDescription('');\n  };\n\n  updateDescription = (text: string) => {\n    this.setState({ submitting: true });\n\n    updateRule({\n      key: this.props.ruleDetails.key,\n      /* eslint-disable camelcase */\n      markdown_note: text,\n      /* eslint-enable camelcase*/\n      organization: this.props.organization\n    }).then(\n      ruleDetails => {\n        this.props.onChange(ruleDetails);\n        if (this.mounted) {\n          this.setState({ submitting: false, descriptionForm: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  handleExtendDescriptionClick = () => {\n    this.setState({\n      // set description` to the current `mdNote` each time the form is open\n      description: this.props.ruleDetails.mdNote || '',\n      descriptionForm: true\n    });\n  };\n\n  renderDescription = () => (\n    <div id=\"coding-rules-detail-description-extra\">\n      {this.props.ruleDetails.htmlNote !== undefined && (\n        <div\n          className=\"rule-desc spacer-bottom markdown\"\n          dangerouslySetInnerHTML={{ __html: this.props.ruleDetails.htmlNote }}\n        />\n      )}\n      {this.props.canWrite && (\n        <Button\n          id=\"coding-rules-detail-extend-description\"\n          onClick={this.handleExtendDescriptionClick}>\n          {translate('coding_rules.extend_description')}\n        </Button>\n      )}\n    </div>\n  );\n\n  renderForm = () => (\n    <div className=\"coding-rules-detail-extend-description-form\">\n      <table className=\"width100\">\n        <tbody>\n          <tr>\n            <td className=\"width100\" colSpan={2}>\n              <textarea\n                autoFocus={true}\n                id=\"coding-rules-detail-extend-description-text\"\n                onChange={this.handleDescriptionChange}\n                rows={4}\n                style={{ width: '100%', marginBottom: 4 }}\n                value={this.state.description}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <Button\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-submit\"\n                onClick={this.handleSaveClick}>\n                {translate('save')}\n              </Button>\n              {this.props.ruleDetails.mdNote !== undefined && (\n                <>\n                  <Button\n                    className=\"button-red spacer-left\"\n                    disabled={this.state.submitting}\n                    id=\"coding-rules-detail-extend-description-remove\"\n                    onClick={this.handleRemoveDescriptionClick}>\n                    {translate('remove')}\n                  </Button>\n                  {this.state.removeDescriptionModal && (\n                    <RemoveExtendedDescriptionModal\n                      onCancel={this.handleCancelRemoving}\n                      onSubmit={this.handleConfirmRemoving}\n                    />\n                  )}\n                </>\n              )}\n              <ResetButtonLink\n                className=\"spacer-left\"\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-cancel\"\n                onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n              {this.state.submitting && <i className=\"spinner spacer-left\" />}\n            </td>\n            <td className=\"text-right\">\n              <MarkdownTips />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasDescription = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n\n    return (\n      <div className=\"js-rule-description\">\n        {hasDescription ? (\n          <div\n            className=\"coding-rules-detail-description rule-desc markdown\"\n            dangerouslySetInnerHTML={{ __html: ruleDetails.htmlDesc || '' }}\n          />\n        ) : (\n          <div className=\"coding-rules-detail-description rule-desc markdown\">\n            {translateWithParameters('issue.external_issue_description', ruleDetails.name)}\n          </div>\n        )}\n\n        {!ruleDetails.templateKey && (\n          <div className=\"coding-rules-detail-description coding-rules-detail-description-extra\">\n            {!this.state.descriptionForm && this.renderDescription()}\n            {this.state.descriptionForm && this.props.canWrite && this.renderForm()}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without, uniq, difference } from 'lodash';\nimport TagsSelector from '../../../components/tags/TagsSelector';\nimport { getRuleTags } from '../../../api/rules';\n\nexport interface Props {\n  organization: string | undefined;\n  setTags: (tags: string[]) => void;\n  sysTags: string[];\n  tags: string[];\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class RuleDetailsTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return getRuleTags({\n      q: query,\n      ps: Math.min(this.props.tags.length + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      tags => {\n        if (this.mounted) {\n          // systems tags can not be unset, don't display them in the results\n          this.setState({ searchResult: without(tags, ...this.props.sysTags) });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags(uniq([...this.props.tags, tag]));\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.tags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.tags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.tags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function RuleScopeIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.071c2.724 0 4.929 2.204 4.929 4.929s-2.204 4.929-4.929 4.929c-2.724 0-4.929-2.204-4.929-4.929s2.204-4.929 4.929-4.929zM8 1.357c-3.669 0-6.643 2.974-6.643 6.643s2.974 6.643 6.643 6.643 6.643-2.974 6.643-6.643-2.974-6.643-6.643-6.643zM8 6.286c0.945 0 1.714 0.769 1.714 1.714s-0.769 1.714-1.714 1.714-1.714-0.769-1.714-1.714 0.769-1.714 1.714-1.714zM8 4.571c-1.893 0-3.429 1.535-3.429 3.429s1.535 3.429 3.429 3.429 3.429-1.535 3.429-3.429-1.535-3.429-3.429-3.429z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RuleDetailsTagsPopup from './RuleDetailsTagsPopup';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport { Query } from '../query';\nimport { RuleDetails, RuleScope } from '../../../app/types';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport LinkIcon from '../../../components/icons-components/LinkIcon';\nimport RuleScopeIcon from '../../../components/icons-components/RuleScopeIcon';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport TagsList from '../../../components/tags/TagsList';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport { Button } from '../../../components/ui/buttons';\nimport { PopupPlacement } from '../../../components/ui/popups';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  hideSimilarRulesFilter?: boolean;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onTagsChange: (tags: string[]) => void;\n  organization: string | undefined;\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  ruleDetails: RuleDetails;\n}\n\nconst EXTERNAL_RULE_REPO_PREFIX = 'external_';\n\nexport default class RuleDetailsMeta extends React.PureComponent<Props> {\n  renderType = () => {\n    const { ruleDetails } = this.props;\n    return (\n      <Tooltip overlay={translate('coding_rules.type.tooltip', ruleDetails.type)}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"type\">\n          <IssueTypeIcon className=\"little-spacer-right\" query={ruleDetails.type} />\n          {translate('issue.type', ruleDetails.type)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderSeverity = () => (\n    <Tooltip overlay={translate('default_severity')}>\n      <li className=\"coding-rules-detail-property\" data-meta=\"severity\">\n        <SeverityHelper\n          className=\"display-inline-flex-center\"\n          severity={this.props.ruleDetails.severity}\n        />\n      </li>\n    </Tooltip>\n  );\n\n  renderStatus = () => {\n    const { ruleDetails } = this.props;\n    if (ruleDetails.status === 'READY') {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('status')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"status\">\n          <span className=\"badge badge-normal-size badge-danger-light\">\n            {translate('rules.status', ruleDetails.status)}\n          </span>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTags = () => {\n    const { canWrite, ruleDetails } = this.props;\n    const { sysTags = [], tags = [] } = ruleDetails;\n    const allTags = [...sysTags, ...tags];\n\n    return (\n      <li className=\"coding-rules-detail-property\" data-meta=\"tags\">\n        {this.props.canWrite ? (\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <RuleDetailsTagsPopup\n                organization={this.props.organization}\n                setTags={this.props.onTagsChange}\n                sysTags={sysTags}\n                tags={tags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <Button className=\"button-link\">\n              <TagsList\n                allowUpdate={canWrite}\n                tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n              />\n            </Button>\n          </Dropdown>\n        ) : (\n          <TagsList\n            allowUpdate={canWrite}\n            className=\"display-flex-center\"\n            tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n          />\n        )}\n      </li>\n    );\n  };\n\n  renderCreationDate = () => (\n    <li className=\"coding-rules-detail-property\" data-meta=\"available-since\">\n      <span className=\"little-spacer-right\">{translate('coding_rules.available_since')}</span>\n      <DateFormatter date={this.props.ruleDetails.createdAt} />\n    </li>\n  );\n\n  renderRepository = () => {\n    const { referencedRepositories, ruleDetails } = this.props;\n    const repository = referencedRepositories[ruleDetails.repo];\n    if (!repository) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.repository_language')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"repository\">\n          {repository.name} ({ruleDetails.langName})\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTemplate = () => {\n    if (!this.props.ruleDetails.isTemplate) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n        <li className=\"coding-rules-detail-property\">{translate('coding_rules.rule_template')}</li>\n      </Tooltip>\n    );\n  };\n\n  renderParentTemplate = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.templateKey) {\n      return null;\n    }\n    return (\n      <li className=\"coding-rules-detail-property\">\n        {translate('coding_rules.custom_rule')}\n        {' ('}\n        <Link to={getRuleUrl(ruleDetails.templateKey, this.props.organization)}>\n          {translate('coding_rules.show_template')}\n        </Link>\n        {')'}\n        <DocTooltip\n          className=\"little-spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rules.md')}\n        />\n      </li>\n    );\n  };\n\n  renderRemediation = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.debtRemFnType) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.remediation_function')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"remediation-function\">\n          {translate('coding_rules.remediation_function', ruleDetails.debtRemFnType)}\n          {':'}\n          {ruleDetails.debtRemFnOffset !== undefined && ` ${ruleDetails.debtRemFnOffset}`}\n          {ruleDetails.debtRemFnCoeff !== undefined && ` +${ruleDetails.debtRemFnCoeff}`}\n          {ruleDetails.effortToFixDescription !== undefined &&\n            ` ${ruleDetails.effortToFixDescription}`}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderScope = () => {\n    const scope = this.props.ruleDetails.scope || RuleScope.Main;\n    return (\n      <Tooltip overlay={translate('coding_rules.scope.title')}>\n        <li className=\"coding-rules-detail-property\">\n          <RuleScopeIcon className=\"little-spacer-right\" />\n          {translate('coding_rules.scope', scope)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderExternalBadge = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.repo) {\n      return null;\n    }\n    const engine = ruleDetails.repo.replace(new RegExp(`^${EXTERNAL_RULE_REPO_PREFIX}`), '');\n    if (!engine) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translateWithParameters('coding_rules.external_rule.engine', engine)}>\n        <li className=\"coding-rules-detail-property\">\n          <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n            {engine}\n          </div>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasTypeData = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n    return (\n      <div className=\"js-rule-meta\">\n        <header className=\"page-header\">\n          <div className=\"pull-right\">\n            <span className=\"note text-middle\">{ruleDetails.key}</span>\n            {!ruleDetails.isExternal && (\n              <Link\n                className=\"coding-rules-detail-permalink link-no-underline spacer-left text-middle\"\n                title={translate('permalink')}\n                to={getRuleUrl(ruleDetails.key, this.props.organization)}>\n                <LinkIcon />\n              </Link>\n            )}\n            {!this.props.hideSimilarRulesFilter && (\n              <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={ruleDetails} />\n            )}\n          </div>\n          <h3 className=\"page-title coding-rules-detail-header\">\n            <big>{ruleDetails.name}</big>\n          </h3>\n        </header>\n\n        {hasTypeData && (\n          <ul className=\"coding-rules-detail-properties\">\n            {this.renderType()}\n            {this.renderSeverity()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderStatus()}\n                {this.renderScope()}\n              </>\n            )}\n            {this.renderTags()}\n            {!ruleDetails.isExternal && this.renderCreationDate()}\n            {this.renderRepository()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderTemplate()}\n                {this.renderParentTemplate()}\n                {this.renderRemediation()}\n              </>\n            )}\n            {ruleDetails.isExternal && this.renderExternalBadge()}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query } from '../query';\nimport { Rule } from '../../../app/types';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { translate } from '../../../helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport FilterIcon from '../../../components/icons-components/FilterIcon';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\n\ninterface Props {\n  onFilterChange: (changes: Partial<Query>) => void;\n  rule: Rule;\n}\n\nexport default class SimilarRulesFilter extends React.PureComponent<Props> {\n  handleLanguageClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.lang) {\n      this.props.onFilterChange({ languages: [this.props.rule.lang] });\n    }\n  };\n\n  handleTypeClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onFilterChange({ types: [this.props.rule.type] });\n  };\n\n  handleSeverityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.severity) {\n      this.props.onFilterChange({ severities: [this.props.rule.severity] });\n    }\n  };\n\n  handleTagClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { tag } = event.currentTarget.dataset;\n    if (tag) {\n      this.props.onFilterChange({ tags: [tag] });\n    }\n  };\n\n  render() {\n    const { rule } = this.props;\n    const { tags = [], sysTags = [], severity } = rule;\n    const allTags = [...tags, ...sysTags];\n\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        overlay={\n          <>\n            <ul className=\"menu\">\n              <li className=\"menu-header\">{translate('coding_rules.filter_similar_rules')}</li>\n              <li>\n                <a data-field=\"language\" href=\"#\" onClick={this.handleLanguageClick}>\n                  {rule.langName}\n                </a>\n              </li>\n\n              <li>\n                <a data-field=\"type\" href=\"#\" onClick={this.handleTypeClick}>\n                  {translate('issue.type', rule.type)}\n                </a>\n              </li>\n\n              {severity && (\n                <li>\n                  <a data-field=\"severity\" href=\"#\" onClick={this.handleSeverityClick}>\n                    <SeverityHelper severity={rule.severity} />\n                  </a>\n                </li>\n              )}\n\n              {allTags.length > 0 && (\n                <>\n                  <li className=\"divider\" />\n                  {allTags.map(tag => (\n                    <li key={tag}>\n                      <a data-field=\"tag\" data-tag={tag} href=\"#\" onClick={this.handleTagClick}>\n                        <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                        <span className=\"text-middle\">{tag}</span>\n                      </a>\n                    </li>\n                  ))}\n                </>\n              )}\n            </ul>\n          </>\n        }>\n        <a\n          className=\"js-rule-filter link-no-underline spacer-left dropdown-toggle\"\n          href=\"#\"\n          title={translate('coding_rules.filter_similar_rules')}>\n          <FilterIcon className=\"icon-half-transparent\" />\n          <DropdownIcon className=\"icon-half-transparent\" />\n        </a>\n      </Dropdown>\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".coding-rules-extended-view .coding-rules-list{display:none}.coding-rules-extended-view .coding-rules-details{display:block}.coding-rules-detail-title{position:relative;display:inline-block;margin:16px 0;font-size:16px;font-weight:400}.coding-rules-detail-quality-profile-parameter{display:block;height:100%;padding-top:0;padding-right:10px}.coding-rules-detail-quality-profile-parameter .key,.coding-rules-detail-quality-profile-parameter .sep,.coding-rules-detail-quality-profile-parameter .value{display:inline;vertical-align:top}.coding-rules-detail-quality-profile-parameter .value{display:inline-block;vertical-align:top;line-height:23px;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace}.coding-rules-detail-quality-profile-parameter+.coding-rules-detail-quality-profile-parameter{margin-top:0}.coding-rules-detail-properties{display:flex;flex-wrap:wrap;align-items:center;margin-top:8px}.coding-rules-detail-properties+.coding-rules-detail-properties{margin-top:-10px}.coding-rules-detail-property{display:flex;align-items:center;margin-right:16px;margin-bottom:8px;font-size:12px}.coding-rules-detail-tag+.coding-rules-detail-tag{margin-left:10px}.coding-rules-detail-tags-change{cursor:pointer}.coding-rules-detail-tags-change:hover span{text-decoration:underline}.coding-rules-detail-tag-edit{line-height:1}.coding-rules-details-tag-edit-cancel{vertical-align:middle}.coding-rules-detail-description{margin:20px 0}.coding-rules-detail-description-extra{margin-top:-10px}.coding-rules-detail-extend-description-form{margin:10px 0}.coding-rules-detail-parameters{width:100%;margin:10px 0 20px}.coding-rules-detail-parameter-name{width:1px;vertical-align:top;padding:5px 10px 5px 0;font-weight:700}.coding-rules-detail-parameter-description{vertical-align:top;padding:5px}.coding-rules-detail-parameter-value{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;word-break:break-all}.coding-rules-detail-list,.coding-rules-detail-quality-profiles{width:100%;line-height:22px}.coding-rules-detail-list td,.coding-rules-detail-quality-profiles td{border-top:1px solid #e6e6e6}.coding-rules-detail-list tr:first-child td,.coding-rules-detail-quality-profiles tr:first-child td{border-top:none}.coding-rules-detail-list-name,.coding-rules-detail-quality-profile-name{vertical-align:top;width:1px;padding:8px 5px 8px 0;font-weight:600;white-space:nowrap}.coding-rules-detail-list-severity,.coding-rules-detail-quality-profile-severity{vertical-align:top;width:1px;padding:8px 5px;white-space:nowrap}.coding-rules-detail-quality-profile-severity i{margin-top:2px}.coding-rules-detail-list-parameters,.coding-rules-detail-quality-profile-parameters{vertical-align:top;padding:8px 5px}.coding-rules-detail-list-actions,.coding-rules-detail-quality-profile-actions{vertical-align:top;width:1px;padding:8px 0 8px 5px;text-align:right;white-space:nowrap}.coding-rules-detail-quality-profile-inheritance{font-size:12px;font-weight:400}.coding-rules-detail-quality-profiles-activation{margin-top:-3px;margin-left:10px}input.coding-rules-name-key{width:100%}textarea.coding-rules-markdown-description{width:100%;margin-bottom:4px}.coding-rules-most-violated-projects td{border-top-color:transparent}.coding-rules-most-violated-projects tr:first-child+tr td{border-top-color:#e6e6e6}.coding-rules-most-violated-projects .coding-rules-detail-list-name{font-weight:400}.coding-rule{padding:8px 10px 8px 8px;border:1px solid transparent;background-color:#fff}.coding-rule.selected{border-color:#4b9fd5!important}.coding-rule+.coding-rule{border-top-color:#e6e6e6}.coding-rule.selected+.coding-rule{border-top-color:transparent}.coding-rule-table{width:100%}.coding-rule-table td{vertical-align:top}.coding-rule-table+.coding-rule-table{margin-top:5px}.coding-rule-table-meta-cell{width:1px;white-space:nowrap}@media (max-width:1320px){.coding-rule-table .tags-list span{max-width:100px}}.coding-rule-title{line-height:20px;font-size:13px}.coding-rule-meta{padding:2px;padding-left:30px;font-size:12px}.coding-rule-activation{width:40px;line-height:19.5px}.coding-rule-activation-actions{padding-left:20px}.coding-rule-section-separator{height:0;margin:10px 0;border-top:1px solid #e6e6e6}\", \"\"]);\n\n// exports\n","module.exports = \"Custom rules are created by administrators from templates, and are the only fully-editable rules.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\ninterface OwnProps {\n  medium?: boolean;\n  large?: boolean;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & OwnProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', { 'modal-medium': props.medium, 'modal-large': props.large })}\n      isOpen={true}\n      overlayClassName=\"modal-overlay\"\n      {...props}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip, { Placement } from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip\n      mouseLeaveDelay={0.25}\n      onShow={props.onShow}\n      overlay={props.overlay}\n      placement={props.placement}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    return (\n      <Modal contentLabel={this.props.header} onRequestClose={this.props.onClose}>\n        {this.props.children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Rule, RuleDetails, RuleActivation } from '../app/types';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: { [rule: string]: RuleActivation[] };\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: RuleActivation[]; rule: RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n"],"sourceRoot":""}